'use strict';

var cov_1le2lcuitm = function () {
  var path = '/Users/hansonw/atom-ide-ui/modules/atom-ide-ui/pkg/atom-ide-diagnostics/spec/LinterAdapter-spec.js',
      hash = 'bac3cfe7234cb7d5ace1e7bb97760fcb0a281894',
      global = new Function('return this')(),
      gcv = '__coverage__',
      coverageData = {
    path: '/Users/hansonw/atom-ide-ui/modules/atom-ide-ui/pkg/atom-ide-diagnostics/spec/LinterAdapter-spec.js',
    statementMap: {
      '0': {
        start: {
          line: 26,
          column: 16
        },
        end: {
          line: 26,
          column: 29
        }
      },
      '1': {
        start: {
          line: 29,
          column: 2
        },
        end: {
          line: 33,
          column: 5
        }
      },
      '2': {
        start: {
          line: 30,
          column: 4
        },
        end: {
          line: 32,
          column: 16
        }
      },
      '3': {
        start: {
          line: 31,
          column: 6
        },
        end: {
          line: 31,
          column: 19
        }
      },
      '4': {
        start: {
          line: 36,
          column: 0
        },
        end: {
          line: 227,
          column: 3
        }
      },
      '5': {
        start: {
          line: 48,
          column: 4
        },
        end: {
          line: 48,
          column: 46
        }
      },
      '6': {
        start: {
          line: 51,
          column: 2
        },
        end: {
          line: 90,
          column: 5
        }
      },
      '7': {
        start: {
          line: 52,
          column: 4
        },
        end: {
          line: 52,
          column: 37
        }
      },
      '8': {
        start: {
          line: 53,
          column: 4
        },
        end: {
          line: 56,
          column: 49
        }
      },
      '9': {
        start: {
          line: 58,
          column: 23
        },
        end: {
          line: 64,
          column: 5
        }
      },
      '10': {
        start: {
          line: 60,
          column: 8
        },
        end: {
          line: 60,
          column: 41
        }
      },
      '11': {
        start: {
          line: 61,
          column: 8
        },
        end: {
          line: 61,
          column: 40
        }
      },
      '12': {
        start: {
          line: 63,
          column: 25
        },
        end: {
          line: 63,
          column: 30
        }
      },
      '13': {
        start: {
          line: 65,
          column: 4
        },
        end: {
          line: 75,
          column: 6
        }
      },
      '14': {
        start: {
          line: 67,
          column: 8
        },
        end: {
          line: 67,
          column: 21
        }
      },
      '15': {
        start: {
          line: 70,
          column: 8
        },
        end: {
          line: 70,
          column: 36
        }
      },
      '16': {
        start: {
          line: 73,
          column: 8
        },
        end: {
          line: 73,
          column: 26
        }
      },
      '17': {
        start: {
          line: 76,
          column: 4
        },
        end: {
          line: 76,
          column: 39
        }
      },
      '18': {
        start: {
          line: 77,
          column: 4
        },
        end: {
          line: 83,
          column: 6
        }
      },
      '19': {
        start: {
          line: 82,
          column: 18
        },
        end: {
          line: 82,
          column: 30
        }
      },
      '20': {
        start: {
          line: 84,
          column: 4
        },
        end: {
          line: 84,
          column: 47
        }
      },
      '21': {
        start: {
          line: 85,
          column: 4
        },
        end: {
          line: 85,
          column: 54
        }
      },
      '22': {
        start: {
          line: 86,
          column: 4
        },
        end: {
          line: 88,
          column: 7
        }
      },
      '23': {
        start: {
          line: 89,
          column: 4
        },
        end: {
          line: 89,
          column: 49
        }
      },
      '24': {
        start: {
          line: 92,
          column: 2
        },
        end: {
          line: 94,
          column: 5
        }
      },
      '25': {
        start: {
          line: 93,
          column: 4
        },
        end: {
          line: 93,
          column: 33
        }
      },
      '26': {
        start: {
          line: 96,
          column: 2
        },
        end: {
          line: 103,
          column: 5
        }
      },
      '27': {
        start: {
          line: 97,
          column: 4
        },
        end: {
          line: 97,
          column: 38
        }
      },
      '28': {
        start: {
          line: 98,
          column: 4
        },
        end: {
          line: 98,
          column: 47
        }
      },
      '29': {
        start: {
          line: 99,
          column: 4
        },
        end: {
          line: 99,
          column: 73
        }
      },
      '30': {
        start: {
          line: 101,
          column: 4
        },
        end: {
          line: 101,
          column: 50
        }
      },
      '31': {
        start: {
          line: 102,
          column: 4
        },
        end: {
          line: 102,
          column: 75
        }
      },
      '32': {
        start: {
          line: 102,
          column: 19
        },
        end: {
          line: 102,
          column: 43
        }
      },
      '33': {
        start: {
          line: 105,
          column: 2
        },
        end: {
          line: 114,
          column: 5
        }
      },
      '34': {
        start: {
          line: 106,
          column: 4
        },
        end: {
          line: 112,
          column: 7
        }
      },
      '35': {
        start: {
          line: 111,
          column: 18
        },
        end: {
          line: 111,
          column: 30
        }
      },
      '36': {
        start: {
          line: 113,
          column: 4
        },
        end: {
          line: 113,
          column: 64
        }
      },
      '37': {
        start: {
          line: 116,
          column: 2
        },
        end: {
          line: 128,
          column: 5
        }
      },
      '38': {
        start: {
          line: 117,
          column: 4
        },
        end: {
          line: 127,
          column: 7
        }
      },
      '39': {
        start: {
          line: 118,
          column: 6
        },
        end: {
          line: 118,
          column: 56
        }
      },
      '40': {
        start: {
          line: 119,
          column: 6
        },
        end: {
          line: 119,
          column: 40
        }
      },
      '41': {
        start: {
          line: 120,
          column: 22
        },
        end: {
          line: 123,
          column: 20
        }
      },
      '42': {
        start: {
          line: 124,
          column: 6
        },
        end: {
          line: 124,
          column: 63
        }
      },
      '43': {
        start: {
          line: 125,
          column: 6
        },
        end: {
          line: 125,
          column: 75
        }
      },
      '44': {
        start: {
          line: 126,
          column: 6
        },
        end: {
          line: 126,
          column: 48
        }
      },
      '45': {
        start: {
          line: 131,
          column: 4
        },
        end: {
          line: 151,
          column: 7
        }
      },
      '46': {
        start: {
          line: 132,
          column: 18
        },
        end: {
          line: 132,
          column: 37
        }
      },
      '47': {
        start: {
          line: 133,
          column: 6
        },
        end: {
          line: 133,
          column: 62
        }
      },
      '48': {
        start: {
          line: 133,
          column: 55
        },
        end: {
          line: 133,
          column: 60
        }
      },
      '49': {
        start: {
          line: 135,
          column: 22
        },
        end: {
          line: 138,
          column: 20
        }
      },
      '50': {
        start: {
          line: 141,
          column: 6
        },
        end: {
          line: 141,
          column: 56
        }
      },
      '51': {
        start: {
          line: 142,
          column: 6
        },
        end: {
          line: 142,
          column: 40
        }
      },
      '52': {
        start: {
          line: 143,
          column: 6
        },
        end: {
          line: 143,
          column: 20
        }
      },
      '53': {
        start: {
          line: 145,
          column: 6
        },
        end: {
          line: 145,
          column: 27
        }
      },
      '54': {
        start: {
          line: 146,
          column: 6
        },
        end: {
          line: 146,
          column: 40
        }
      },
      '55': {
        start: {
          line: 149,
          column: 6
        },
        end: {
          line: 149,
          column: 62
        }
      },
      '56': {
        start: {
          line: 149,
          column: 35
        },
        end: {
          line: 149,
          column: 60
        }
      },
      '57': {
        start: {
          line: 150,
          column: 6
        },
        end: {
          line: 150,
          column: 41
        }
      },
      '58': {
        start: {
          line: 154,
          column: 2
        },
        end: {
          line: 156,
          column: 5
        }
      },
      '59': {
        start: {
          line: 155,
          column: 4
        },
        end: {
          line: 155,
          column: 47
        }
      },
      '60': {
        start: {
          line: 158,
          column: 2
        },
        end: {
          line: 160,
          column: 5
        }
      },
      '61': {
        start: {
          line: 159,
          column: 4
        },
        end: {
          line: 159,
          column: 52
        }
      },
      '62': {
        start: {
          line: 162,
          column: 2
        },
        end: {
          line: 164,
          column: 5
        }
      },
      '63': {
        start: {
          line: 163,
          column: 4
        },
        end: {
          line: 163,
          column: 30
        }
      },
      '64': {
        start: {
          line: 166,
          column: 2
        },
        end: {
          line: 168,
          column: 5
        }
      },
      '65': {
        start: {
          line: 167,
          column: 4
        },
        end: {
          line: 167,
          column: 35
        }
      },
      '66': {
        start: {
          line: 170,
          column: 2
        },
        end: {
          line: 197,
          column: 5
        }
      },
      '67': {
        start: {
          line: 171,
          column: 22
        },
        end: {
          line: 171,
          column: 23
        }
      },
      '68': {
        start: {
          line: 172,
          column: 22
        },
        end: {
          line: 172,
          column: 26
        }
      },
      '69': {
        start: {
          line: 173,
          column: 4
        },
        end: {
          line: 176,
          column: 7
        }
      },
      '70': {
        start: {
          line: 174,
          column: 6
        },
        end: {
          line: 174,
          column: 20
        }
      },
      '71': {
        start: {
          line: 175,
          column: 6
        },
        end: {
          line: 175,
          column: 28
        }
      },
      '72': {
        start: {
          line: 178,
          column: 4
        },
        end: {
          line: 178,
          column: 71
        }
      },
      '73': {
        start: {
          line: 179,
          column: 4
        },
        end: {
          line: 179,
          column: 38
        }
      },
      '74': {
        start: {
          line: 180,
          column: 4
        },
        end: {
          line: 180,
          column: 71
        }
      },
      '75': {
        start: {
          line: 181,
          column: 4
        },
        end: {
          line: 181,
          column: 38
        }
      },
      '76': {
        start: {
          line: 184,
          column: 4
        },
        end: {
          line: 184,
          column: 21
        }
      },
      '77': {
        start: {
          line: 185,
          column: 4
        },
        end: {
          line: 185,
          column: 21
        }
      },
      '78': {
        start: {
          line: 186,
          column: 4
        },
        end: {
          line: 196,
          column: 6
        }
      },
      '79': {
        start: {
          line: 188,
          column: 8
        },
        end: {
          line: 192,
          column: 10
        }
      },
      '80': {
        start: {
          line: 199,
          column: 2
        },
        end: {
          line: 226,
          column: 5
        }
      },
      '81': {
        start: {
          line: 200,
          column: 4
        },
        end: {
          line: 203,
          column: 7
        }
      },
      '82': {
        start: {
          line: 204,
          column: 4
        },
        end: {
          line: 204,
          column: 38
        }
      },
      '83': {
        start: {
          line: 205,
          column: 4
        },
        end: {
          line: 205,
          column: 50
        }
      },
      '84': {
        start: {
          line: 205,
          column: 19
        },
        end: {
          line: 205,
          column: 48
        }
      },
      '85': {
        start: {
          line: 206,
          column: 4
        },
        end: {
          line: 225,
          column: 7
        }
      },
      '86': {
        start: {
          line: 208,
          column: 6
        },
        end: {
          line: 211,
          column: 21
        }
      },
      '87': {
        start: {
          line: 213,
          column: 6
        },
        end: {
          line: 213,
          column: 41
        }
      },
      '88': {
        start: {
          line: 214,
          column: 6
        },
        end: {
          line: 214,
          column: 40
        }
      },
      '89': {
        start: {
          line: 215,
          column: 22
        },
        end: {
          line: 218,
          column: 20
        }
      },
      '90': {
        start: {
          line: 219,
          column: 6
        },
        end: {
          line: 219,
          column: 30
        }
      },
      '91': {
        start: {
          line: 220,
          column: 27
        },
        end: {
          line: 220,
          column: 40
        }
      },
      '92': {
        start: {
          line: 221,
          column: 6
        },
        end: {
          line: 224,
          column: 9
        }
      },
      '93': {
        start: {
          line: 229,
          column: 0
        },
        end: {
          line: 399,
          column: 3
        }
      },
      '94': {
        start: {
          line: 230,
          column: 22
        },
        end: {
          line: 234,
          column: 3
        }
      },
      '95': {
        start: {
          line: 236,
          column: 30
        },
        end: {
          line: 241,
          column: 3
        }
      },
      '96': {
        start: {
          line: 243,
          column: 25
        },
        end: {
          line: 246,
          column: 3
        }
      },
      '97': {
        start: {
          line: 249,
          column: 29
        },
        end: {
          line: 249,
          column: 38
        }
      },
      '98': {
        start: {
          line: 251,
          column: 2
        },
        end: {
          line: 254,
          column: 5
        }
      },
      '99': {
        start: {
          line: 252,
          column: 4
        },
        end: {
          line: 252,
          column: 30
        }
      },
      '100': {
        start: {
          line: 253,
          column: 4
        },
        end: {
          line: 253,
          column: 28
        }
      },
      '101': {
        start: {
          line: 256,
          column: 2
        },
        end: {
          line: 297,
          column: 5
        }
      },
      '102': {
        start: {
          line: 258,
          column: 6
        },
        end: {
          line: 258,
          column: 30
        }
      },
      '103': {
        start: {
          line: 259,
          column: 21
        },
        end: {
          line: 262,
          column: 7
        }
      },
      '104': {
        start: {
          line: 264,
          column: 6
        },
        end: {
          line: 264,
          column: 71
        }
      },
      '105': {
        start: {
          line: 267,
          column: 4
        },
        end: {
          line: 287,
          column: 7
        }
      },
      '106': {
        start: {
          line: 268,
          column: 6
        },
        end: {
          line: 274,
          column: 9
        }
      },
      '107': {
        start: {
          line: 277,
          column: 6
        },
        end: {
          line: 286,
          column: 8
        }
      },
      '108': {
        start: {
          line: 289,
          column: 4
        },
        end: {
          line: 296,
          column: 7
        }
      },
      '109': {
        start: {
          line: 290,
          column: 6
        },
        end: {
          line: 295,
          column: 9
        }
      },
      '110': {
        start: {
          line: 299,
          column: 2
        },
        end: {
          line: 350,
          column: 5
        }
      },
      '111': {
        start: {
          line: 300,
          column: 4
        },
        end: {
          line: 349,
          column: 7
        }
      },
      '112': {
        start: {
          line: 301,
          column: 6
        },
        end: {
          line: 348,
          column: 9
        }
      },
      '113': {
        start: {
          line: 352,
          column: 2
        },
        end: {
          line: 398,
          column: 5
        }
      },
      '114': {
        start: {
          line: 354,
          column: 6
        },
        end: {
          line: 358,
          column: 8
        }
      },
      '115': {
        start: {
          line: 361,
          column: 4
        },
        end: {
          line: 365,
          column: 7
        }
      },
      '116': {
        start: {
          line: 362,
          column: 21
        },
        end: {
          line: 362,
          column: 32
        }
      },
      '117': {
        start: {
          line: 363,
          column: 6
        },
        end: {
          line: 363,
          column: 43
        }
      },
      '118': {
        start: {
          line: 364,
          column: 6
        },
        end: {
          line: 364,
          column: 69
        }
      },
      '119': {
        start: {
          line: 367,
          column: 4
        },
        end: {
          line: 374,
          column: 7
        }
      },
      '120': {
        start: {
          line: 368,
          column: 21
        },
        end: {
          line: 368,
          column: 43
        }
      },
      '121': {
        start: {
          line: 369,
          column: 6
        },
        end: {
          line: 369,
          column: 43
        }
      },
      '122': {
        start: {
          line: 370,
          column: 23
        },
        end: {
          line: 370,
          column: 74
        }
      },
      '123': {
        start: {
          line: 371,
          column: 6
        },
        end: {
          line: 371,
          column: 34
        }
      },
      '124': {
        start: {
          line: 372,
          column: 28
        },
        end: {
          line: 372,
          column: 39
        }
      },
      '125': {
        start: {
          line: 373,
          column: 6
        },
        end: {
          line: 373,
          column: 61
        }
      },
      '126': {
        start: {
          line: 376,
          column: 4
        },
        end: {
          line: 385,
          column: 7
        }
      },
      '127': {
        start: {
          line: 377,
          column: 21
        },
        end: {
          line: 377,
          column: 51
        }
      },
      '128': {
        start: {
          line: 378,
          column: 6
        },
        end: {
          line: 378,
          column: 43
        }
      },
      '129': {
        start: {
          line: 379,
          column: 23
        },
        end: {
          line: 381,
          column: 7
        }
      },
      '130': {
        start: {
          line: 382,
          column: 6
        },
        end: {
          line: 382,
          column: 34
        }
      },
      '131': {
        start: {
          line: 383,
          column: 28
        },
        end: {
          line: 383,
          column: 39
        }
      },
      '132': {
        start: {
          line: 384,
          column: 6
        },
        end: {
          line: 384,
          column: 71
        }
      },
      '133': {
        start: {
          line: 387,
          column: 4
        },
        end: {
          line: 397,
          column: 7
        }
      },
      '134': {
        start: {
          line: 388,
          column: 21
        },
        end: {
          line: 388,
          column: 59
        }
      },
      '135': {
        start: {
          line: 389,
          column: 6
        },
        end: {
          line: 389,
          column: 43
        }
      },
      '136': {
        start: {
          line: 392,
          column: 23
        },
        end: {
          line: 392,
          column: 74
        }
      },
      '137': {
        start: {
          line: 393,
          column: 6
        },
        end: {
          line: 393,
          column: 34
        }
      },
      '138': {
        start: {
          line: 394,
          column: 6
        },
        end: {
          line: 394,
          column: 41
        }
      },
      '139': {
        start: {
          line: 395,
          column: 6
        },
        end: {
          line: 395,
          column: 40
        }
      },
      '140': {
        start: {
          line: 396,
          column: 6
        },
        end: {
          line: 396,
          column: 55
        }
      }
    },
    fnMap: {
      '0': {
        name: 'makePromise',
        decl: {
          start: {
            line: 28,
            column: 9
          },
          end: {
            line: 28,
            column: 20
          }
        },
        loc: {
          start: {
            line: 28,
            column: 61
          },
          end: {
            line: 34,
            column: 1
          }
        },
        line: 28
      },
      '1': {
        name: '(anonymous_1)',
        decl: {
          start: {
            line: 29,
            column: 21
          },
          end: {
            line: 29,
            column: 22
          }
        },
        loc: {
          start: {
            line: 29,
            column: 32
          },
          end: {
            line: 33,
            column: 3
          }
        },
        line: 29
      },
      '2': {
        name: '(anonymous_2)',
        decl: {
          start: {
            line: 30,
            column: 15
          },
          end: {
            line: 30,
            column: 16
          }
        },
        loc: {
          start: {
            line: 30,
            column: 21
          },
          end: {
            line: 32,
            column: 5
          }
        },
        line: 30
      },
      '3': {
        name: '(anonymous_3)',
        decl: {
          start: {
            line: 36,
            column: 26
          },
          end: {
            line: 36,
            column: 27
          }
        },
        loc: {
          start: {
            line: 36,
            column: 32
          },
          end: {
            line: 227,
            column: 1
          }
        },
        line: 36
      },
      '4': {
        name: 'newLinterAdapter',
        decl: {
          start: {
            line: 47,
            column: 11
          },
          end: {
            line: 47,
            column: 27
          }
        },
        loc: {
          start: {
            line: 47,
            column: 52
          },
          end: {
            line: 49,
            column: 3
          }
        },
        line: 47
      },
      '5': {
        name: '(anonymous_5)',
        decl: {
          start: {
            line: 51,
            column: 13
          },
          end: {
            line: 51,
            column: 14
          }
        },
        loc: {
          start: {
            line: 51,
            column: 19
          },
          end: {
            line: 90,
            column: 3
          }
        },
        line: 51
      },
      '6': {
        name: '(anonymous_6)',
        decl: {
          start: {
            line: 61,
            column: 30
          },
          end: {
            line: 61,
            column: 31
          }
        },
        loc: {
          start: {
            line: 61,
            column: 36
          },
          end: {
            line: 61,
            column: 38
          }
        },
        line: 61
      },
      '7': {
        name: '(anonymous_7)',
        decl: {
          start: {
            line: 63,
            column: 19
          },
          end: {
            line: 63,
            column: 20
          }
        },
        loc: {
          start: {
            line: 63,
            column: 25
          },
          end: {
            line: 63,
            column: 30
          }
        },
        line: 63
      },
      '8': {
        name: '(anonymous_8)',
        decl: {
          start: {
            line: 82,
            column: 12
          },
          end: {
            line: 82,
            column: 13
          }
        },
        loc: {
          start: {
            line: 82,
            column: 18
          },
          end: {
            line: 82,
            column: 30
          }
        },
        line: 82
      },
      '9': {
        name: '(anonymous_9)',
        decl: {
          start: {
            line: 92,
            column: 12
          },
          end: {
            line: 92,
            column: 13
          }
        },
        loc: {
          start: {
            line: 92,
            column: 18
          },
          end: {
            line: 94,
            column: 3
          }
        },
        line: 92
      },
      '10': {
        name: '(anonymous_10)',
        decl: {
          start: {
            line: 96,
            column: 47
          },
          end: {
            line: 96,
            column: 48
          }
        },
        loc: {
          start: {
            line: 96,
            column: 53
          },
          end: {
            line: 103,
            column: 3
          }
        },
        line: 96
      },
      '11': {
        name: '(anonymous_11)',
        decl: {
          start: {
            line: 102,
            column: 13
          },
          end: {
            line: 102,
            column: 14
          }
        },
        loc: {
          start: {
            line: 102,
            column: 19
          },
          end: {
            line: 102,
            column: 43
          }
        },
        line: 102
      },
      '12': {
        name: '(anonymous_12)',
        decl: {
          start: {
            line: 105,
            column: 61
          },
          end: {
            line: 105,
            column: 62
          }
        },
        loc: {
          start: {
            line: 105,
            column: 67
          },
          end: {
            line: 114,
            column: 3
          }
        },
        line: 105
      },
      '13': {
        name: '(anonymous_13)',
        decl: {
          start: {
            line: 111,
            column: 12
          },
          end: {
            line: 111,
            column: 13
          }
        },
        loc: {
          start: {
            line: 111,
            column: 18
          },
          end: {
            line: 111,
            column: 30
          }
        },
        line: 111
      },
      '14': {
        name: '(anonymous_14)',
        decl: {
          start: {
            line: 116,
            column: 51
          },
          end: {
            line: 116,
            column: 52
          }
        },
        loc: {
          start: {
            line: 116,
            column: 57
          },
          end: {
            line: 128,
            column: 3
          }
        },
        line: 116
      },
      '15': {
        name: '(anonymous_15)',
        decl: {
          start: {
            line: 117,
            column: 20
          },
          end: {
            line: 117,
            column: 21
          }
        },
        loc: {
          start: {
            line: 117,
            column: 32
          },
          end: {
            line: 127,
            column: 5
          }
        },
        line: 117
      },
      '16': {
        name: 'shouldNotInvalidate',
        decl: {
          start: {
            line: 130,
            column: 11
          },
          end: {
            line: 130,
            column: 30
          }
        },
        loc: {
          start: {
            line: 130,
            column: 38
          },
          end: {
            line: 152,
            column: 3
          }
        },
        line: 130
      },
      '17': {
        name: '(anonymous_17)',
        decl: {
          start: {
            line: 131,
            column: 20
          },
          end: {
            line: 131,
            column: 21
          }
        },
        loc: {
          start: {
            line: 131,
            column: 32
          },
          end: {
            line: 151,
            column: 5
          }
        },
        line: 131
      },
      '18': {
        name: '(anonymous_18)',
        decl: {
          start: {
            line: 133,
            column: 49
          },
          end: {
            line: 133,
            column: 50
          }
        },
        loc: {
          start: {
            line: 133,
            column: 55
          },
          end: {
            line: 133,
            column: 60
          }
        },
        line: 133
      },
      '19': {
        name: '(anonymous_19)',
        decl: {
          start: {
            line: 149,
            column: 24
          },
          end: {
            line: 149,
            column: 25
          }
        },
        loc: {
          start: {
            line: 149,
            column: 35
          },
          end: {
            line: 149,
            column: 60
          }
        },
        line: 149
      },
      '20': {
        name: '(anonymous_20)',
        decl: {
          start: {
            line: 154,
            column: 75
          },
          end: {
            line: 154,
            column: 76
          }
        },
        loc: {
          start: {
            line: 154,
            column: 81
          },
          end: {
            line: 156,
            column: 3
          }
        },
        line: 154
      },
      '21': {
        name: '(anonymous_21)',
        decl: {
          start: {
            line: 158,
            column: 80
          },
          end: {
            line: 158,
            column: 81
          }
        },
        loc: {
          start: {
            line: 158,
            column: 86
          },
          end: {
            line: 160,
            column: 3
          }
        },
        line: 158
      },
      '22': {
        name: '(anonymous_22)',
        decl: {
          start: {
            line: 162,
            column: 71
          },
          end: {
            line: 162,
            column: 72
          }
        },
        loc: {
          start: {
            line: 162,
            column: 77
          },
          end: {
            line: 164,
            column: 3
          }
        },
        line: 162
      },
      '23': {
        name: '(anonymous_23)',
        decl: {
          start: {
            line: 166,
            column: 76
          },
          end: {
            line: 166,
            column: 77
          }
        },
        loc: {
          start: {
            line: 166,
            column: 82
          },
          end: {
            line: 168,
            column: 3
          }
        },
        line: 166
      },
      '24': {
        name: '(anonymous_24)',
        decl: {
          start: {
            line: 170,
            column: 35
          },
          end: {
            line: 170,
            column: 36
          }
        },
        loc: {
          start: {
            line: 170,
            column: 41
          },
          end: {
            line: 197,
            column: 3
          }
        },
        line: 170
      },
      '25': {
        name: '(anonymous_25)',
        decl: {
          start: {
            line: 173,
            column: 41
          },
          end: {
            line: 173,
            column: 42
          }
        },
        loc: {
          start: {
            line: 173,
            column: 52
          },
          end: {
            line: 176,
            column: 5
          }
        },
        line: 173
      },
      '26': {
        name: '(anonymous_26)',
        decl: {
          start: {
            line: 187,
            column: 6
          },
          end: {
            line: 187,
            column: 7
          }
        },
        loc: {
          start: {
            line: 187,
            column: 12
          },
          end: {
            line: 193,
            column: 7
          }
        },
        line: 187
      },
      '27': {
        name: '(anonymous_27)',
        decl: {
          start: {
            line: 199,
            column: 35
          },
          end: {
            line: 199,
            column: 36
          }
        },
        loc: {
          start: {
            line: 199,
            column: 41
          },
          end: {
            line: 226,
            column: 3
          }
        },
        line: 199
      },
      '28': {
        name: '(anonymous_28)',
        decl: {
          start: {
            line: 205,
            column: 13
          },
          end: {
            line: 205,
            column: 14
          }
        },
        loc: {
          start: {
            line: 205,
            column: 19
          },
          end: {
            line: 205,
            column: 48
          }
        },
        line: 205
      },
      '29': {
        name: '(anonymous_29)',
        decl: {
          start: {
            line: 206,
            column: 20
          },
          end: {
            line: 206,
            column: 21
          }
        },
        loc: {
          start: {
            line: 206,
            column: 32
          },
          end: {
            line: 225,
            column: 5
          }
        },
        line: 206
      },
      '30': {
        name: '(anonymous_30)',
        decl: {
          start: {
            line: 229,
            column: 45
          },
          end: {
            line: 229,
            column: 46
          }
        },
        loc: {
          start: {
            line: 229,
            column: 51
          },
          end: {
            line: 399,
            column: 1
          }
        },
        line: 229
      },
      '31': {
        name: '(anonymous_31)',
        decl: {
          start: {
            line: 251,
            column: 13
          },
          end: {
            line: 251,
            column: 14
          }
        },
        loc: {
          start: {
            line: 251,
            column: 19
          },
          end: {
            line: 254,
            column: 3
          }
        },
        line: 251
      },
      '32': {
        name: '(anonymous_32)',
        decl: {
          start: {
            line: 256,
            column: 47
          },
          end: {
            line: 256,
            column: 48
          }
        },
        loc: {
          start: {
            line: 256,
            column: 53
          },
          end: {
            line: 297,
            column: 3
          }
        },
        line: 256
      },
      '33': {
        name: 'checkMessage',
        decl: {
          start: {
            line: 257,
            column: 13
          },
          end: {
            line: 257,
            column: 25
          }
        },
        loc: {
          start: {
            line: 257,
            column: 51
          },
          end: {
            line: 265,
            column: 5
          }
        },
        line: 257
      },
      '34': {
        name: '(anonymous_34)',
        decl: {
          start: {
            line: 267,
            column: 77
          },
          end: {
            line: 267,
            column: 78
          }
        },
        loc: {
          start: {
            line: 267,
            column: 83
          },
          end: {
            line: 287,
            column: 5
          }
        },
        line: 267
      },
      '35': {
        name: '(anonymous_35)',
        decl: {
          start: {
            line: 289,
            column: 83
          },
          end: {
            line: 289,
            column: 84
          }
        },
        loc: {
          start: {
            line: 289,
            column: 89
          },
          end: {
            line: 296,
            column: 5
          }
        },
        line: 289
      },
      '36': {
        name: '(anonymous_36)',
        decl: {
          start: {
            line: 299,
            column: 49
          },
          end: {
            line: 299,
            column: 50
          }
        },
        loc: {
          start: {
            line: 299,
            column: 55
          },
          end: {
            line: 350,
            column: 3
          }
        },
        line: 299
      },
      '37': {
        name: '(anonymous_37)',
        decl: {
          start: {
            line: 300,
            column: 44
          },
          end: {
            line: 300,
            column: 45
          }
        },
        loc: {
          start: {
            line: 300,
            column: 50
          },
          end: {
            line: 349,
            column: 5
          }
        },
        line: 300
      },
      '38': {
        name: '(anonymous_38)',
        decl: {
          start: {
            line: 352,
            column: 47
          },
          end: {
            line: 352,
            column: 48
          }
        },
        loc: {
          start: {
            line: 352,
            column: 53
          },
          end: {
            line: 398,
            column: 3
          }
        },
        line: 352
      },
      '39': {
        name: 'runWith',
        decl: {
          start: {
            line: 353,
            column: 13
          },
          end: {
            line: 353,
            column: 20
          }
        },
        loc: {
          start: {
            line: 353,
            column: 37
          },
          end: {
            line: 359,
            column: 5
          }
        },
        line: 353
      },
      '40': {
        name: '(anonymous_40)',
        decl: {
          start: {
            line: 361,
            column: 60
          },
          end: {
            line: 361,
            column: 61
          }
        },
        loc: {
          start: {
            line: 361,
            column: 66
          },
          end: {
            line: 365,
            column: 5
          }
        },
        line: 361
      },
      '41': {
        name: '(anonymous_41)',
        decl: {
          start: {
            line: 367,
            column: 82
          },
          end: {
            line: 367,
            column: 83
          }
        },
        loc: {
          start: {
            line: 367,
            column: 88
          },
          end: {
            line: 374,
            column: 5
          }
        },
        line: 367
      },
      '42': {
        name: '(anonymous_42)',
        decl: {
          start: {
            line: 376,
            column: 75
          },
          end: {
            line: 376,
            column: 76
          }
        },
        loc: {
          start: {
            line: 376,
            column: 81
          },
          end: {
            line: 385,
            column: 5
          }
        },
        line: 376
      },
      '43': {
        name: '(anonymous_43)',
        decl: {
          start: {
            line: 387,
            column: 65
          },
          end: {
            line: 387,
            column: 66
          }
        },
        loc: {
          start: {
            line: 387,
            column: 71
          },
          end: {
            line: 397,
            column: 5
          }
        },
        line: 387
      }
    },
    branchMap: {
      '0': {
        loc: {
          start: {
            line: 189,
            column: 10
          },
          end: {
            line: 191,
            column: 51
          }
        },
        type: 'binary-expr',
        locations: [{
          start: {
            line: 189,
            column: 10
          },
          end: {
            line: 189,
            column: 27
          }
        }, {
          start: {
            line: 190,
            column: 10
          },
          end: {
            line: 190,
            column: 21
          }
        }, {
          start: {
            line: 191,
            column: 10
          },
          end: {
            line: 191,
            column: 51
          }
        }],
        line: 189
      }
    },
    s: {
      '0': 0,
      '1': 0,
      '2': 0,
      '3': 0,
      '4': 0,
      '5': 0,
      '6': 0,
      '7': 0,
      '8': 0,
      '9': 0,
      '10': 0,
      '11': 0,
      '12': 0,
      '13': 0,
      '14': 0,
      '15': 0,
      '16': 0,
      '17': 0,
      '18': 0,
      '19': 0,
      '20': 0,
      '21': 0,
      '22': 0,
      '23': 0,
      '24': 0,
      '25': 0,
      '26': 0,
      '27': 0,
      '28': 0,
      '29': 0,
      '30': 0,
      '31': 0,
      '32': 0,
      '33': 0,
      '34': 0,
      '35': 0,
      '36': 0,
      '37': 0,
      '38': 0,
      '39': 0,
      '40': 0,
      '41': 0,
      '42': 0,
      '43': 0,
      '44': 0,
      '45': 0,
      '46': 0,
      '47': 0,
      '48': 0,
      '49': 0,
      '50': 0,
      '51': 0,
      '52': 0,
      '53': 0,
      '54': 0,
      '55': 0,
      '56': 0,
      '57': 0,
      '58': 0,
      '59': 0,
      '60': 0,
      '61': 0,
      '62': 0,
      '63': 0,
      '64': 0,
      '65': 0,
      '66': 0,
      '67': 0,
      '68': 0,
      '69': 0,
      '70': 0,
      '71': 0,
      '72': 0,
      '73': 0,
      '74': 0,
      '75': 0,
      '76': 0,
      '77': 0,
      '78': 0,
      '79': 0,
      '80': 0,
      '81': 0,
      '82': 0,
      '83': 0,
      '84': 0,
      '85': 0,
      '86': 0,
      '87': 0,
      '88': 0,
      '89': 0,
      '90': 0,
      '91': 0,
      '92': 0,
      '93': 0,
      '94': 0,
      '95': 0,
      '96': 0,
      '97': 0,
      '98': 0,
      '99': 0,
      '100': 0,
      '101': 0,
      '102': 0,
      '103': 0,
      '104': 0,
      '105': 0,
      '106': 0,
      '107': 0,
      '108': 0,
      '109': 0,
      '110': 0,
      '111': 0,
      '112': 0,
      '113': 0,
      '114': 0,
      '115': 0,
      '116': 0,
      '117': 0,
      '118': 0,
      '119': 0,
      '120': 0,
      '121': 0,
      '122': 0,
      '123': 0,
      '124': 0,
      '125': 0,
      '126': 0,
      '127': 0,
      '128': 0,
      '129': 0,
      '130': 0,
      '131': 0,
      '132': 0,
      '133': 0,
      '134': 0,
      '135': 0,
      '136': 0,
      '137': 0,
      '138': 0,
      '139': 0,
      '140': 0
    },
    f: {
      '0': 0,
      '1': 0,
      '2': 0,
      '3': 0,
      '4': 0,
      '5': 0,
      '6': 0,
      '7': 0,
      '8': 0,
      '9': 0,
      '10': 0,
      '11': 0,
      '12': 0,
      '13': 0,
      '14': 0,
      '15': 0,
      '16': 0,
      '17': 0,
      '18': 0,
      '19': 0,
      '20': 0,
      '21': 0,
      '22': 0,
      '23': 0,
      '24': 0,
      '25': 0,
      '26': 0,
      '27': 0,
      '28': 0,
      '29': 0,
      '30': 0,
      '31': 0,
      '32': 0,
      '33': 0,
      '34': 0,
      '35': 0,
      '36': 0,
      '37': 0,
      '38': 0,
      '39': 0,
      '40': 0,
      '41': 0,
      '42': 0,
      '43': 0
    },
    b: {
      '0': [0, 0, 0]
    },
    _coverageSchema: '332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'
  },
      coverage = global[gcv] || (global[gcv] = {});

  if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }

  coverageData.hash = hash;
  return coverage[path] = coverageData;
}();

var _asyncToGenerator = _interopRequireDefault(require('async-to-generator'));

var _atom = require('atom');

var _rxjsBundlesRxMinJs = require('rxjs/bundles/Rx.min.js');

var _LinterAdapter;

function _load_LinterAdapter() {
  return _LinterAdapter = require('../lib/services/LinterAdapter');
}

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Copyright (c) 2017-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * 
 * @format
 */

const grammar = (cov_1le2lcuitm.s[0]++, 'testgrammar');

function makePromise(ret, timeout) {
  cov_1le2lcuitm.f[0]++;
  cov_1le2lcuitm.s[1]++;

  return new Promise(resolve => {
    cov_1le2lcuitm.f[1]++;
    cov_1le2lcuitm.s[2]++;

    setTimeout(() => {
      cov_1le2lcuitm.f[2]++;
      cov_1le2lcuitm.s[3]++;

      resolve(ret);
    }, timeout);
  });
}

cov_1le2lcuitm.s[4]++;
describe('LinterAdapter', () => {
  cov_1le2lcuitm.f[3]++;

  let fakeLinter;
  let linterAdapter;
  let linterReturn;
  let fakeEditor;
  let bufferDestroyCallback;
  let textEventSubject;
  let textEventSpy;
  let busySpy;
  let busyDisposeSpy;

  function newLinterAdapter(linter) {
    cov_1le2lcuitm.f[4]++;
    cov_1le2lcuitm.s[5]++;

    return new (_LinterAdapter || _load_LinterAdapter()).LinterAdapter(linter, busySpy);
  }

  cov_1le2lcuitm.s[6]++;
  beforeEach(() => {
    cov_1le2lcuitm.f[5]++;
    cov_1le2lcuitm.s[7]++;

    textEventSubject = new _rxjsBundlesRxMinJs.Subject();
    cov_1le2lcuitm.s[8]++;
    textEventSpy = spyOn(require('nuclide-commons-atom/text-event'), 'observeTextEditorEvents').andReturn(textEventSubject.asObservable());

    const fakeBuffer = (cov_1le2lcuitm.s[9]++, {
      onDidDestroy(callback) {
        cov_1le2lcuitm.s[10]++;

        bufferDestroyCallback = callback;
        cov_1le2lcuitm.s[11]++;
        return new _atom.Disposable(() => {
          cov_1le2lcuitm.f[6]++;
        });
      },
      isDestroyed: () => {
        cov_1le2lcuitm.f[7]++;
        cov_1le2lcuitm.s[12]++;
        return false;
      }
    });
    cov_1le2lcuitm.s[13]++;
    fakeEditor = {
      getPath() {
        cov_1le2lcuitm.s[14]++;

        return 'foo';
      },
      getGrammar() {
        cov_1le2lcuitm.s[15]++;

        return { scopeName: grammar };
      },
      getBuffer() {
        cov_1le2lcuitm.s[16]++;

        return fakeBuffer;
      }
    };
    cov_1le2lcuitm.s[17]++;
    linterReturn = Promise.resolve([]);
    cov_1le2lcuitm.s[18]++;
    fakeLinter = {
      name: 'fakeLinter',
      grammarScopes: [grammar],
      scope: 'file',
      lintsOnChange: true,
      lint: () => {
        cov_1le2lcuitm.f[8]++;
        cov_1le2lcuitm.s[19]++;
        return linterReturn;
      }
    };
    cov_1le2lcuitm.s[20]++;
    spyOn(fakeLinter, 'lint').andCallThrough();
    cov_1le2lcuitm.s[21]++;
    busyDisposeSpy = jasmine.createSpy('busyDispose');
    cov_1le2lcuitm.s[22]++;
    busySpy = jasmine.createSpy('reportBusy').andReturn({
      dispose: busyDisposeSpy
    });
    cov_1le2lcuitm.s[23]++;
    linterAdapter = newLinterAdapter(fakeLinter);
  });

  cov_1le2lcuitm.s[24]++;
  afterEach(() => {
    cov_1le2lcuitm.f[9]++;
    cov_1le2lcuitm.s[25]++;

    bufferDestroyCallback = null;
  });

  cov_1le2lcuitm.s[26]++;
  it('should dispatch the linter on an event', () => {
    cov_1le2lcuitm.f[10]++;
    cov_1le2lcuitm.s[27]++;

    textEventSubject.next(fakeEditor);
    cov_1le2lcuitm.s[28]++;
    expect(fakeLinter.lint).toHaveBeenCalled();
    cov_1le2lcuitm.s[29]++;
    expect(busySpy).toHaveBeenCalledWith('fakeLinter: running on "foo"');
    // `lint` is a promise, so the busy signal should stay active.
    cov_1le2lcuitm.s[30]++;
    expect(busyDisposeSpy).not.toHaveBeenCalled();
    cov_1le2lcuitm.s[31]++;
    waitsFor(() => {
      cov_1le2lcuitm.f[11]++;
      cov_1le2lcuitm.s[32]++;
      return busyDisposeSpy.wasCalled;
    }, 'busy signal to be disposed');
  });

  cov_1le2lcuitm.s[33]++;
  it("should subscribe to 'all' when * is in grammarScopes", () => {
    cov_1le2lcuitm.f[12]++;
    cov_1le2lcuitm.s[34]++;

    newLinterAdapter({
      name: 'linter',
      grammarScopes: ['*'],
      scope: 'file',
      lintsOnChange: true,
      lint: () => {
        cov_1le2lcuitm.f[13]++;
        cov_1le2lcuitm.s[35]++;
        return linterReturn;
      }
    });
    cov_1le2lcuitm.s[36]++;
    expect(textEventSpy).toHaveBeenCalledWith('all', 'changes');
  });

  cov_1le2lcuitm.s[37]++;
  it('should work when the linter is synchronous', () => {
    cov_1le2lcuitm.f[14]++;
    cov_1le2lcuitm.s[38]++;

    waitsForPromise((0, _asyncToGenerator.default)(function* () {
      cov_1le2lcuitm.f[15]++;
      cov_1le2lcuitm.s[39]++;

      linterReturn = [{ type: 'Error', filePath: 'foo' }];
      cov_1le2lcuitm.s[40]++;
      textEventSubject.next(fakeEditor);
      const message = (cov_1le2lcuitm.s[41]++, yield linterAdapter.getUpdates().take(1).toPromise());
      cov_1le2lcuitm.s[42]++;
      expect(message.filePathToMessages.has('foo')).toBe(true);
      cov_1le2lcuitm.s[43]++;
      expect(busySpy).toHaveBeenCalledWith('fakeLinter: running on "foo"');
      cov_1le2lcuitm.s[44]++;
      expect(busyDisposeSpy).toHaveBeenCalled();
    }));
  });

  function shouldNotInvalidate(value) {
    cov_1le2lcuitm.f[16]++;
    cov_1le2lcuitm.s[45]++;

    waitsForPromise((0, _asyncToGenerator.default)(function* () {
      cov_1le2lcuitm.f[17]++;

      const spy = (cov_1le2lcuitm.s[46]++, jasmine.createSpy());
      cov_1le2lcuitm.s[47]++;
      linterAdapter.getInvalidations().subscribe(function () {
        cov_1le2lcuitm.f[18]++;
        cov_1le2lcuitm.s[48]++;
        return spy();
      });

      const promise = (cov_1le2lcuitm.s[49]++, linterAdapter.getUpdates().take(1).toPromise());

      // Populate the result.
      cov_1le2lcuitm.s[50]++;
      linterReturn = [{ type: 'Error', filePath: 'foo' }];
      cov_1le2lcuitm.s[51]++;
      textEventSubject.next(fakeEditor);
      cov_1le2lcuitm.s[52]++;
      yield promise;

      cov_1le2lcuitm.s[53]++;
      linterReturn = value;
      cov_1le2lcuitm.s[54]++;
      textEventSubject.next(fakeEditor);

      // This is tricky - the result resolves on the next tick.
      cov_1le2lcuitm.s[55]++;
      yield new Promise(function (resolve) {
        cov_1le2lcuitm.f[19]++;
        cov_1le2lcuitm.s[56]++;
        return process.nextTick(resolve);
      });
      cov_1le2lcuitm.s[57]++;
      expect(spy).not.toHaveBeenCalled();
    }));
  }

  cov_1le2lcuitm.s[58]++;
  it('should not invalidate previous result when linter resolves to null', () => {
    cov_1le2lcuitm.f[20]++;
    cov_1le2lcuitm.s[59]++;

    shouldNotInvalidate(Promise.resolve(null));
  });

  cov_1le2lcuitm.s[60]++;
  it('should not invalidate previous result when linter resolves to undefined', () => {
    cov_1le2lcuitm.f[21]++;
    cov_1le2lcuitm.s[61]++;

    shouldNotInvalidate(Promise.resolve(undefined));
  });

  cov_1le2lcuitm.s[62]++;
  it('should not invalidate previous result when linter returns null', () => {
    cov_1le2lcuitm.f[22]++;
    cov_1le2lcuitm.s[63]++;

    shouldNotInvalidate(null);
  });

  cov_1le2lcuitm.s[64]++;
  it('should not invalidate previous result when linter returns undefined', () => {
    cov_1le2lcuitm.f[23]++;
    cov_1le2lcuitm.s[65]++;

    shouldNotInvalidate(undefined);
  });

  cov_1le2lcuitm.s[66]++;
  it('should not reorder results', () => {
    cov_1le2lcuitm.f[24]++;

    let numMessages = (cov_1le2lcuitm.s[67]++, 0);
    let lastMessage = (cov_1le2lcuitm.s[68]++, null);
    cov_1le2lcuitm.s[69]++;
    linterAdapter.getUpdates().subscribe(message => {
      cov_1le2lcuitm.f[25]++;
      cov_1le2lcuitm.s[70]++;

      numMessages++;
      cov_1le2lcuitm.s[71]++;
      lastMessage = message;
    });
    // Dispatch two linter requests.
    cov_1le2lcuitm.s[72]++;
    linterReturn = makePromise([{ type: 'Error', filePath: 'bar' }], 50);
    cov_1le2lcuitm.s[73]++;
    textEventSubject.next(fakeEditor);
    cov_1le2lcuitm.s[74]++;
    linterReturn = makePromise([{ type: 'Error', filePath: 'baz' }], 10);
    cov_1le2lcuitm.s[75]++;
    textEventSubject.next(fakeEditor);
    // If we call it once with a larger value, the first promise will resolve
    // first, even though the timeout is larger
    cov_1le2lcuitm.s[76]++;
    advanceClock(30);
    cov_1le2lcuitm.s[77]++;
    advanceClock(30);
    cov_1le2lcuitm.s[78]++;
    waitsFor(() => {
      cov_1le2lcuitm.f[26]++;
      cov_1le2lcuitm.s[79]++;

      return (cov_1le2lcuitm.b[0][0]++, numMessages === 1) && (cov_1le2lcuitm.b[0][1]++, lastMessage) && (cov_1le2lcuitm.b[0][2]++, lastMessage.filePathToMessages.has('baz'));
    }, 'There should be only the latest message', 100);
  });

  cov_1le2lcuitm.s[80]++;
  it('invalidates files on close', () => {
    cov_1le2lcuitm.f[27]++;
    cov_1le2lcuitm.s[81]++;

    linterReturn = Promise.resolve([{ type: 'Error', filePath: 'foo' }, { type: 'Error', filePath: 'bar' }]);
    cov_1le2lcuitm.s[82]++;
    textEventSubject.next(fakeEditor);
    cov_1le2lcuitm.s[83]++;
    waitsFor(() => {
      cov_1le2lcuitm.f[28]++;
      cov_1le2lcuitm.s[84]++;
      return bufferDestroyCallback != null;
    });
    cov_1le2lcuitm.s[85]++;
    waitsForPromise((0, _asyncToGenerator.default)(function* () {
      cov_1le2lcuitm.f[29]++;
      cov_1le2lcuitm.s[86]++;

      // Wait for the first lint to finish.
      yield linterAdapter.getUpdates().take(1).toPromise();
      // Start a pending lint.
      cov_1le2lcuitm.s[87]++;
      linterReturn = makePromise([], 10);
      cov_1le2lcuitm.s[88]++;
      textEventSubject.next(fakeEditor);
      const promise = (cov_1le2lcuitm.s[89]++, linterAdapter.getInvalidations().take(1).toPromise());
      cov_1le2lcuitm.s[90]++;
      bufferDestroyCallback();
      const invalidation = (cov_1le2lcuitm.s[91]++, yield promise);
      cov_1le2lcuitm.s[92]++;
      expect(invalidation).toEqual({
        scope: 'file',
        filePaths: ['foo', 'bar']
      });
    }));
  });
});

cov_1le2lcuitm.s[93]++;
describe('message transformation functions', () => {
  cov_1le2lcuitm.f[30]++;

  const fileMessage = (cov_1le2lcuitm.s[94]++, {
    type: 'Error',
    text: 'Uh oh',
    filePath: '/fu/bar'
  });

  const fileMessageWithName = (cov_1le2lcuitm.s[95]++, {
    type: 'Error',
    text: 'Uh oh',
    filePath: '/fu/bar',
    name: 'Custom Linter Name'
  });

  const projectMessage = (cov_1le2lcuitm.s[96]++, {
    type: 'Warning',
    text: 'Oh no!'
  });

  let providerName;
  let currentPath = (cov_1le2lcuitm.s[97]++, null);

  cov_1le2lcuitm.s[98]++;
  beforeEach(() => {
    cov_1le2lcuitm.f[31]++;
    cov_1le2lcuitm.s[99]++;

    providerName = 'provider';
    cov_1le2lcuitm.s[100]++;
    currentPath = 'foo/bar';
  });

  cov_1le2lcuitm.s[101]++;
  describe('linterMessageToDiagnosticMessage', () => {
    cov_1le2lcuitm.f[32]++;

    function checkMessage(linterMessage, expected) {
      cov_1le2lcuitm.f[33]++;
      cov_1le2lcuitm.s[102]++;

      if (!providerName) {
        throw new Error('Invariant violation: "providerName"');
      }

      const actual = (cov_1le2lcuitm.s[103]++, (0, (_LinterAdapter || _load_LinterAdapter()).linterMessageToDiagnosticMessage)(linterMessage, providerName));
      // This filters out any undefined values.
      cov_1le2lcuitm.s[104]++;
      expect(JSON.stringify(actual)).toEqual(JSON.stringify(expected));
    }

    cov_1le2lcuitm.s[105]++;
    it('should turn a message with a filePath into a file scope diagnostic', () => {
      cov_1le2lcuitm.f[34]++;
      cov_1le2lcuitm.s[106]++;

      checkMessage(fileMessage, {
        scope: 'file',
        providerName,
        type: fileMessage.type,
        filePath: fileMessage.filePath,
        text: fileMessage.text
      });

      // Invalid types are automatically turned into "Error".
      cov_1le2lcuitm.s[107]++;
      checkMessage(Object.assign({}, fileMessage, { type: 'blah' }), {
        scope: 'file',
        providerName,
        type: 'Error',
        filePath: fileMessage.filePath,
        text: fileMessage.text
      });
    });

    cov_1le2lcuitm.s[108]++;
    it('should turn a message without a filePath into a project scope diagnostic', () => {
      cov_1le2lcuitm.f[35]++;
      cov_1le2lcuitm.s[109]++;

      checkMessage(projectMessage, {
        scope: 'project',
        providerName,
        type: projectMessage.type,
        text: projectMessage.text
      });
    });
  });

  cov_1le2lcuitm.s[110]++;
  describe('linterMessageV2ToDiagnosticMessage', () => {
    cov_1le2lcuitm.f[36]++;
    cov_1le2lcuitm.s[111]++;

    it('should correctly convert messages', () => {
      cov_1le2lcuitm.f[37]++;
      cov_1le2lcuitm.s[112]++;

      expect((0, (_LinterAdapter || _load_LinterAdapter()).linterMessageV2ToDiagnosticMessage)({
        location: {
          file: 'file.txt',
          position: [[0, 0], [0, 1]]
        },
        reference: {
          file: 'ref.txt',
          position: [1, 1]
        },
        excerpt: 'Error',
        severity: 'error',
        solutions: [{
          title: 'Solution',
          position: [[0, 0], [0, 1]],
          currentText: '',
          replaceWith: 'a'
        }],
        description: 'Description',
        linterName: 'test2'
      }, 'test')).toEqual({
        scope: 'file',
        providerName: 'test2',
        type: 'Error',
        filePath: 'file.txt',
        range: new _atom.Range([0, 0], [0, 1]),
        text: 'Error\nDescription',
        trace: [{
          type: 'Trace',
          text: 'Reference',
          filePath: 'ref.txt',
          range: new _atom.Range([1, 1], [1, 1])
        }],
        fix: {
          title: 'Solution',
          oldRange: new _atom.Range([0, 0], [0, 1]),
          oldText: '',
          newText: 'a'
        }
      });
    });
  });

  cov_1le2lcuitm.s[113]++;
  describe('linterMessagesToDiagnosticUpdate', () => {
    cov_1le2lcuitm.f[38]++;

    function runWith(linterMessages) {
      cov_1le2lcuitm.f[39]++;
      cov_1le2lcuitm.s[114]++;

      return (0, (_LinterAdapter || _load_LinterAdapter()).linterMessagesToDiagnosticUpdate)(currentPath, linterMessages, providerName);
    }

    cov_1le2lcuitm.s[115]++;
    it('should invalidate diagnostics in the current file', () => {
      cov_1le2lcuitm.f[40]++;

      const result = (cov_1le2lcuitm.s[116]++, runWith([]));
      cov_1le2lcuitm.s[117]++;

      if (!result.filePathToMessages) {
        throw new Error('Invariant violation: "result.filePathToMessages"');
      }

      cov_1le2lcuitm.s[118]++;

      expect(result.filePathToMessages.get(currentPath)).toEqual([]);
    });

    cov_1le2lcuitm.s[119]++;
    it('should use the LinterProvider name when one is not specified in message', () => {
      cov_1le2lcuitm.f[41]++;

      const result = (cov_1le2lcuitm.s[120]++, runWith([fileMessage]));
      cov_1le2lcuitm.s[121]++;

      if (!result.filePathToMessages) {
        throw new Error('Invariant violation: "result.filePathToMessages"');
      }

      const messages = (cov_1le2lcuitm.s[122]++, result.filePathToMessages.get(fileMessage.filePath));
      cov_1le2lcuitm.s[123]++;

      if (!(messages != null)) {
        throw new Error('Invariant violation: "messages != null"');
      }

      const resultMessage = (cov_1le2lcuitm.s[124]++, messages[0]);
      cov_1le2lcuitm.s[125]++;
      expect(resultMessage.providerName).toEqual('provider');
    });

    cov_1le2lcuitm.s[126]++;
    it('should use the provider name specified in message when available', () => {
      cov_1le2lcuitm.f[42]++;

      const result = (cov_1le2lcuitm.s[127]++, runWith([fileMessageWithName]));
      cov_1le2lcuitm.s[128]++;

      if (!result.filePathToMessages) {
        throw new Error('Invariant violation: "result.filePathToMessages"');
      }

      const messages = (cov_1le2lcuitm.s[129]++, result.filePathToMessages.get(fileMessageWithName.filePath));
      cov_1le2lcuitm.s[130]++;

      if (!(messages != null)) {
        throw new Error('Invariant violation: "messages != null"');
      }

      const resultMessage = (cov_1le2lcuitm.s[131]++, messages[0]);
      cov_1le2lcuitm.s[132]++;
      expect(resultMessage.providerName).toEqual('Custom Linter Name');
    });

    cov_1le2lcuitm.s[133]++;
    it('should provide both project messages and file messages', () => {
      cov_1le2lcuitm.f[43]++;

      const result = (cov_1le2lcuitm.s[134]++, runWith([fileMessage, projectMessage]));
      cov_1le2lcuitm.s[135]++;

      if (!result.filePathToMessages) {
        throw new Error('Invariant violation: "result.filePathToMessages"');
      }
      // The actual message transformations are tested in the tests from
      // linterMessageToDiagnosticMessage -- no need to duplicate them here.


      const messages = (cov_1le2lcuitm.s[136]++, result.filePathToMessages.get(fileMessage.filePath));
      cov_1le2lcuitm.s[137]++;

      if (!(messages != null)) {
        throw new Error('Invariant violation: "messages != null"');
      }

      cov_1le2lcuitm.s[138]++;

      expect(messages.length).toEqual(1);
      cov_1le2lcuitm.s[139]++;

      if (!result.projectMessages) {
        throw new Error('Invariant violation: "result.projectMessages"');
      }

      cov_1le2lcuitm.s[140]++;

      expect(result.projectMessages.length).toEqual(1);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkxpbnRlckFkYXB0ZXItc3BlYy5qcyJdLCJuYW1lcyI6WyJncmFtbWFyIiwibWFrZVByb21pc2UiLCJyZXQiLCJ0aW1lb3V0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiZGVzY3JpYmUiLCJmYWtlTGludGVyIiwibGludGVyQWRhcHRlciIsImxpbnRlclJldHVybiIsImZha2VFZGl0b3IiLCJidWZmZXJEZXN0cm95Q2FsbGJhY2siLCJ0ZXh0RXZlbnRTdWJqZWN0IiwidGV4dEV2ZW50U3B5IiwiYnVzeVNweSIsImJ1c3lEaXNwb3NlU3B5IiwibmV3TGludGVyQWRhcHRlciIsImxpbnRlciIsImJlZm9yZUVhY2giLCJzcHlPbiIsInJlcXVpcmUiLCJhbmRSZXR1cm4iLCJhc09ic2VydmFibGUiLCJmYWtlQnVmZmVyIiwib25EaWREZXN0cm95IiwiY2FsbGJhY2siLCJpc0Rlc3Ryb3llZCIsImdldFBhdGgiLCJnZXRHcmFtbWFyIiwic2NvcGVOYW1lIiwiZ2V0QnVmZmVyIiwibmFtZSIsImdyYW1tYXJTY29wZXMiLCJzY29wZSIsImxpbnRzT25DaGFuZ2UiLCJsaW50IiwiYW5kQ2FsbFRocm91Z2giLCJqYXNtaW5lIiwiY3JlYXRlU3B5IiwiZGlzcG9zZSIsImFmdGVyRWFjaCIsIml0IiwibmV4dCIsImV4cGVjdCIsInRvSGF2ZUJlZW5DYWxsZWQiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsIm5vdCIsIndhaXRzRm9yIiwid2FzQ2FsbGVkIiwid2FpdHNGb3JQcm9taXNlIiwidHlwZSIsImZpbGVQYXRoIiwibWVzc2FnZSIsImdldFVwZGF0ZXMiLCJ0YWtlIiwidG9Qcm9taXNlIiwiZmlsZVBhdGhUb01lc3NhZ2VzIiwiaGFzIiwidG9CZSIsInNob3VsZE5vdEludmFsaWRhdGUiLCJ2YWx1ZSIsInNweSIsImdldEludmFsaWRhdGlvbnMiLCJzdWJzY3JpYmUiLCJwcm9taXNlIiwibmV4dFRpY2siLCJ1bmRlZmluZWQiLCJudW1NZXNzYWdlcyIsImxhc3RNZXNzYWdlIiwiYWR2YW5jZUNsb2NrIiwiaW52YWxpZGF0aW9uIiwidG9FcXVhbCIsImZpbGVQYXRocyIsImZpbGVNZXNzYWdlIiwidGV4dCIsImZpbGVNZXNzYWdlV2l0aE5hbWUiLCJwcm9qZWN0TWVzc2FnZSIsInByb3ZpZGVyTmFtZSIsImN1cnJlbnRQYXRoIiwiY2hlY2tNZXNzYWdlIiwibGludGVyTWVzc2FnZSIsImV4cGVjdGVkIiwiYWN0dWFsIiwiSlNPTiIsInN0cmluZ2lmeSIsImxvY2F0aW9uIiwiZmlsZSIsInBvc2l0aW9uIiwicmVmZXJlbmNlIiwiZXhjZXJwdCIsInNldmVyaXR5Iiwic29sdXRpb25zIiwidGl0bGUiLCJjdXJyZW50VGV4dCIsInJlcGxhY2VXaXRoIiwiZGVzY3JpcHRpb24iLCJsaW50ZXJOYW1lIiwicmFuZ2UiLCJ0cmFjZSIsImZpeCIsIm9sZFJhbmdlIiwib2xkVGV4dCIsIm5ld1RleHQiLCJydW5XaXRoIiwibGludGVyTWVzc2FnZXMiLCJyZXN1bHQiLCJnZXQiLCJtZXNzYWdlcyIsInJlc3VsdE1lc3NhZ2UiLCJsZW5ndGgiLCJwcm9qZWN0TWVzc2FnZXMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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QUgyRTs7QUFBQSxZQU1qRXdELFlBQVksSUFOcUQ7QUFBQTtBQUFBOztBQU8zRSxZQUFNQywwQ0FBZ0JELFNBQVMsQ0FBVCxDQUFoQixDQUFOO0FBUDJFO0FBUTNFaEUsYUFBT2lFLGNBQWMvQixZQUFyQixFQUFtQ04sT0FBbkMsQ0FBMkMsb0JBQTNDO0FBQ0QsS0FURDs7QUF4QmlEO0FBbUNqRDlCLE9BQUcsd0RBQUgsRUFBNkQsTUFBTTtBQUFBOztBQUNqRSxZQUFNZ0UsbUNBQVNGLFFBQVEsQ0FBQzlCLFdBQUQsRUFBY0csY0FBZCxDQUFSLENBQVQsQ0FBTjtBQURpRTs7QUFBQSxXQUV2RDZCLE9BQU9qRCxrQkFGZ0Q7QUFBQTtBQUFBO0FBR2pFO0FBQ0E7OztBQUNBLFlBQU1tRCxxQ0FBV0YsT0FBT2pELGtCQUFQLENBQTBCa0QsR0FBMUIsQ0FBOEJqQyxZQUFZdEIsUUFBMUMsQ0FBWCxDQUFOO0FBTGlFOztBQUFBLFlBTXZEd0QsWUFBWSxJQU4yQztBQUFBO0FBQUE7O0FBQUE7O0FBT2pFaEUsYUFBT2dFLFNBQVNFLE1BQWhCLEVBQXdCdEMsT0FBeEIsQ0FBZ0MsQ0FBaEM7QUFQaUU7O0FBQUEsV0FRdkRrQyxPQUFPSyxlQVJnRDtBQUFBO0FBQUE7O0FBQUE7O0FBU2pFbkUsYUFBTzhELE9BQU9LLGVBQVAsQ0FBdUJELE1BQTlCLEVBQXNDdEMsT0FBdEMsQ0FBOEMsQ0FBOUM7QUFDRCxLQVZEO0FBV0QsR0E5Q0Q7QUErQ0QsQ0ExS0QiLCJmaWxlIjoiTGludGVyQWRhcHRlci1zcGVjLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTctcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBmbG93XG4gKiBAZm9ybWF0XG4gKi9cblxuaW1wb3J0IHR5cGUge0xpbnRlclByb3ZpZGVyfSBmcm9tICcuLi9saWIvdHlwZXMnO1xuXG5pbXBvcnQge0Rpc3Bvc2FibGUsIFJhbmdlfSBmcm9tICdhdG9tJztcbmltcG9ydCBpbnZhcmlhbnQgZnJvbSAnYXNzZXJ0JztcbmltcG9ydCB7U3ViamVjdH0gZnJvbSAncnhqcyc7XG5cbmltcG9ydCB7XG4gIExpbnRlckFkYXB0ZXIsXG4gIGxpbnRlck1lc3NhZ2VUb0RpYWdub3N0aWNNZXNzYWdlLFxuICBsaW50ZXJNZXNzYWdlVjJUb0RpYWdub3N0aWNNZXNzYWdlLFxuICBsaW50ZXJNZXNzYWdlc1RvRGlhZ25vc3RpY1VwZGF0ZSxcbn0gZnJvbSAnLi4vbGliL3NlcnZpY2VzL0xpbnRlckFkYXB0ZXInO1xuXG5jb25zdCBncmFtbWFyID0gJ3Rlc3RncmFtbWFyJztcblxuZnVuY3Rpb24gbWFrZVByb21pc2U8VD4ocmV0OiBULCB0aW1lb3V0OiBudW1iZXIpOiBQcm9taXNlPFQ+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgcmVzb2x2ZShyZXQpO1xuICAgIH0sIHRpbWVvdXQpO1xuICB9KTtcbn1cblxuZGVzY3JpYmUoJ0xpbnRlckFkYXB0ZXInLCAoKSA9PiB7XG4gIGxldCBmYWtlTGludGVyOiBhbnk7XG4gIGxldCBsaW50ZXJBZGFwdGVyOiBhbnk7XG4gIGxldCBsaW50ZXJSZXR1cm46IGFueTtcbiAgbGV0IGZha2VFZGl0b3I6IGFueTtcbiAgbGV0IGJ1ZmZlckRlc3Ryb3lDYWxsYmFjazogYW55O1xuICBsZXQgdGV4dEV2ZW50U3ViamVjdDtcbiAgbGV0IHRleHRFdmVudFNweTtcbiAgbGV0IGJ1c3lTcHk7XG4gIGxldCBidXN5RGlzcG9zZVNweTtcblxuICBmdW5jdGlvbiBuZXdMaW50ZXJBZGFwdGVyKGxpbnRlcjogTGludGVyUHJvdmlkZXIpIHtcbiAgICByZXR1cm4gbmV3IExpbnRlckFkYXB0ZXIobGludGVyLCBidXN5U3B5KTtcbiAgfVxuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIHRleHRFdmVudFN1YmplY3QgPSBuZXcgU3ViamVjdCgpO1xuICAgIHRleHRFdmVudFNweSA9IHNweU9uKFxuICAgICAgcmVxdWlyZSgnbnVjbGlkZS1jb21tb25zLWF0b20vdGV4dC1ldmVudCcpLFxuICAgICAgJ29ic2VydmVUZXh0RWRpdG9yRXZlbnRzJyxcbiAgICApLmFuZFJldHVybih0ZXh0RXZlbnRTdWJqZWN0LmFzT2JzZXJ2YWJsZSgpKTtcblxuICAgIGNvbnN0IGZha2VCdWZmZXIgPSB7XG4gICAgICBvbkRpZERlc3Ryb3koY2FsbGJhY2spIHtcbiAgICAgICAgYnVmZmVyRGVzdHJveUNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgICAgIHJldHVybiBuZXcgRGlzcG9zYWJsZSgoKSA9PiB7fSk7XG4gICAgICB9LFxuICAgICAgaXNEZXN0cm95ZWQ6ICgpID0+IGZhbHNlLFxuICAgIH07XG4gICAgZmFrZUVkaXRvciA9IHtcbiAgICAgIGdldFBhdGgoKSB7XG4gICAgICAgIHJldHVybiAnZm9vJztcbiAgICAgIH0sXG4gICAgICBnZXRHcmFtbWFyKCkge1xuICAgICAgICByZXR1cm4ge3Njb3BlTmFtZTogZ3JhbW1hcn07XG4gICAgICB9LFxuICAgICAgZ2V0QnVmZmVyKCkge1xuICAgICAgICByZXR1cm4gZmFrZUJ1ZmZlcjtcbiAgICAgIH0sXG4gICAgfTtcbiAgICBsaW50ZXJSZXR1cm4gPSBQcm9taXNlLnJlc29sdmUoW10pO1xuICAgIGZha2VMaW50ZXIgPSB7XG4gICAgICBuYW1lOiAnZmFrZUxpbnRlcicsXG4gICAgICBncmFtbWFyU2NvcGVzOiBbZ3JhbW1hcl0sXG4gICAgICBzY29wZTogJ2ZpbGUnLFxuICAgICAgbGludHNPbkNoYW5nZTogdHJ1ZSxcbiAgICAgIGxpbnQ6ICgpID0+IGxpbnRlclJldHVybixcbiAgICB9O1xuICAgIHNweU9uKGZha2VMaW50ZXIsICdsaW50JykuYW5kQ2FsbFRocm91Z2goKTtcbiAgICBidXN5RGlzcG9zZVNweSA9IGphc21pbmUuY3JlYXRlU3B5KCdidXN5RGlzcG9zZScpO1xuICAgIGJ1c3lTcHkgPSBqYXNtaW5lLmNyZWF0ZVNweSgncmVwb3J0QnVzeScpLmFuZFJldHVybih7XG4gICAgICBkaXNwb3NlOiBidXN5RGlzcG9zZVNweSxcbiAgICB9KTtcbiAgICBsaW50ZXJBZGFwdGVyID0gbmV3TGludGVyQWRhcHRlcihmYWtlTGludGVyKTtcbiAgfSk7XG5cbiAgYWZ0ZXJFYWNoKCgpID0+IHtcbiAgICBidWZmZXJEZXN0cm95Q2FsbGJhY2sgPSBudWxsO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGRpc3BhdGNoIHRoZSBsaW50ZXIgb24gYW4gZXZlbnQnLCAoKSA9PiB7XG4gICAgdGV4dEV2ZW50U3ViamVjdC5uZXh0KGZha2VFZGl0b3IpO1xuICAgIGV4cGVjdChmYWtlTGludGVyLmxpbnQpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICBleHBlY3QoYnVzeVNweSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2Zha2VMaW50ZXI6IHJ1bm5pbmcgb24gXCJmb29cIicpO1xuICAgIC8vIGBsaW50YCBpcyBhIHByb21pc2UsIHNvIHRoZSBidXN5IHNpZ25hbCBzaG91bGQgc3RheSBhY3RpdmUuXG4gICAgZXhwZWN0KGJ1c3lEaXNwb3NlU3B5KS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIHdhaXRzRm9yKCgpID0+IGJ1c3lEaXNwb3NlU3B5Lndhc0NhbGxlZCwgJ2J1c3kgc2lnbmFsIHRvIGJlIGRpc3Bvc2VkJyk7XG4gIH0pO1xuXG4gIGl0KFwic2hvdWxkIHN1YnNjcmliZSB0byAnYWxsJyB3aGVuICogaXMgaW4gZ3JhbW1hclNjb3Blc1wiLCAoKSA9PiB7XG4gICAgbmV3TGludGVyQWRhcHRlcih7XG4gICAgICBuYW1lOiAnbGludGVyJyxcbiAgICAgIGdyYW1tYXJTY29wZXM6IFsnKiddLFxuICAgICAgc2NvcGU6ICdmaWxlJyxcbiAgICAgIGxpbnRzT25DaGFuZ2U6IHRydWUsXG4gICAgICBsaW50OiAoKSA9PiBsaW50ZXJSZXR1cm4sXG4gICAgfSk7XG4gICAgZXhwZWN0KHRleHRFdmVudFNweSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2FsbCcsICdjaGFuZ2VzJyk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgd29yayB3aGVuIHRoZSBsaW50ZXIgaXMgc3luY2hyb25vdXMnLCAoKSA9PiB7XG4gICAgd2FpdHNGb3JQcm9taXNlKGFzeW5jICgpID0+IHtcbiAgICAgIGxpbnRlclJldHVybiA9IFt7dHlwZTogJ0Vycm9yJywgZmlsZVBhdGg6ICdmb28nfV07XG4gICAgICB0ZXh0RXZlbnRTdWJqZWN0Lm5leHQoZmFrZUVkaXRvcik7XG4gICAgICBjb25zdCBtZXNzYWdlID0gYXdhaXQgbGludGVyQWRhcHRlclxuICAgICAgICAuZ2V0VXBkYXRlcygpXG4gICAgICAgIC50YWtlKDEpXG4gICAgICAgIC50b1Byb21pc2UoKTtcbiAgICAgIGV4cGVjdChtZXNzYWdlLmZpbGVQYXRoVG9NZXNzYWdlcy5oYXMoJ2ZvbycpKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KGJ1c3lTcHkpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdmYWtlTGludGVyOiBydW5uaW5nIG9uIFwiZm9vXCInKTtcbiAgICAgIGV4cGVjdChidXN5RGlzcG9zZVNweSkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBmdW5jdGlvbiBzaG91bGROb3RJbnZhbGlkYXRlKHZhbHVlKSB7XG4gICAgd2FpdHNGb3JQcm9taXNlKGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHNweSA9IGphc21pbmUuY3JlYXRlU3B5KCk7XG4gICAgICBsaW50ZXJBZGFwdGVyLmdldEludmFsaWRhdGlvbnMoKS5zdWJzY3JpYmUoKCkgPT4gc3B5KCkpO1xuXG4gICAgICBjb25zdCBwcm9taXNlID0gbGludGVyQWRhcHRlclxuICAgICAgICAuZ2V0VXBkYXRlcygpXG4gICAgICAgIC50YWtlKDEpXG4gICAgICAgIC50b1Byb21pc2UoKTtcblxuICAgICAgLy8gUG9wdWxhdGUgdGhlIHJlc3VsdC5cbiAgICAgIGxpbnRlclJldHVybiA9IFt7dHlwZTogJ0Vycm9yJywgZmlsZVBhdGg6ICdmb28nfV07XG4gICAgICB0ZXh0RXZlbnRTdWJqZWN0Lm5leHQoZmFrZUVkaXRvcik7XG4gICAgICBhd2FpdCBwcm9taXNlO1xuXG4gICAgICBsaW50ZXJSZXR1cm4gPSB2YWx1ZTtcbiAgICAgIHRleHRFdmVudFN1YmplY3QubmV4dChmYWtlRWRpdG9yKTtcblxuICAgICAgLy8gVGhpcyBpcyB0cmlja3kgLSB0aGUgcmVzdWx0IHJlc29sdmVzIG9uIHRoZSBuZXh0IHRpY2suXG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHByb2Nlc3MubmV4dFRpY2socmVzb2x2ZSkpO1xuICAgICAgZXhwZWN0KHNweSkubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGl0KCdzaG91bGQgbm90IGludmFsaWRhdGUgcHJldmlvdXMgcmVzdWx0IHdoZW4gbGludGVyIHJlc29sdmVzIHRvIG51bGwnLCAoKSA9PiB7XG4gICAgc2hvdWxkTm90SW52YWxpZGF0ZShQcm9taXNlLnJlc29sdmUobnVsbCkpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIG5vdCBpbnZhbGlkYXRlIHByZXZpb3VzIHJlc3VsdCB3aGVuIGxpbnRlciByZXNvbHZlcyB0byB1bmRlZmluZWQnLCAoKSA9PiB7XG4gICAgc2hvdWxkTm90SW52YWxpZGF0ZShQcm9taXNlLnJlc29sdmUodW5kZWZpbmVkKSk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgbm90IGludmFsaWRhdGUgcHJldmlvdXMgcmVzdWx0IHdoZW4gbGludGVyIHJldHVybnMgbnVsbCcsICgpID0+IHtcbiAgICBzaG91bGROb3RJbnZhbGlkYXRlKG51bGwpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIG5vdCBpbnZhbGlkYXRlIHByZXZpb3VzIHJlc3VsdCB3aGVuIGxpbnRlciByZXR1cm5zIHVuZGVmaW5lZCcsICgpID0+IHtcbiAgICBzaG91bGROb3RJbnZhbGlkYXRlKHVuZGVmaW5lZCk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgbm90IHJlb3JkZXIgcmVzdWx0cycsICgpID0+IHtcbiAgICBsZXQgbnVtTWVzc2FnZXMgPSAwO1xuICAgIGxldCBsYXN0TWVzc2FnZSA9IG51bGw7XG4gICAgbGludGVyQWRhcHRlci5nZXRVcGRhdGVzKCkuc3Vic2NyaWJlKG1lc3NhZ2UgPT4ge1xuICAgICAgbnVtTWVzc2FnZXMrKztcbiAgICAgIGxhc3RNZXNzYWdlID0gbWVzc2FnZTtcbiAgICB9KTtcbiAgICAvLyBEaXNwYXRjaCB0d28gbGludGVyIHJlcXVlc3RzLlxuICAgIGxpbnRlclJldHVybiA9IG1ha2VQcm9taXNlKFt7dHlwZTogJ0Vycm9yJywgZmlsZVBhdGg6ICdiYXInfV0sIDUwKTtcbiAgICB0ZXh0RXZlbnRTdWJqZWN0Lm5leHQoZmFrZUVkaXRvcik7XG4gICAgbGludGVyUmV0dXJuID0gbWFrZVByb21pc2UoW3t0eXBlOiAnRXJyb3InLCBmaWxlUGF0aDogJ2Jheid9XSwgMTApO1xuICAgIHRleHRFdmVudFN1YmplY3QubmV4dChmYWtlRWRpdG9yKTtcbiAgICAvLyBJZiB3ZSBjYWxsIGl0IG9uY2Ugd2l0aCBhIGxhcmdlciB2YWx1ZSwgdGhlIGZpcnN0IHByb21pc2Ugd2lsbCByZXNvbHZlXG4gICAgLy8gZmlyc3QsIGV2ZW4gdGhvdWdoIHRoZSB0aW1lb3V0IGlzIGxhcmdlclxuICAgIGFkdmFuY2VDbG9jaygzMCk7XG4gICAgYWR2YW5jZUNsb2NrKDMwKTtcbiAgICB3YWl0c0ZvcihcbiAgICAgICgpID0+IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBudW1NZXNzYWdlcyA9PT0gMSAmJlxuICAgICAgICAgIGxhc3RNZXNzYWdlICYmXG4gICAgICAgICAgbGFzdE1lc3NhZ2UuZmlsZVBhdGhUb01lc3NhZ2VzLmhhcygnYmF6JylcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICAnVGhlcmUgc2hvdWxkIGJlIG9ubHkgdGhlIGxhdGVzdCBtZXNzYWdlJyxcbiAgICAgIDEwMCxcbiAgICApO1xuICB9KTtcblxuICBpdCgnaW52YWxpZGF0ZXMgZmlsZXMgb24gY2xvc2UnLCAoKSA9PiB7XG4gICAgbGludGVyUmV0dXJuID0gUHJvbWlzZS5yZXNvbHZlKFtcbiAgICAgIHt0eXBlOiAnRXJyb3InLCBmaWxlUGF0aDogJ2Zvbyd9LFxuICAgICAge3R5cGU6ICdFcnJvcicsIGZpbGVQYXRoOiAnYmFyJ30sXG4gICAgXSk7XG4gICAgdGV4dEV2ZW50U3ViamVjdC5uZXh0KGZha2VFZGl0b3IpO1xuICAgIHdhaXRzRm9yKCgpID0+IGJ1ZmZlckRlc3Ryb3lDYWxsYmFjayAhPSBudWxsKTtcbiAgICB3YWl0c0ZvclByb21pc2UoYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gV2FpdCBmb3IgdGhlIGZpcnN0IGxpbnQgdG8gZmluaXNoLlxuICAgICAgYXdhaXQgbGludGVyQWRhcHRlclxuICAgICAgICAuZ2V0VXBkYXRlcygpXG4gICAgICAgIC50YWtlKDEpXG4gICAgICAgIC50b1Byb21pc2UoKTtcbiAgICAgIC8vIFN0YXJ0IGEgcGVuZGluZyBsaW50LlxuICAgICAgbGludGVyUmV0dXJuID0gbWFrZVByb21pc2UoW10sIDEwKTtcbiAgICAgIHRleHRFdmVudFN1YmplY3QubmV4dChmYWtlRWRpdG9yKTtcbiAgICAgIGNvbnN0IHByb21pc2UgPSBsaW50ZXJBZGFwdGVyXG4gICAgICAgIC5nZXRJbnZhbGlkYXRpb25zKClcbiAgICAgICAgLnRha2UoMSlcbiAgICAgICAgLnRvUHJvbWlzZSgpO1xuICAgICAgYnVmZmVyRGVzdHJveUNhbGxiYWNrKCk7XG4gICAgICBjb25zdCBpbnZhbGlkYXRpb24gPSBhd2FpdCBwcm9taXNlO1xuICAgICAgZXhwZWN0KGludmFsaWRhdGlvbikudG9FcXVhbCh7XG4gICAgICAgIHNjb3BlOiAnZmlsZScsXG4gICAgICAgIGZpbGVQYXRoczogWydmb28nLCAnYmFyJ10sXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG59KTtcblxuZGVzY3JpYmUoJ21lc3NhZ2UgdHJhbnNmb3JtYXRpb24gZnVuY3Rpb25zJywgKCkgPT4ge1xuICBjb25zdCBmaWxlTWVzc2FnZSA9IHtcbiAgICB0eXBlOiAnRXJyb3InLFxuICAgIHRleHQ6ICdVaCBvaCcsXG4gICAgZmlsZVBhdGg6ICcvZnUvYmFyJyxcbiAgfTtcblxuICBjb25zdCBmaWxlTWVzc2FnZVdpdGhOYW1lID0ge1xuICAgIHR5cGU6ICdFcnJvcicsXG4gICAgdGV4dDogJ1VoIG9oJyxcbiAgICBmaWxlUGF0aDogJy9mdS9iYXInLFxuICAgIG5hbWU6ICdDdXN0b20gTGludGVyIE5hbWUnLFxuICB9O1xuXG4gIGNvbnN0IHByb2plY3RNZXNzYWdlID0ge1xuICAgIHR5cGU6ICdXYXJuaW5nJyxcbiAgICB0ZXh0OiAnT2ggbm8hJyxcbiAgfTtcblxuICBsZXQgcHJvdmlkZXJOYW1lO1xuICBsZXQgY3VycmVudFBhdGg6IHN0cmluZyA9IChudWxsOiBhbnkpO1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIHByb3ZpZGVyTmFtZSA9ICdwcm92aWRlcic7XG4gICAgY3VycmVudFBhdGggPSAnZm9vL2Jhcic7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdsaW50ZXJNZXNzYWdlVG9EaWFnbm9zdGljTWVzc2FnZScsICgpID0+IHtcbiAgICBmdW5jdGlvbiBjaGVja01lc3NhZ2UobGludGVyTWVzc2FnZSwgZXhwZWN0ZWQpIHtcbiAgICAgIGludmFyaWFudChwcm92aWRlck5hbWUpO1xuICAgICAgY29uc3QgYWN0dWFsID0gbGludGVyTWVzc2FnZVRvRGlhZ25vc3RpY01lc3NhZ2UoXG4gICAgICAgIGxpbnRlck1lc3NhZ2UsXG4gICAgICAgIHByb3ZpZGVyTmFtZSxcbiAgICAgICk7XG4gICAgICAvLyBUaGlzIGZpbHRlcnMgb3V0IGFueSB1bmRlZmluZWQgdmFsdWVzLlxuICAgICAgZXhwZWN0KEpTT04uc3RyaW5naWZ5KGFjdHVhbCkpLnRvRXF1YWwoSlNPTi5zdHJpbmdpZnkoZXhwZWN0ZWQpKTtcbiAgICB9XG5cbiAgICBpdCgnc2hvdWxkIHR1cm4gYSBtZXNzYWdlIHdpdGggYSBmaWxlUGF0aCBpbnRvIGEgZmlsZSBzY29wZSBkaWFnbm9zdGljJywgKCkgPT4ge1xuICAgICAgY2hlY2tNZXNzYWdlKGZpbGVNZXNzYWdlLCB7XG4gICAgICAgIHNjb3BlOiAnZmlsZScsXG4gICAgICAgIHByb3ZpZGVyTmFtZSxcbiAgICAgICAgdHlwZTogZmlsZU1lc3NhZ2UudHlwZSxcbiAgICAgICAgZmlsZVBhdGg6IGZpbGVNZXNzYWdlLmZpbGVQYXRoLFxuICAgICAgICB0ZXh0OiBmaWxlTWVzc2FnZS50ZXh0LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIEludmFsaWQgdHlwZXMgYXJlIGF1dG9tYXRpY2FsbHkgdHVybmVkIGludG8gXCJFcnJvclwiLlxuICAgICAgY2hlY2tNZXNzYWdlKFxuICAgICAgICB7Li4uZmlsZU1lc3NhZ2UsIHR5cGU6ICdibGFoJ30sXG4gICAgICAgIHtcbiAgICAgICAgICBzY29wZTogJ2ZpbGUnLFxuICAgICAgICAgIHByb3ZpZGVyTmFtZSxcbiAgICAgICAgICB0eXBlOiAnRXJyb3InLFxuICAgICAgICAgIGZpbGVQYXRoOiBmaWxlTWVzc2FnZS5maWxlUGF0aCxcbiAgICAgICAgICB0ZXh0OiBmaWxlTWVzc2FnZS50ZXh0LFxuICAgICAgICB9LFxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdHVybiBhIG1lc3NhZ2Ugd2l0aG91dCBhIGZpbGVQYXRoIGludG8gYSBwcm9qZWN0IHNjb3BlIGRpYWdub3N0aWMnLCAoKSA9PiB7XG4gICAgICBjaGVja01lc3NhZ2UocHJvamVjdE1lc3NhZ2UsIHtcbiAgICAgICAgc2NvcGU6ICdwcm9qZWN0JyxcbiAgICAgICAgcHJvdmlkZXJOYW1lLFxuICAgICAgICB0eXBlOiBwcm9qZWN0TWVzc2FnZS50eXBlLFxuICAgICAgICB0ZXh0OiBwcm9qZWN0TWVzc2FnZS50ZXh0LFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdsaW50ZXJNZXNzYWdlVjJUb0RpYWdub3N0aWNNZXNzYWdlJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgY29ycmVjdGx5IGNvbnZlcnQgbWVzc2FnZXMnLCAoKSA9PiB7XG4gICAgICBleHBlY3QoXG4gICAgICAgIGxpbnRlck1lc3NhZ2VWMlRvRGlhZ25vc3RpY01lc3NhZ2UoXG4gICAgICAgICAge1xuICAgICAgICAgICAgbG9jYXRpb246IHtcbiAgICAgICAgICAgICAgZmlsZTogJ2ZpbGUudHh0JyxcbiAgICAgICAgICAgICAgcG9zaXRpb246IFtbMCwgMF0sIFswLCAxXV0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVmZXJlbmNlOiB7XG4gICAgICAgICAgICAgIGZpbGU6ICdyZWYudHh0JyxcbiAgICAgICAgICAgICAgcG9zaXRpb246IFsxLCAxXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBleGNlcnB0OiAnRXJyb3InLFxuICAgICAgICAgICAgc2V2ZXJpdHk6ICdlcnJvcicsXG4gICAgICAgICAgICBzb2x1dGlvbnM6IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRpdGxlOiAnU29sdXRpb24nLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBbWzAsIDBdLCBbMCwgMV1dLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRUZXh0OiAnJyxcbiAgICAgICAgICAgICAgICByZXBsYWNlV2l0aDogJ2EnLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnRGVzY3JpcHRpb24nLFxuICAgICAgICAgICAgbGludGVyTmFtZTogJ3Rlc3QyJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgICd0ZXN0JyxcbiAgICAgICAgKSxcbiAgICAgICkudG9FcXVhbCh7XG4gICAgICAgIHNjb3BlOiAnZmlsZScsXG4gICAgICAgIHByb3ZpZGVyTmFtZTogJ3Rlc3QyJyxcbiAgICAgICAgdHlwZTogJ0Vycm9yJyxcbiAgICAgICAgZmlsZVBhdGg6ICdmaWxlLnR4dCcsXG4gICAgICAgIHJhbmdlOiBuZXcgUmFuZ2UoWzAsIDBdLCBbMCwgMV0pLFxuICAgICAgICB0ZXh0OiAnRXJyb3JcXG5EZXNjcmlwdGlvbicsXG4gICAgICAgIHRyYWNlOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgdHlwZTogJ1RyYWNlJyxcbiAgICAgICAgICAgIHRleHQ6ICdSZWZlcmVuY2UnLFxuICAgICAgICAgICAgZmlsZVBhdGg6ICdyZWYudHh0JyxcbiAgICAgICAgICAgIHJhbmdlOiBuZXcgUmFuZ2UoWzEsIDFdLCBbMSwgMV0pLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICAgIGZpeDoge1xuICAgICAgICAgIHRpdGxlOiAnU29sdXRpb24nLFxuICAgICAgICAgIG9sZFJhbmdlOiBuZXcgUmFuZ2UoWzAsIDBdLCBbMCwgMV0pLFxuICAgICAgICAgIG9sZFRleHQ6ICcnLFxuICAgICAgICAgIG5ld1RleHQ6ICdhJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnbGludGVyTWVzc2FnZXNUb0RpYWdub3N0aWNVcGRhdGUnLCAoKSA9PiB7XG4gICAgZnVuY3Rpb24gcnVuV2l0aChsaW50ZXJNZXNzYWdlcykge1xuICAgICAgcmV0dXJuIGxpbnRlck1lc3NhZ2VzVG9EaWFnbm9zdGljVXBkYXRlKFxuICAgICAgICBjdXJyZW50UGF0aCxcbiAgICAgICAgbGludGVyTWVzc2FnZXMsXG4gICAgICAgIHByb3ZpZGVyTmFtZSxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaXQoJ3Nob3VsZCBpbnZhbGlkYXRlIGRpYWdub3N0aWNzIGluIHRoZSBjdXJyZW50IGZpbGUnLCAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBydW5XaXRoKFtdKTtcbiAgICAgIGludmFyaWFudChyZXN1bHQuZmlsZVBhdGhUb01lc3NhZ2VzKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZmlsZVBhdGhUb01lc3NhZ2VzLmdldChjdXJyZW50UGF0aCkpLnRvRXF1YWwoW10pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB1c2UgdGhlIExpbnRlclByb3ZpZGVyIG5hbWUgd2hlbiBvbmUgaXMgbm90IHNwZWNpZmllZCBpbiBtZXNzYWdlJywgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gcnVuV2l0aChbZmlsZU1lc3NhZ2VdKTtcbiAgICAgIGludmFyaWFudChyZXN1bHQuZmlsZVBhdGhUb01lc3NhZ2VzKTtcbiAgICAgIGNvbnN0IG1lc3NhZ2VzID0gcmVzdWx0LmZpbGVQYXRoVG9NZXNzYWdlcy5nZXQoZmlsZU1lc3NhZ2UuZmlsZVBhdGgpO1xuICAgICAgaW52YXJpYW50KG1lc3NhZ2VzICE9IG51bGwpO1xuICAgICAgY29uc3QgcmVzdWx0TWVzc2FnZSA9IG1lc3NhZ2VzWzBdO1xuICAgICAgZXhwZWN0KHJlc3VsdE1lc3NhZ2UucHJvdmlkZXJOYW1lKS50b0VxdWFsKCdwcm92aWRlcicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB1c2UgdGhlIHByb3ZpZGVyIG5hbWUgc3BlY2lmaWVkIGluIG1lc3NhZ2Ugd2hlbiBhdmFpbGFibGUnLCAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBydW5XaXRoKFtmaWxlTWVzc2FnZVdpdGhOYW1lXSk7XG4gICAgICBpbnZhcmlhbnQocmVzdWx0LmZpbGVQYXRoVG9NZXNzYWdlcyk7XG4gICAgICBjb25zdCBtZXNzYWdlcyA9IHJlc3VsdC5maWxlUGF0aFRvTWVzc2FnZXMuZ2V0KFxuICAgICAgICBmaWxlTWVzc2FnZVdpdGhOYW1lLmZpbGVQYXRoLFxuICAgICAgKTtcbiAgICAgIGludmFyaWFudChtZXNzYWdlcyAhPSBudWxsKTtcbiAgICAgIGNvbnN0IHJlc3VsdE1lc3NhZ2UgPSBtZXNzYWdlc1swXTtcbiAgICAgIGV4cGVjdChyZXN1bHRNZXNzYWdlLnByb3ZpZGVyTmFtZSkudG9FcXVhbCgnQ3VzdG9tIExpbnRlciBOYW1lJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHByb3ZpZGUgYm90aCBwcm9qZWN0IG1lc3NhZ2VzIGFuZCBmaWxlIG1lc3NhZ2VzJywgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gcnVuV2l0aChbZmlsZU1lc3NhZ2UsIHByb2plY3RNZXNzYWdlXSk7XG4gICAgICBpbnZhcmlhbnQocmVzdWx0LmZpbGVQYXRoVG9NZXNzYWdlcyk7XG4gICAgICAvLyBUaGUgYWN0dWFsIG1lc3NhZ2UgdHJhbnNmb3JtYXRpb25zIGFyZSB0ZXN0ZWQgaW4gdGhlIHRlc3RzIGZyb21cbiAgICAgIC8vIGxpbnRlck1lc3NhZ2VUb0RpYWdub3N0aWNNZXNzYWdlIC0tIG5vIG5lZWQgdG8gZHVwbGljYXRlIHRoZW0gaGVyZS5cbiAgICAgIGNvbnN0IG1lc3NhZ2VzID0gcmVzdWx0LmZpbGVQYXRoVG9NZXNzYWdlcy5nZXQoZmlsZU1lc3NhZ2UuZmlsZVBhdGgpO1xuICAgICAgaW52YXJpYW50KG1lc3NhZ2VzICE9IG51bGwpO1xuICAgICAgZXhwZWN0KG1lc3NhZ2VzLmxlbmd0aCkudG9FcXVhbCgxKTtcbiAgICAgIGludmFyaWFudChyZXN1bHQucHJvamVjdE1lc3NhZ2VzKTtcbiAgICAgIGV4cGVjdChyZXN1bHQucHJvamVjdE1lc3NhZ2VzLmxlbmd0aCkudG9FcXVhbCgxKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdfQ==