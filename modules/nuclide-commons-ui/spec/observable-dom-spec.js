'use strict';

var cov_23h9guwhwx = function () {
  var path = '/Users/hansonw/atom-ide-ui/modules/nuclide-commons-ui/spec/observable-dom-spec.js',
      hash = 'f3d3c4083972625ede932378599c15cb93c35cb4',
      global = new Function('return this')(),
      gcv = '__coverage__',
      coverageData = {
    path: '/Users/hansonw/atom-ide-ui/modules/nuclide-commons-ui/spec/observable-dom-spec.js',
    statementMap: {
      '0': {
        start: {
          line: 18,
          column: 0
        },
        end: {
          line: 272,
          column: 3
        }
      },
      '1': {
        start: {
          line: 21,
          column: 2
        },
        end: {
          line: 23,
          column: 5
        }
      },
      '2': {
        start: {
          line: 22,
          column: 4
        },
        end: {
          line: 22,
          column: 28
        }
      },
      '3': {
        start: {
          line: 31,
          column: 6
        },
        end: {
          line: 31,
          column: 32
        }
      },
      '4': {
        start: {
          line: 32,
          column: 6
        },
        end: {
          line: 32,
          column: 30
        }
      },
      '5': {
        start: {
          line: 35,
          column: 6
        },
        end: {
          line: 35,
          column: 24
        }
      },
      '6': {
        start: {
          line: 36,
          column: 6
        },
        end: {
          line: 36,
          column: 29
        }
      },
      '7': {
        start: {
          line: 39,
          column: 6
        },
        end: {
          line: 39,
          column: 30
        }
      },
      '8': {
        start: {
          line: 43,
          column: 2
        },
        end: {
          line: 59,
          column: 5
        }
      },
      '9': {
        start: {
          line: 45,
          column: 14
        },
        end: {
          line: 47,
          column: 6
        }
      },
      '10': {
        start: {
          line: 48,
          column: 4
        },
        end: {
          line: 48,
          column: 40
        }
      },
      '11': {
        start: {
          line: 50,
          column: 25
        },
        end: {
          line: 50,
          column: 46
        }
      },
      '12': {
        start: {
          line: 51,
          column: 4
        },
        end: {
          line: 51,
          column: 40
        }
      },
      '13': {
        start: {
          line: 52,
          column: 4
        },
        end: {
          line: 56,
          column: 7
        }
      },
      '14': {
        start: {
          line: 57,
          column: 4
        },
        end: {
          line: 57,
          column: 51
        }
      },
      '15': {
        start: {
          line: 58,
          column: 4
        },
        end: {
          line: 58,
          column: 31
        }
      },
      '16': {
        start: {
          line: 61,
          column: 2
        },
        end: {
          line: 73,
          column: 5
        }
      },
      '17': {
        start: {
          line: 63,
          column: 14
        },
        end: {
          line: 65,
          column: 6
        }
      },
      '18': {
        start: {
          line: 66,
          column: 25
        },
        end: {
          line: 66,
          column: 46
        }
      },
      '19': {
        start: {
          line: 68,
          column: 4
        },
        end: {
          line: 68,
          column: 40
        }
      },
      '20': {
        start: {
          line: 69,
          column: 4
        },
        end: {
          line: 69,
          column: 51
        }
      },
      '21': {
        start: {
          line: 71,
          column: 4
        },
        end: {
          line: 71,
          column: 31
        }
      },
      '22': {
        start: {
          line: 72,
          column: 4
        },
        end: {
          line: 72,
          column: 52
        }
      },
      '23': {
        start: {
          line: 75,
          column: 2
        },
        end: {
          line: 101,
          column: 4
        }
      },
      '24': {
        start: {
          line: 81,
          column: 10
        },
        end: {
          line: 81,
          column: 33
        }
      },
      '25': {
        start: {
          line: 82,
          column: 10
        },
        end: {
          line: 85,
          column: 39
        }
      },
      '26': {
        start: {
          line: 89,
          column: 6
        },
        end: {
          line: 99,
          column: 9
        }
      },
      '27': {
        start: {
          line: 91,
          column: 23
        },
        end: {
          line: 97,
          column: 22
        }
      },
      '28': {
        start: {
          line: 98,
          column: 8
        },
        end: {
          line: 98,
          column: 79
        }
      },
      '29': {
        start: {
          line: 103,
          column: 2
        },
        end: {
          line: 162,
          column: 5
        }
      },
      '30': {
        start: {
          line: 104,
          column: 4
        },
        end: {
          line: 130,
          column: 7
        }
      },
      '31': {
        start: {
          line: 106,
          column: 16
        },
        end: {
          line: 113,
          column: 7
        }
      },
      '32': {
        start: {
          line: 114,
          column: 27
        },
        end: {
          line: 114,
          column: 48
        }
      },
      '33': {
        start: {
          line: 115,
          column: 28
        },
        end: {
          line: 115,
          column: 49
        }
      },
      '34': {
        start: {
          line: 117,
          column: 6
        },
        end: {
          line: 117,
          column: 42
        }
      },
      '35': {
        start: {
          line: 118,
          column: 6
        },
        end: {
          line: 118,
          column: 53
        }
      },
      '36': {
        start: {
          line: 120,
          column: 6
        },
        end: {
          line: 120,
          column: 33
        }
      },
      '37': {
        start: {
          line: 123,
          column: 6
        },
        end: {
          line: 123,
          column: 53
        }
      },
      '38': {
        start: {
          line: 125,
          column: 6
        },
        end: {
          line: 127,
          column: 23
        }
      },
      '39': {
        start: {
          line: 126,
          column: 8
        },
        end: {
          line: 126,
          column: 36
        }
      },
      '40': {
        start: {
          line: 129,
          column: 6
        },
        end: {
          line: 129,
          column: 54
        }
      },
      '41': {
        start: {
          line: 132,
          column: 4
        },
        end: {
          line: 161,
          column: 6
        }
      },
      '42': {
        start: {
          line: 137,
          column: 18
        },
        end: {
          line: 144,
          column: 9
        }
      },
      '43': {
        start: {
          line: 145,
          column: 29
        },
        end: {
          line: 145,
          column: 50
        }
      },
      '44': {
        start: {
          line: 146,
          column: 30
        },
        end: {
          line: 146,
          column: 51
        }
      },
      '45': {
        start: {
          line: 148,
          column: 8
        },
        end: {
          line: 148,
          column: 44
        }
      },
      '46': {
        start: {
          line: 149,
          column: 28
        },
        end: {
          line: 149,
          column: 44
        }
      },
      '47': {
        start: {
          line: 151,
          column: 8
        },
        end: {
          line: 151,
          column: 35
        }
      },
      '48': {
        start: {
          line: 152,
          column: 8
        },
        end: {
          line: 152,
          column: 36
        }
      },
      '49': {
        start: {
          line: 154,
          column: 8
        },
        end: {
          line: 154,
          column: 56
        }
      },
      '50': {
        start: {
          line: 155,
          column: 32
        },
        end: {
          line: 155,
          column: 53
        }
      },
      '51': {
        start: {
          line: 157,
          column: 8
        },
        end: {
          line: 157,
          column: 55
        }
      },
      '52': {
        start: {
          line: 158,
          column: 8
        },
        end: {
          line: 158,
          column: 55
        }
      },
      '53': {
        start: {
          line: 159,
          column: 8
        },
        end: {
          line: 159,
          column: 38
        }
      },
      '54': {
        start: {
          line: 164,
          column: 2
        },
        end: {
          line: 271,
          column: 5
        }
      },
      '55': {
        start: {
          line: 165,
          column: 4
        },
        end: {
          line: 182,
          column: 7
        }
      },
      '56': {
        start: {
          line: 168,
          column: 10
        },
        end: {
          line: 168,
          column: 33
        }
      },
      '57': {
        start: {
          line: 169,
          column: 10
        },
        end: {
          line: 172,
          column: 39
        }
      },
      '58': {
        start: {
          line: 176,
          column: 6
        },
        end: {
          line: 181,
          column: 19
        }
      },
      '59': {
        start: {
          line: 180,
          column: 20
        },
        end: {
          line: 180,
          column: 21
        }
      },
      '60': {
        start: {
          line: 184,
          column: 4
        },
        end: {
          line: 207,
          column: 7
        }
      },
      '61': {
        start: {
          line: 187,
          column: 10
        },
        end: {
          line: 187,
          column: 33
        }
      },
      '62': {
        start: {
          line: 188,
          column: 10
        },
        end: {
          line: 191,
          column: 39
        }
      },
      '63': {
        start: {
          line: 195,
          column: 6
        },
        end: {
          line: 206,
          column: 9
        }
      },
      '64': {
        start: {
          line: 197,
          column: 23
        },
        end: {
          line: 204,
          column: 22
        }
      },
      '65': {
        start: {
          line: 205,
          column: 8
        },
        end: {
          line: 205,
          column: 75
        }
      },
      '66': {
        start: {
          line: 209,
          column: 4
        },
        end: {
          line: 238,
          column: 6
        }
      },
      '67': {
        start: {
          line: 215,
          column: 12
        },
        end: {
          line: 215,
          column: 35
        }
      },
      '68': {
        start: {
          line: 216,
          column: 12
        },
        end: {
          line: 221,
          column: 41
        }
      },
      '69': {
        start: {
          line: 218,
          column: 34
        },
        end: {
          line: 218,
          column: 55
        }
      },
      '70': {
        start: {
          line: 225,
          column: 8
        },
        end: {
          line: 236,
          column: 11
        }
      },
      '71': {
        start: {
          line: 227,
          column: 25
        },
        end: {
          line: 234,
          column: 24
        }
      },
      '72': {
        start: {
          line: 235,
          column: 10
        },
        end: {
          line: 235,
          column: 77
        }
      },
      '73': {
        start: {
          line: 240,
          column: 4
        },
        end: {
          line: 270,
          column: 7
        }
      },
      '74': {
        start: {
          line: 243,
          column: 10
        },
        end: {
          line: 243,
          column: 33
        }
      },
      '75': {
        start: {
          line: 244,
          column: 10
        },
        end: {
          line: 246,
          column: 39
        }
      },
      '76': {
        start: {
          line: 250,
          column: 6
        },
        end: {
          line: 269,
          column: 9
        }
      },
      '77': {
        start: {
          line: 252,
          column: 8
        },
        end: {
          line: 264,
          column: 9
        }
      },
      '78': {
        start: {
          line: 254,
          column: 10
        },
        end: {
          line: 261,
          column: 25
        }
      },
      '79': {
        start: {
          line: 263,
          column: 10
        },
        end: {
          line: 263,
          column: 20
        }
      },
      '80': {
        start: {
          line: 265,
          column: 8
        },
        end: {
          line: 265,
          column: 33
        }
      },
      '81': {
        start: {
          line: 266,
          column: 8
        },
        end: {
          line: 268,
          column: 10
        }
      }
    },
    fnMap: {
      '0': {
        name: '(anonymous_0)',
        decl: {
          start: {
            line: 18,
            column: 38
          },
          end: {
            line: 18,
            column: 39
          }
        },
        loc: {
          start: {
            line: 18,
            column: 44
          },
          end: {
            line: 272,
            column: 1
          }
        },
        line: 18
      },
      '1': {
        name: '(anonymous_1)',
        decl: {
          start: {
            line: 21,
            column: 13
          },
          end: {
            line: 21,
            column: 14
          }
        },
        loc: {
          start: {
            line: 21,
            column: 19
          },
          end: {
            line: 23,
            column: 3
          }
        },
        line: 21
      },
      '2': {
        name: '(anonymous_2)',
        decl: {
          start: {
            line: 30,
            column: 4
          },
          end: {
            line: 30,
            column: 5
          }
        },
        loc: {
          start: {
            line: 30,
            column: 26
          },
          end: {
            line: 33,
            column: 5
          }
        },
        line: 30
      },
      '3': {
        name: '(anonymous_3)',
        decl: {
          start: {
            line: 34,
            column: 4
          },
          end: {
            line: 34,
            column: 5
          }
        },
        loc: {
          start: {
            line: 34,
            column: 28
          },
          end: {
            line: 37,
            column: 5
          }
        },
        line: 34
      },
      '4': {
        name: '(anonymous_4)',
        decl: {
          start: {
            line: 38,
            column: 4
          },
          end: {
            line: 38,
            column: 5
          }
        },
        loc: {
          start: {
            line: 38,
            column: 17
          },
          end: {
            line: 40,
            column: 5
          }
        },
        line: 38
      },
      '5': {
        name: '(anonymous_5)',
        decl: {
          start: {
            line: 43,
            column: 83
          },
          end: {
            line: 43,
            column: 84
          }
        },
        loc: {
          start: {
            line: 43,
            column: 89
          },
          end: {
            line: 59,
            column: 3
          }
        },
        line: 43
      },
      '6': {
        name: '(anonymous_6)',
        decl: {
          start: {
            line: 50,
            column: 37
          },
          end: {
            line: 50,
            column: 38
          }
        },
        loc: {
          start: {
            line: 50,
            column: 43
          },
          end: {
            line: 50,
            column: 45
          }
        },
        line: 50
      },
      '7': {
        name: '(anonymous_7)',
        decl: {
          start: {
            line: 61,
            column: 83
          },
          end: {
            line: 61,
            column: 84
          }
        },
        loc: {
          start: {
            line: 61,
            column: 89
          },
          end: {
            line: 73,
            column: 3
          }
        },
        line: 61
      },
      '8': {
        name: '(anonymous_8)',
        decl: {
          start: {
            line: 66,
            column: 37
          },
          end: {
            line: 66,
            column: 38
          }
        },
        loc: {
          start: {
            line: 66,
            column: 43
          },
          end: {
            line: 66,
            column: 45
          }
        },
        line: 66
      },
      '9': {
        name: '(anonymous_9)',
        decl: {
          start: {
            line: 78,
            column: 4
          },
          end: {
            line: 78,
            column: 5
          }
        },
        loc: {
          start: {
            line: 78,
            column: 10
          },
          end: {
            line: 100,
            column: 5
          }
        },
        line: 78
      },
      '10': {
        name: '(anonymous_10)',
        decl: {
          start: {
            line: 80,
            column: 8
          },
          end: {
            line: 80,
            column: 9
          }
        },
        loc: {
          start: {
            line: 80,
            column: 37
          },
          end: {
            line: 86,
            column: 9
          }
        },
        line: 80
      },
      '11': {
        name: '(anonymous_11)',
        decl: {
          start: {
            line: 89,
            column: 22
          },
          end: {
            line: 89,
            column: 23
          }
        },
        loc: {
          start: {
            line: 89,
            column: 34
          },
          end: {
            line: 99,
            column: 7
          }
        },
        line: 89
      },
      '12': {
        name: '(anonymous_12)',
        decl: {
          start: {
            line: 103,
            column: 35
          },
          end: {
            line: 103,
            column: 36
          }
        },
        loc: {
          start: {
            line: 103,
            column: 41
          },
          end: {
            line: 162,
            column: 3
          }
        },
        line: 103
      },
      '13': {
        name: '(anonymous_13)',
        decl: {
          start: {
            line: 104,
            column: 90
          },
          end: {
            line: 104,
            column: 91
          }
        },
        loc: {
          start: {
            line: 104,
            column: 96
          },
          end: {
            line: 130,
            column: 5
          }
        },
        line: 104
      },
      '14': {
        name: '(anonymous_14)',
        decl: {
          start: {
            line: 114,
            column: 39
          },
          end: {
            line: 114,
            column: 40
          }
        },
        loc: {
          start: {
            line: 114,
            column: 45
          },
          end: {
            line: 114,
            column: 47
          }
        },
        line: 114
      },
      '15': {
        name: '(anonymous_15)',
        decl: {
          start: {
            line: 115,
            column: 40
          },
          end: {
            line: 115,
            column: 41
          }
        },
        loc: {
          start: {
            line: 115,
            column: 46
          },
          end: {
            line: 115,
            column: 48
          }
        },
        line: 115
      },
      '16': {
        name: '(anonymous_16)',
        decl: {
          start: {
            line: 125,
            column: 13
          },
          end: {
            line: 125,
            column: 14
          }
        },
        loc: {
          start: {
            line: 125,
            column: 19
          },
          end: {
            line: 127,
            column: 7
          }
        },
        line: 125
      },
      '17': {
        name: '(anonymous_17)',
        decl: {
          start: {
            line: 135,
            column: 6
          },
          end: {
            line: 135,
            column: 7
          }
        },
        loc: {
          start: {
            line: 135,
            column: 12
          },
          end: {
            line: 160,
            column: 7
          }
        },
        line: 135
      },
      '18': {
        name: '(anonymous_18)',
        decl: {
          start: {
            line: 145,
            column: 41
          },
          end: {
            line: 145,
            column: 42
          }
        },
        loc: {
          start: {
            line: 145,
            column: 47
          },
          end: {
            line: 145,
            column: 49
          }
        },
        line: 145
      },
      '19': {
        name: '(anonymous_19)',
        decl: {
          start: {
            line: 146,
            column: 42
          },
          end: {
            line: 146,
            column: 43
          }
        },
        loc: {
          start: {
            line: 146,
            column: 48
          },
          end: {
            line: 146,
            column: 50
          }
        },
        line: 146
      },
      '20': {
        name: '(anonymous_20)',
        decl: {
          start: {
            line: 155,
            column: 44
          },
          end: {
            line: 155,
            column: 45
          }
        },
        loc: {
          start: {
            line: 155,
            column: 50
          },
          end: {
            line: 155,
            column: 52
          }
        },
        line: 155
      },
      '21': {
        name: '(anonymous_21)',
        decl: {
          start: {
            line: 164,
            column: 38
          },
          end: {
            line: 164,
            column: 39
          }
        },
        loc: {
          start: {
            line: 164,
            column: 44
          },
          end: {
            line: 271,
            column: 3
          }
        },
        line: 164
      },
      '22': {
        name: '(anonymous_22)',
        decl: {
          start: {
            line: 165,
            column: 89
          },
          end: {
            line: 165,
            column: 90
          }
        },
        loc: {
          start: {
            line: 165,
            column: 95
          },
          end: {
            line: 182,
            column: 5
          }
        },
        line: 165
      },
      '23': {
        name: '(anonymous_23)',
        decl: {
          start: {
            line: 167,
            column: 8
          },
          end: {
            line: 167,
            column: 9
          }
        },
        loc: {
          start: {
            line: 167,
            column: 37
          },
          end: {
            line: 173,
            column: 9
          }
        },
        line: 167
      },
      '24': {
        name: '(anonymous_24)',
        decl: {
          start: {
            line: 180,
            column: 15
          },
          end: {
            line: 180,
            column: 16
          }
        },
        loc: {
          start: {
            line: 180,
            column: 20
          },
          end: {
            line: 180,
            column: 21
          }
        },
        line: 180
      },
      '25': {
        name: '(anonymous_25)',
        decl: {
          start: {
            line: 184,
            column: 102
          },
          end: {
            line: 184,
            column: 103
          }
        },
        loc: {
          start: {
            line: 184,
            column: 108
          },
          end: {
            line: 207,
            column: 5
          }
        },
        line: 184
      },
      '26': {
        name: '(anonymous_26)',
        decl: {
          start: {
            line: 186,
            column: 8
          },
          end: {
            line: 186,
            column: 9
          }
        },
        loc: {
          start: {
            line: 186,
            column: 37
          },
          end: {
            line: 192,
            column: 9
          }
        },
        line: 186
      },
      '27': {
        name: '(anonymous_27)',
        decl: {
          start: {
            line: 195,
            column: 22
          },
          end: {
            line: 195,
            column: 23
          }
        },
        loc: {
          start: {
            line: 195,
            column: 34
          },
          end: {
            line: 206,
            column: 7
          }
        },
        line: 195
      },
      '28': {
        name: '(anonymous_28)',
        decl: {
          start: {
            line: 212,
            column: 6
          },
          end: {
            line: 212,
            column: 7
          }
        },
        loc: {
          start: {
            line: 212,
            column: 12
          },
          end: {
            line: 237,
            column: 7
          }
        },
        line: 212
      },
      '29': {
        name: '(anonymous_29)',
        decl: {
          start: {
            line: 214,
            column: 10
          },
          end: {
            line: 214,
            column: 11
          }
        },
        loc: {
          start: {
            line: 214,
            column: 39
          },
          end: {
            line: 222,
            column: 11
          }
        },
        line: 214
      },
      '30': {
        name: '(anonymous_30)',
        decl: {
          start: {
            line: 218,
            column: 28
          },
          end: {
            line: 218,
            column: 29
          }
        },
        loc: {
          start: {
            line: 218,
            column: 34
          },
          end: {
            line: 218,
            column: 55
          }
        },
        line: 218
      },
      '31': {
        name: '(anonymous_31)',
        decl: {
          start: {
            line: 225,
            column: 24
          },
          end: {
            line: 225,
            column: 25
          }
        },
        loc: {
          start: {
            line: 225,
            column: 36
          },
          end: {
            line: 236,
            column: 9
          }
        },
        line: 225
      },
      '32': {
        name: '(anonymous_32)',
        decl: {
          start: {
            line: 240,
            column: 90
          },
          end: {
            line: 240,
            column: 91
          }
        },
        loc: {
          start: {
            line: 240,
            column: 96
          },
          end: {
            line: 270,
            column: 5
          }
        },
        line: 240
      },
      '33': {
        name: '(anonymous_33)',
        decl: {
          start: {
            line: 242,
            column: 8
          },
          end: {
            line: 242,
            column: 9
          }
        },
        loc: {
          start: {
            line: 242,
            column: 37
          },
          end: {
            line: 247,
            column: 9
          }
        },
        line: 242
      },
      '34': {
        name: '(anonymous_34)',
        decl: {
          start: {
            line: 250,
            column: 22
          },
          end: {
            line: 250,
            column: 23
          }
        },
        loc: {
          start: {
            line: 250,
            column: 34
          },
          end: {
            line: 269,
            column: 7
          }
        },
        line: 250
      }
    },
    branchMap: {},
    s: {
      '0': 0,
      '1': 0,
      '2': 0,
      '3': 0,
      '4': 0,
      '5': 0,
      '6': 0,
      '7': 0,
      '8': 0,
      '9': 0,
      '10': 0,
      '11': 0,
      '12': 0,
      '13': 0,
      '14': 0,
      '15': 0,
      '16': 0,
      '17': 0,
      '18': 0,
      '19': 0,
      '20': 0,
      '21': 0,
      '22': 0,
      '23': 0,
      '24': 0,
      '25': 0,
      '26': 0,
      '27': 0,
      '28': 0,
      '29': 0,
      '30': 0,
      '31': 0,
      '32': 0,
      '33': 0,
      '34': 0,
      '35': 0,
      '36': 0,
      '37': 0,
      '38': 0,
      '39': 0,
      '40': 0,
      '41': 0,
      '42': 0,
      '43': 0,
      '44': 0,
      '45': 0,
      '46': 0,
      '47': 0,
      '48': 0,
      '49': 0,
      '50': 0,
      '51': 0,
      '52': 0,
      '53': 0,
      '54': 0,
      '55': 0,
      '56': 0,
      '57': 0,
      '58': 0,
      '59': 0,
      '60': 0,
      '61': 0,
      '62': 0,
      '63': 0,
      '64': 0,
      '65': 0,
      '66': 0,
      '67': 0,
      '68': 0,
      '69': 0,
      '70': 0,
      '71': 0,
      '72': 0,
      '73': 0,
      '74': 0,
      '75': 0,
      '76': 0,
      '77': 0,
      '78': 0,
      '79': 0,
      '80': 0,
      '81': 0
    },
    f: {
      '0': 0,
      '1': 0,
      '2': 0,
      '3': 0,
      '4': 0,
      '5': 0,
      '6': 0,
      '7': 0,
      '8': 0,
      '9': 0,
      '10': 0,
      '11': 0,
      '12': 0,
      '13': 0,
      '14': 0,
      '15': 0,
      '16': 0,
      '17': 0,
      '18': 0,
      '19': 0,
      '20': 0,
      '21': 0,
      '22': 0,
      '23': 0,
      '24': 0,
      '25': 0,
      '26': 0,
      '27': 0,
      '28': 0,
      '29': 0,
      '30': 0,
      '31': 0,
      '32': 0,
      '33': 0,
      '34': 0
    },
    b: {},
    _coverageSchema: '332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'
  },
      coverage = global[gcv] || (global[gcv] = {});

  if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }

  coverageData.hash = hash;
  return coverage[path] = coverageData;
}();

var _asyncToGenerator = _interopRequireDefault(require('async-to-generator'));

var _rxjsBundlesRxMinJs = require('rxjs/bundles/Rx.min.js');

var _observableDom;

function _load_observableDom() {
  return _observableDom = require('../observable-dom');
}

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Copyright (c) 2017-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * 
 * @format
 */

cov_23h9guwhwx.s[0]++;


describe('new DOMObserverObservable', () => {
  cov_23h9guwhwx.f[0]++;

  let observerInstance;

  cov_23h9guwhwx.s[1]++;
  beforeEach(() => {
    cov_23h9guwhwx.f[1]++;
    cov_23h9guwhwx.s[2]++;

    observerInstance = null;
  });

  class MockDOMObserver {

    constructor(callback) {
      cov_23h9guwhwx.f[2]++;
      cov_23h9guwhwx.s[3]++;

      this._callback = callback;
      cov_23h9guwhwx.s[4]++;
      observerInstance = this;
    }
    observe(...args) {
      cov_23h9guwhwx.f[3]++;
      cov_23h9guwhwx.s[5]++;

      this._args = args;
      cov_23h9guwhwx.s[6]++;
      this._connected = true;
    }
    disconnect() {
      cov_23h9guwhwx.f[4]++;
      cov_23h9guwhwx.s[7]++;

      this._connected = false;
    }
  }

  cov_23h9guwhwx.s[8]++;
  it('does not construct a DOM Observer until the Rx Observable is subscribed to', () => {
    cov_23h9guwhwx.f[5]++;

    // $FlowFixMe(>=0.55.0) Flow suppress
    const o = (cov_23h9guwhwx.s[9]++, new (_observableDom || _load_observableDom())._DOMObserverObservable(MockDOMObserver, 'some', 'additional', {
      args: true
    }));
    cov_23h9guwhwx.s[10]++;
    expect(observerInstance).toBe(null);

    const subscription = (cov_23h9guwhwx.s[11]++, o.subscribe(() => {
      cov_23h9guwhwx.f[6]++;
    }));
    cov_23h9guwhwx.s[12]++;

    if (!(observerInstance != null)) {
      throw new Error('Invariant violation: "observerInstance != null"');
    }

    cov_23h9guwhwx.s[13]++;

    expect(observerInstance._args).toEqual(['some', 'additional', { args: true }]);
    cov_23h9guwhwx.s[14]++;
    expect(observerInstance._connected).toBe(true);
    cov_23h9guwhwx.s[15]++;
    subscription.unsubscribe();
  });

  cov_23h9guwhwx.s[16]++;
  it('calls disconnect on the underlying DOM Observer when unsubscribe is called', () => {
    cov_23h9guwhwx.f[7]++;

    // $FlowFixMe(>=0.55.0) Flow suppress
    const o = (cov_23h9guwhwx.s[17]++, new (_observableDom || _load_observableDom())._DOMObserverObservable(MockDOMObserver, 'some', 'additional', {
      args: true
    }));
    const subscription = (cov_23h9guwhwx.s[18]++, o.subscribe(() => {
      cov_23h9guwhwx.f[8]++;
    }));

    cov_23h9guwhwx.s[19]++;

    if (!(observerInstance != null)) {
      throw new Error('Invariant violation: "observerInstance != null"');
    }

    cov_23h9guwhwx.s[20]++;

    expect(observerInstance._connected).toBe(true);

    cov_23h9guwhwx.s[21]++;
    subscription.unsubscribe();
    cov_23h9guwhwx.s[22]++;
    expect(observerInstance._connected).toBe(false);
  });

  cov_23h9guwhwx.s[23]++;
  it('by default (without a call to .flattenEntries()) creates an observable of ' + 'the elements emitted from the DOM Observer', () => {
    cov_23h9guwhwx.f[9]++;

    class MockDOMObserverEmitsArray extends MockDOMObserver {
      observe(...args) {
        cov_23h9guwhwx.f[10]++;
        cov_23h9guwhwx.s[24]++;

        super.observe(...args);
        cov_23h9guwhwx.s[25]++;
        _rxjsBundlesRxMinJs.Observable.interval(1).mapTo(['foo', 'bar', 'baz']).take(2).subscribe(this._callback);
      }
    }

    cov_23h9guwhwx.s[26]++;
    waitsForPromise((0, _asyncToGenerator.default)(function* () {
      cov_23h9guwhwx.f[11]++;

      // $FlowFixMe(>=0.55.0) Flow suppress
      const output = (cov_23h9guwhwx.s[27]++, yield new (_observableDom || _load_observableDom())._DOMObserverObservable(MockDOMObserverEmitsArray, 'arg').take(2).toArray().toPromise());
      cov_23h9guwhwx.s[28]++;
      expect(output).toEqual([['foo', 'bar', 'baz'], ['foo', 'bar', 'baz']]);
    }));
  });

  cov_23h9guwhwx.s[29]++;
  describe('multiple subscribers', () => {
    cov_23h9guwhwx.f[12]++;
    cov_23h9guwhwx.s[30]++;

    it('only disconnects the underlying observer when all subscribers have unsubscribed', () => {
      cov_23h9guwhwx.f[13]++;

      // $FlowFixMe(>=0.55.0) Flow suppress
      const o = (cov_23h9guwhwx.s[31]++, new (_observableDom || _load_observableDom())._DOMObserverObservable(MockDOMObserver, 'some', 'additional', {
        args: true
      }));
      const subscription = (cov_23h9guwhwx.s[32]++, o.subscribe(() => {
        cov_23h9guwhwx.f[14]++;
      }));
      const subscription2 = (cov_23h9guwhwx.s[33]++, o.subscribe(() => {
        cov_23h9guwhwx.f[15]++;
      }));

      cov_23h9guwhwx.s[34]++;

      if (!(observerInstance != null)) {
        throw new Error('Invariant violation: "observerInstance != null"');
      }

      cov_23h9guwhwx.s[35]++;

      expect(observerInstance._connected).toBe(true);

      cov_23h9guwhwx.s[36]++;
      subscription.unsubscribe();
      // the underlying observer is still connected when only one of the two
      // subscribers unsubscribes
      cov_23h9guwhwx.s[37]++;
      expect(observerInstance._connected).toBe(true);

      cov_23h9guwhwx.s[38]++;
      expect(() => {
        cov_23h9guwhwx.f[16]++;
        cov_23h9guwhwx.s[39]++;

        subscription2.unsubscribe();
      }).not.toThrow();
      // and finally disconnect when all subscribers have unsubscribed
      cov_23h9guwhwx.s[40]++;
      expect(observerInstance._connected).toBe(false);
    });

    cov_23h9guwhwx.s[41]++;
    it('creates a new underlying observable and connects it for new' + 'subscriptions that happen after a disconnect', () => {
      cov_23h9guwhwx.f[17]++;

      // $FlowFixMe(>=0.55.0) Flow suppress
      const o = (cov_23h9guwhwx.s[42]++, new (_observableDom || _load_observableDom())._DOMObserverObservable(MockDOMObserver, 'some', 'additional', {
        args: true
      }));
      const subscription = (cov_23h9guwhwx.s[43]++, o.subscribe(() => {
        cov_23h9guwhwx.f[18]++;
      }));
      const subscription2 = (cov_23h9guwhwx.s[44]++, o.subscribe(() => {
        cov_23h9guwhwx.f[19]++;
      }));

      cov_23h9guwhwx.s[45]++;

      if (!(observerInstance != null)) {
        throw new Error('Invariant violation: "observerInstance != null"');
      }

      const oldObserver = (cov_23h9guwhwx.s[46]++, observerInstance);

      cov_23h9guwhwx.s[47]++;
      subscription.unsubscribe();
      cov_23h9guwhwx.s[48]++;
      subscription2.unsubscribe();

      cov_23h9guwhwx.s[49]++;
      expect(observerInstance._connected).toBe(false);
      const newSubscription = (cov_23h9guwhwx.s[50]++, o.subscribe(() => {
        cov_23h9guwhwx.f[20]++;
      }));
      // creates a new underlying observer
      cov_23h9guwhwx.s[51]++;
      expect(observerInstance).not.toBe(oldObserver);
      cov_23h9guwhwx.s[52]++;
      expect(observerInstance._connected).toBe(true);
      cov_23h9guwhwx.s[53]++;
      newSubscription.unsubscribe();
    });
  });

  cov_23h9guwhwx.s[54]++;
  describe('flattenEntries operator', () => {
    cov_23h9guwhwx.f[21]++;
    cov_23h9guwhwx.s[55]++;

    it('implements lift to cause subsequent operators to return DOMObserverObservables', () => {
      cov_23h9guwhwx.f[22]++;

      class MockDOMObserverEmitsArray extends MockDOMObserver {
        observe(...args) {
          cov_23h9guwhwx.f[23]++;
          cov_23h9guwhwx.s[56]++;

          super.observe(...args);
          cov_23h9guwhwx.s[57]++;
          _rxjsBundlesRxMinJs.Observable.interval(1).mapTo(['foo', 'bar', 'baz']).take(2).subscribe(this._callback);
        }
      }

      cov_23h9guwhwx.s[58]++;
      expect(
      // $FlowFixMe(>=0.55.0) Flow suppress
      new (_observableDom || _load_observableDom())._DOMObserverObservable(MockDOMObserverEmitsArray, 'arg').flattenEntries().map(x => {
        cov_23h9guwhwx.f[24]++;
        cov_23h9guwhwx.s[59]++;
        return x;
      }) instanceof (_observableDom || _load_observableDom())._DOMObserverObservable).toBe(true);
    });

    cov_23h9guwhwx.s[60]++;
    it('creates an observable of the individual elements of the array emitted from the DOM Observer', () => {
      cov_23h9guwhwx.f[25]++;

      class MockDOMObserverEmitsArray extends MockDOMObserver {
        observe(...args) {
          cov_23h9guwhwx.f[26]++;
          cov_23h9guwhwx.s[61]++;

          super.observe(...args);
          cov_23h9guwhwx.s[62]++;
          _rxjsBundlesRxMinJs.Observable.interval(1).mapTo(['foo', 'bar', 'baz']).take(2).subscribe(this._callback);
        }
      }

      cov_23h9guwhwx.s[63]++;
      waitsForPromise((0, _asyncToGenerator.default)(function* () {
        cov_23h9guwhwx.f[27]++;

        // $FlowFixMe(>=0.55.0) Flow suppress
        const output = (cov_23h9guwhwx.s[64]++, yield new (_observableDom || _load_observableDom())._DOMObserverObservable(MockDOMObserverEmitsArray, 'arg').flattenEntries().take(6).toArray().toPromise());
        cov_23h9guwhwx.s[65]++;
        expect(output).toEqual(['foo', 'bar', 'baz', 'foo', 'bar', 'baz']);
      }));
    });

    cov_23h9guwhwx.s[66]++;
    it('creates an observable of the individual elements of the array returned ' + 'from the getEntries method of the entrylist emitted from the DOM Observer', () => {
      cov_23h9guwhwx.f[28]++;

      class MockDOMObserverEmitsEntryList extends MockDOMObserver {
        observe(...args) {
          cov_23h9guwhwx.f[29]++;
          cov_23h9guwhwx.s[67]++;

          super.observe(...args);
          cov_23h9guwhwx.s[68]++;
          _rxjsBundlesRxMinJs.Observable.interval(1).mapTo({
            getEntries: () => {
              cov_23h9guwhwx.f[30]++;
              cov_23h9guwhwx.s[69]++;
              return ['foo', 'bar', 'baz'];
            }
          }).take(2).subscribe(this._callback);
        }
      }

      cov_23h9guwhwx.s[70]++;
      waitsForPromise((0, _asyncToGenerator.default)(function* () {
        cov_23h9guwhwx.f[31]++;

        // $FlowFixMe(>=0.55.0) Flow suppress
        const output = (cov_23h9guwhwx.s[71]++, yield new (_observableDom || _load_observableDom())._DOMObserverObservable(MockDOMObserverEmitsEntryList, 'arg').flattenEntries().take(6).toArray().toPromise());
        cov_23h9guwhwx.s[72]++;
        expect(output).toEqual(['foo', 'bar', 'baz', 'foo', 'bar', 'baz']);
      }));
    });

    cov_23h9guwhwx.s[73]++;
    it('throws if neither an iterable nor an EntryList is emitted from the DOM Observer', () => {
      cov_23h9guwhwx.f[32]++;

      class MockDOMObserverEmitsNonStandard extends MockDOMObserver {
        observe(...args) {
          cov_23h9guwhwx.f[33]++;
          cov_23h9guwhwx.s[74]++;

          super.observe(...args);
          cov_23h9guwhwx.s[75]++;
          _rxjsBundlesRxMinJs.Observable.interval(1).take(2).subscribe(this._callback);
        }
      }

      cov_23h9guwhwx.s[76]++;
      waitsForPromise((0, _asyncToGenerator.default)(function* () {
        cov_23h9guwhwx.f[34]++;

        let error;
        cov_23h9guwhwx.s[77]++;
        try {
          cov_23h9guwhwx.s[78]++;

          // $FlowFixMe(>=0.55.0) Flow suppress
          yield new (_observableDom || _load_observableDom())._DOMObserverObservable(MockDOMObserverEmitsNonStandard, 'arg').flattenEntries().take(2).toArray().toPromise();
        } catch (e) {
          cov_23h9guwhwx.s[79]++;

          error = e;
        }
        cov_23h9guwhwx.s[80]++;

        if (!(error != null)) {
          throw new Error('Invariant violation: "error != null"');
        }

        cov_23h9guwhwx.s[81]++;

        expect(error.message).toEqual('Tried to merge DOM Observer entries, but they were not iterable nor were they an EntryList.');
      }));
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9ic2VydmFibGUtZG9tLXNwZWMuanMiXSwibmFtZXMiOlsiZGVzY3JpYmUiLCJvYnNlcnZlckluc3RhbmNlIiwiYmVmb3JlRWFjaCIsIk1vY2tET01PYnNlcnZlciIsImNvbnN0cnVjdG9yIiwiY2FsbGJhY2siLCJfY2FsbGJhY2siLCJvYnNlcnZlIiwiYXJncyIsIl9hcmdzIiwiX2Nvbm5lY3RlZCIsImRpc2Nvbm5lY3QiLCJpdCIsIm8iLCJleHBlY3QiLCJ0b0JlIiwic3Vic2NyaXB0aW9uIiwic3Vic2NyaWJlIiwidG9FcXVhbCIsInVuc3Vic2NyaWJlIiwiTW9ja0RPTU9ic2VydmVyRW1pdHNBcnJheSIsImludGVydmFsIiwibWFwVG8iLCJ0YWtlIiwid2FpdHNGb3JQcm9taXNlIiwib3V0cHV0IiwidG9BcnJheSIsInRvUHJvbWlzZSIsInN1YnNjcmlwdGlvbjIiLCJub3QiLCJ0b1Rocm93Iiwib2xkT2JzZXJ2ZXIiLCJuZXdTdWJzY3JpcHRpb24iLCJmbGF0dGVuRW50cmllcyIsIm1hcCIsIngiLCJNb2NrRE9NT2JzZXJ2ZXJFbWl0c0VudHJ5TGlzdCIsImdldEVudHJpZXMiLCJNb2NrRE9NT2JzZXJ2ZXJFbWl0c05vblN0YW5kYXJkIiwiZXJyb3IiLCJlIiwibWVzc2FnZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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QStCRCxHQTNHRDtBQTRHRCxDQTlQRCIsImZpbGUiOiJvYnNlcnZhYmxlLWRvbS1zcGVjLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTctcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBmbG93XG4gKiBAZm9ybWF0XG4gKi9cblxuaW1wb3J0IGludmFyaWFudCBmcm9tICdhc3NlcnQnO1xuaW1wb3J0IHtPYnNlcnZhYmxlfSBmcm9tICdyeGpzJztcblxuaW1wb3J0IHtfRE9NT2JzZXJ2ZXJPYnNlcnZhYmxlIGFzIERPTU9ic2VydmVyT2JzZXJ2YWJsZX0gZnJvbSAnLi4vb2JzZXJ2YWJsZS1kb20nO1xuXG5kZXNjcmliZSgnbmV3IERPTU9ic2VydmVyT2JzZXJ2YWJsZScsICgpID0+IHtcbiAgbGV0IG9ic2VydmVySW5zdGFuY2U7XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgb2JzZXJ2ZXJJbnN0YW5jZSA9IG51bGw7XG4gIH0pO1xuXG4gIGNsYXNzIE1vY2tET01PYnNlcnZlciB7XG4gICAgX2FyZ3M6IEFycmF5PGFueT47XG4gICAgX2NhbGxiYWNrOiBGdW5jdGlvbjtcbiAgICBfY29ubmVjdGVkOiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IoY2FsbGJhY2spIHtcbiAgICAgIHRoaXMuX2NhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgICBvYnNlcnZlckluc3RhbmNlID0gdGhpcztcbiAgICB9XG4gICAgb2JzZXJ2ZSguLi5hcmdzOiBhbnlbXSkge1xuICAgICAgdGhpcy5fYXJncyA9IGFyZ3M7XG4gICAgICB0aGlzLl9jb25uZWN0ZWQgPSB0cnVlO1xuICAgIH1cbiAgICBkaXNjb25uZWN0KCkge1xuICAgICAgdGhpcy5fY29ubmVjdGVkID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgaXQoJ2RvZXMgbm90IGNvbnN0cnVjdCBhIERPTSBPYnNlcnZlciB1bnRpbCB0aGUgUnggT2JzZXJ2YWJsZSBpcyBzdWJzY3JpYmVkIHRvJywgKCkgPT4ge1xuICAgIC8vICRGbG93Rml4TWUoPj0wLjU1LjApIEZsb3cgc3VwcHJlc3NcbiAgICBjb25zdCBvID0gbmV3IERPTU9ic2VydmVyT2JzZXJ2YWJsZShNb2NrRE9NT2JzZXJ2ZXIsICdzb21lJywgJ2FkZGl0aW9uYWwnLCB7XG4gICAgICBhcmdzOiB0cnVlLFxuICAgIH0pO1xuICAgIGV4cGVjdChvYnNlcnZlckluc3RhbmNlKS50b0JlKG51bGwpO1xuXG4gICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gby5zdWJzY3JpYmUoKCkgPT4ge30pO1xuICAgIGludmFyaWFudChvYnNlcnZlckluc3RhbmNlICE9IG51bGwpO1xuICAgIGV4cGVjdChvYnNlcnZlckluc3RhbmNlLl9hcmdzKS50b0VxdWFsKFtcbiAgICAgICdzb21lJyxcbiAgICAgICdhZGRpdGlvbmFsJyxcbiAgICAgIHthcmdzOiB0cnVlfSxcbiAgICBdKTtcbiAgICBleHBlY3Qob2JzZXJ2ZXJJbnN0YW5jZS5fY29ubmVjdGVkKS50b0JlKHRydWUpO1xuICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICB9KTtcblxuICBpdCgnY2FsbHMgZGlzY29ubmVjdCBvbiB0aGUgdW5kZXJseWluZyBET00gT2JzZXJ2ZXIgd2hlbiB1bnN1YnNjcmliZSBpcyBjYWxsZWQnLCAoKSA9PiB7XG4gICAgLy8gJEZsb3dGaXhNZSg+PTAuNTUuMCkgRmxvdyBzdXBwcmVzc1xuICAgIGNvbnN0IG8gPSBuZXcgRE9NT2JzZXJ2ZXJPYnNlcnZhYmxlKE1vY2tET01PYnNlcnZlciwgJ3NvbWUnLCAnYWRkaXRpb25hbCcsIHtcbiAgICAgIGFyZ3M6IHRydWUsXG4gICAgfSk7XG4gICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gby5zdWJzY3JpYmUoKCkgPT4ge30pO1xuXG4gICAgaW52YXJpYW50KG9ic2VydmVySW5zdGFuY2UgIT0gbnVsbCk7XG4gICAgZXhwZWN0KG9ic2VydmVySW5zdGFuY2UuX2Nvbm5lY3RlZCkudG9CZSh0cnVlKTtcblxuICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgIGV4cGVjdChvYnNlcnZlckluc3RhbmNlLl9jb25uZWN0ZWQpLnRvQmUoZmFsc2UpO1xuICB9KTtcblxuICBpdChcbiAgICAnYnkgZGVmYXVsdCAod2l0aG91dCBhIGNhbGwgdG8gLmZsYXR0ZW5FbnRyaWVzKCkpIGNyZWF0ZXMgYW4gb2JzZXJ2YWJsZSBvZiAnICtcbiAgICAgICd0aGUgZWxlbWVudHMgZW1pdHRlZCBmcm9tIHRoZSBET00gT2JzZXJ2ZXInLFxuICAgICgpID0+IHtcbiAgICAgIGNsYXNzIE1vY2tET01PYnNlcnZlckVtaXRzQXJyYXkgZXh0ZW5kcyBNb2NrRE9NT2JzZXJ2ZXIge1xuICAgICAgICBvYnNlcnZlKC4uLmFyZ3M6IEFycmF5PGFueT4pIHtcbiAgICAgICAgICBzdXBlci5vYnNlcnZlKC4uLmFyZ3MpO1xuICAgICAgICAgIE9ic2VydmFibGUuaW50ZXJ2YWwoMSlcbiAgICAgICAgICAgIC5tYXBUbyhbJ2ZvbycsICdiYXInLCAnYmF6J10pXG4gICAgICAgICAgICAudGFrZSgyKVxuICAgICAgICAgICAgLnN1YnNjcmliZSh0aGlzLl9jYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgd2FpdHNGb3JQcm9taXNlKGFzeW5jICgpID0+IHtcbiAgICAgICAgLy8gJEZsb3dGaXhNZSg+PTAuNTUuMCkgRmxvdyBzdXBwcmVzc1xuICAgICAgICBjb25zdCBvdXRwdXQgPSBhd2FpdCBuZXcgRE9NT2JzZXJ2ZXJPYnNlcnZhYmxlKFxuICAgICAgICAgIE1vY2tET01PYnNlcnZlckVtaXRzQXJyYXksXG4gICAgICAgICAgJ2FyZycsXG4gICAgICAgIClcbiAgICAgICAgICAudGFrZSgyKVxuICAgICAgICAgIC50b0FycmF5KClcbiAgICAgICAgICAudG9Qcm9taXNlKCk7XG4gICAgICAgIGV4cGVjdChvdXRwdXQpLnRvRXF1YWwoW1snZm9vJywgJ2JhcicsICdiYXonXSwgWydmb28nLCAnYmFyJywgJ2JheiddXSk7XG4gICAgICB9KTtcbiAgICB9LFxuICApO1xuXG4gIGRlc2NyaWJlKCdtdWx0aXBsZSBzdWJzY3JpYmVycycsICgpID0+IHtcbiAgICBpdCgnb25seSBkaXNjb25uZWN0cyB0aGUgdW5kZXJseWluZyBvYnNlcnZlciB3aGVuIGFsbCBzdWJzY3JpYmVycyBoYXZlIHVuc3Vic2NyaWJlZCcsICgpID0+IHtcbiAgICAgIC8vICRGbG93Rml4TWUoPj0wLjU1LjApIEZsb3cgc3VwcHJlc3NcbiAgICAgIGNvbnN0IG8gPSBuZXcgRE9NT2JzZXJ2ZXJPYnNlcnZhYmxlKFxuICAgICAgICBNb2NrRE9NT2JzZXJ2ZXIsXG4gICAgICAgICdzb21lJyxcbiAgICAgICAgJ2FkZGl0aW9uYWwnLFxuICAgICAgICB7XG4gICAgICAgICAgYXJnczogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgICk7XG4gICAgICBjb25zdCBzdWJzY3JpcHRpb24gPSBvLnN1YnNjcmliZSgoKSA9PiB7fSk7XG4gICAgICBjb25zdCBzdWJzY3JpcHRpb24yID0gby5zdWJzY3JpYmUoKCkgPT4ge30pO1xuXG4gICAgICBpbnZhcmlhbnQob2JzZXJ2ZXJJbnN0YW5jZSAhPSBudWxsKTtcbiAgICAgIGV4cGVjdChvYnNlcnZlckluc3RhbmNlLl9jb25uZWN0ZWQpLnRvQmUodHJ1ZSk7XG5cbiAgICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgLy8gdGhlIHVuZGVybHlpbmcgb2JzZXJ2ZXIgaXMgc3RpbGwgY29ubmVjdGVkIHdoZW4gb25seSBvbmUgb2YgdGhlIHR3b1xuICAgICAgLy8gc3Vic2NyaWJlcnMgdW5zdWJzY3JpYmVzXG4gICAgICBleHBlY3Qob2JzZXJ2ZXJJbnN0YW5jZS5fY29ubmVjdGVkKS50b0JlKHRydWUpO1xuXG4gICAgICBleHBlY3QoKCkgPT4ge1xuICAgICAgICBzdWJzY3JpcHRpb24yLnVuc3Vic2NyaWJlKCk7XG4gICAgICB9KS5ub3QudG9UaHJvdygpO1xuICAgICAgLy8gYW5kIGZpbmFsbHkgZGlzY29ubmVjdCB3aGVuIGFsbCBzdWJzY3JpYmVycyBoYXZlIHVuc3Vic2NyaWJlZFxuICAgICAgZXhwZWN0KG9ic2VydmVySW5zdGFuY2UuX2Nvbm5lY3RlZCkudG9CZShmYWxzZSk7XG4gICAgfSk7XG5cbiAgICBpdChcbiAgICAgICdjcmVhdGVzIGEgbmV3IHVuZGVybHlpbmcgb2JzZXJ2YWJsZSBhbmQgY29ubmVjdHMgaXQgZm9yIG5ldycgK1xuICAgICAgICAnc3Vic2NyaXB0aW9ucyB0aGF0IGhhcHBlbiBhZnRlciBhIGRpc2Nvbm5lY3QnLFxuICAgICAgKCkgPT4ge1xuICAgICAgICAvLyAkRmxvd0ZpeE1lKD49MC41NS4wKSBGbG93IHN1cHByZXNzXG4gICAgICAgIGNvbnN0IG8gPSBuZXcgRE9NT2JzZXJ2ZXJPYnNlcnZhYmxlKFxuICAgICAgICAgIE1vY2tET01PYnNlcnZlcixcbiAgICAgICAgICAnc29tZScsXG4gICAgICAgICAgJ2FkZGl0aW9uYWwnLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGFyZ3M6IHRydWUsXG4gICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gby5zdWJzY3JpYmUoKCkgPT4ge30pO1xuICAgICAgICBjb25zdCBzdWJzY3JpcHRpb24yID0gby5zdWJzY3JpYmUoKCkgPT4ge30pO1xuXG4gICAgICAgIGludmFyaWFudChvYnNlcnZlckluc3RhbmNlICE9IG51bGwpO1xuICAgICAgICBjb25zdCBvbGRPYnNlcnZlciA9IG9ic2VydmVySW5zdGFuY2U7XG5cbiAgICAgICAgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIHN1YnNjcmlwdGlvbjIudW5zdWJzY3JpYmUoKTtcblxuICAgICAgICBleHBlY3Qob2JzZXJ2ZXJJbnN0YW5jZS5fY29ubmVjdGVkKS50b0JlKGZhbHNlKTtcbiAgICAgICAgY29uc3QgbmV3U3Vic2NyaXB0aW9uID0gby5zdWJzY3JpYmUoKCkgPT4ge30pO1xuICAgICAgICAvLyBjcmVhdGVzIGEgbmV3IHVuZGVybHlpbmcgb2JzZXJ2ZXJcbiAgICAgICAgZXhwZWN0KG9ic2VydmVySW5zdGFuY2UpLm5vdC50b0JlKG9sZE9ic2VydmVyKTtcbiAgICAgICAgZXhwZWN0KG9ic2VydmVySW5zdGFuY2UuX2Nvbm5lY3RlZCkudG9CZSh0cnVlKTtcbiAgICAgICAgbmV3U3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICB9LFxuICAgICk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdmbGF0dGVuRW50cmllcyBvcGVyYXRvcicsICgpID0+IHtcbiAgICBpdCgnaW1wbGVtZW50cyBsaWZ0IHRvIGNhdXNlIHN1YnNlcXVlbnQgb3BlcmF0b3JzIHRvIHJldHVybiBET01PYnNlcnZlck9ic2VydmFibGVzJywgKCkgPT4ge1xuICAgICAgY2xhc3MgTW9ja0RPTU9ic2VydmVyRW1pdHNBcnJheSBleHRlbmRzIE1vY2tET01PYnNlcnZlciB7XG4gICAgICAgIG9ic2VydmUoLi4uYXJnczogQXJyYXk8YW55Pikge1xuICAgICAgICAgIHN1cGVyLm9ic2VydmUoLi4uYXJncyk7XG4gICAgICAgICAgT2JzZXJ2YWJsZS5pbnRlcnZhbCgxKVxuICAgICAgICAgICAgLm1hcFRvKFsnZm9vJywgJ2JhcicsICdiYXonXSlcbiAgICAgICAgICAgIC50YWtlKDIpXG4gICAgICAgICAgICAuc3Vic2NyaWJlKHRoaXMuX2NhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBleHBlY3QoXG4gICAgICAgIC8vICRGbG93Rml4TWUoPj0wLjU1LjApIEZsb3cgc3VwcHJlc3NcbiAgICAgICAgbmV3IERPTU9ic2VydmVyT2JzZXJ2YWJsZShNb2NrRE9NT2JzZXJ2ZXJFbWl0c0FycmF5LCAnYXJnJylcbiAgICAgICAgICAuZmxhdHRlbkVudHJpZXMoKVxuICAgICAgICAgIC5tYXAoeCA9PiB4KSBpbnN0YW5jZW9mIERPTU9ic2VydmVyT2JzZXJ2YWJsZSxcbiAgICAgICkudG9CZSh0cnVlKTtcbiAgICB9KTtcblxuICAgIGl0KCdjcmVhdGVzIGFuIG9ic2VydmFibGUgb2YgdGhlIGluZGl2aWR1YWwgZWxlbWVudHMgb2YgdGhlIGFycmF5IGVtaXR0ZWQgZnJvbSB0aGUgRE9NIE9ic2VydmVyJywgKCkgPT4ge1xuICAgICAgY2xhc3MgTW9ja0RPTU9ic2VydmVyRW1pdHNBcnJheSBleHRlbmRzIE1vY2tET01PYnNlcnZlciB7XG4gICAgICAgIG9ic2VydmUoLi4uYXJnczogQXJyYXk8YW55Pikge1xuICAgICAgICAgIHN1cGVyLm9ic2VydmUoLi4uYXJncyk7XG4gICAgICAgICAgT2JzZXJ2YWJsZS5pbnRlcnZhbCgxKVxuICAgICAgICAgICAgLm1hcFRvKFsnZm9vJywgJ2JhcicsICdiYXonXSlcbiAgICAgICAgICAgIC50YWtlKDIpXG4gICAgICAgICAgICAuc3Vic2NyaWJlKHRoaXMuX2NhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB3YWl0c0ZvclByb21pc2UoYXN5bmMgKCkgPT4ge1xuICAgICAgICAvLyAkRmxvd0ZpeE1lKD49MC41NS4wKSBGbG93IHN1cHByZXNzXG4gICAgICAgIGNvbnN0IG91dHB1dCA9IGF3YWl0IG5ldyBET01PYnNlcnZlck9ic2VydmFibGUoXG4gICAgICAgICAgTW9ja0RPTU9ic2VydmVyRW1pdHNBcnJheSxcbiAgICAgICAgICAnYXJnJyxcbiAgICAgICAgKVxuICAgICAgICAgIC5mbGF0dGVuRW50cmllcygpXG4gICAgICAgICAgLnRha2UoNilcbiAgICAgICAgICAudG9BcnJheSgpXG4gICAgICAgICAgLnRvUHJvbWlzZSgpO1xuICAgICAgICBleHBlY3Qob3V0cHV0KS50b0VxdWFsKFsnZm9vJywgJ2JhcicsICdiYXonLCAnZm9vJywgJ2JhcicsICdiYXonXSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KFxuICAgICAgJ2NyZWF0ZXMgYW4gb2JzZXJ2YWJsZSBvZiB0aGUgaW5kaXZpZHVhbCBlbGVtZW50cyBvZiB0aGUgYXJyYXkgcmV0dXJuZWQgJyArXG4gICAgICAgICdmcm9tIHRoZSBnZXRFbnRyaWVzIG1ldGhvZCBvZiB0aGUgZW50cnlsaXN0IGVtaXR0ZWQgZnJvbSB0aGUgRE9NIE9ic2VydmVyJyxcbiAgICAgICgpID0+IHtcbiAgICAgICAgY2xhc3MgTW9ja0RPTU9ic2VydmVyRW1pdHNFbnRyeUxpc3QgZXh0ZW5kcyBNb2NrRE9NT2JzZXJ2ZXIge1xuICAgICAgICAgIG9ic2VydmUoLi4uYXJnczogQXJyYXk8YW55Pikge1xuICAgICAgICAgICAgc3VwZXIub2JzZXJ2ZSguLi5hcmdzKTtcbiAgICAgICAgICAgIE9ic2VydmFibGUuaW50ZXJ2YWwoMSlcbiAgICAgICAgICAgICAgLm1hcFRvKHtcbiAgICAgICAgICAgICAgICBnZXRFbnRyaWVzOiAoKSA9PiBbJ2ZvbycsICdiYXInLCAnYmF6J10sXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIC50YWtlKDIpXG4gICAgICAgICAgICAgIC5zdWJzY3JpYmUodGhpcy5fY2FsbGJhY2spO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHdhaXRzRm9yUHJvbWlzZShhc3luYyAoKSA9PiB7XG4gICAgICAgICAgLy8gJEZsb3dGaXhNZSg+PTAuNTUuMCkgRmxvdyBzdXBwcmVzc1xuICAgICAgICAgIGNvbnN0IG91dHB1dCA9IGF3YWl0IG5ldyBET01PYnNlcnZlck9ic2VydmFibGUoXG4gICAgICAgICAgICBNb2NrRE9NT2JzZXJ2ZXJFbWl0c0VudHJ5TGlzdCxcbiAgICAgICAgICAgICdhcmcnLFxuICAgICAgICAgIClcbiAgICAgICAgICAgIC5mbGF0dGVuRW50cmllcygpXG4gICAgICAgICAgICAudGFrZSg2KVxuICAgICAgICAgICAgLnRvQXJyYXkoKVxuICAgICAgICAgICAgLnRvUHJvbWlzZSgpO1xuICAgICAgICAgIGV4cGVjdChvdXRwdXQpLnRvRXF1YWwoWydmb28nLCAnYmFyJywgJ2JheicsICdmb28nLCAnYmFyJywgJ2JheiddKTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICk7XG5cbiAgICBpdCgndGhyb3dzIGlmIG5laXRoZXIgYW4gaXRlcmFibGUgbm9yIGFuIEVudHJ5TGlzdCBpcyBlbWl0dGVkIGZyb20gdGhlIERPTSBPYnNlcnZlcicsICgpID0+IHtcbiAgICAgIGNsYXNzIE1vY2tET01PYnNlcnZlckVtaXRzTm9uU3RhbmRhcmQgZXh0ZW5kcyBNb2NrRE9NT2JzZXJ2ZXIge1xuICAgICAgICBvYnNlcnZlKC4uLmFyZ3M6IEFycmF5PGFueT4pIHtcbiAgICAgICAgICBzdXBlci5vYnNlcnZlKC4uLmFyZ3MpO1xuICAgICAgICAgIE9ic2VydmFibGUuaW50ZXJ2YWwoMSlcbiAgICAgICAgICAgIC50YWtlKDIpXG4gICAgICAgICAgICAuc3Vic2NyaWJlKHRoaXMuX2NhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB3YWl0c0ZvclByb21pc2UoYXN5bmMgKCkgPT4ge1xuICAgICAgICBsZXQgZXJyb3I7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gJEZsb3dGaXhNZSg+PTAuNTUuMCkgRmxvdyBzdXBwcmVzc1xuICAgICAgICAgIGF3YWl0IG5ldyBET01PYnNlcnZlck9ic2VydmFibGUoXG4gICAgICAgICAgICBNb2NrRE9NT2JzZXJ2ZXJFbWl0c05vblN0YW5kYXJkLFxuICAgICAgICAgICAgJ2FyZycsXG4gICAgICAgICAgKVxuICAgICAgICAgICAgLmZsYXR0ZW5FbnRyaWVzKClcbiAgICAgICAgICAgIC50YWtlKDIpXG4gICAgICAgICAgICAudG9BcnJheSgpXG4gICAgICAgICAgICAudG9Qcm9taXNlKCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBlcnJvciA9IGU7XG4gICAgICAgIH1cbiAgICAgICAgaW52YXJpYW50KGVycm9yICE9IG51bGwpO1xuICAgICAgICBleHBlY3QoZXJyb3IubWVzc2FnZSkudG9FcXVhbChcbiAgICAgICAgICAnVHJpZWQgdG8gbWVyZ2UgRE9NIE9ic2VydmVyIGVudHJpZXMsIGJ1dCB0aGV5IHdlcmUgbm90IGl0ZXJhYmxlIG5vciB3ZXJlIHRoZXkgYW4gRW50cnlMaXN0LicsXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdfQ==