'use strict';

var cov_20kvgd0d2m = function () {
  var path = '/Users/hansonw/atom-ide-ui/modules/nuclide-jasmine/lib/waitsForPromise.js',
      hash = '6de350147613656232835b73de9b14ad328990f9',
      global = new Function('return this')(),
      gcv = '__coverage__',
      coverageData = {
    path: '/Users/hansonw/atom-ide-ui/modules/nuclide-jasmine/lib/waitsForPromise.js',
    statementMap: {
      '0': {
        start: {
          line: 25,
          column: 2
        },
        end: {
          line: 31,
          column: 3
        }
      },
      '1': {
        start: {
          line: 26,
          column: 4
        },
        end: {
          line: 26,
          column: 40
        }
      },
      '2': {
        start: {
          line: 27,
          column: 4
        },
        end: {
          line: 27,
          column: 30
        }
      },
      '3': {
        start: {
          line: 29,
          column: 4
        },
        end: {
          line: 29,
          column: 25
        }
      },
      '4': {
        start: {
          line: 30,
          column: 4
        },
        end: {
          line: 30,
          column: 16
        }
      },
      '5': {
        start: {
          line: 33,
          column: 17
        },
        end: {
          line: 33,
          column: 22
        }
      },
      '6': {
        start: {
          line: 35,
          column: 2
        },
        end: {
          line: 75,
          column: 5
        }
      },
      '7': {
        start: {
          line: 36,
          column: 15
        },
        end: {
          line: 36,
          column: 36
        }
      },
      '8': {
        start: {
          line: 37,
          column: 4
        },
        end: {
          line: 37,
          column: 40
        }
      },
      '9': {
        start: {
          line: 38,
          column: 20
        },
        end: {
          line: 38,
          column: 24
        }
      },
      '10': {
        start: {
          line: 39,
          column: 4
        },
        end: {
          line: 74,
          column: 5
        }
      },
      '11': {
        start: {
          line: 40,
          column: 6
        },
        end: {
          line: 55,
          column: 11
        }
      },
      '12': {
        start: {
          line: 43,
          column: 12
        },
        end: {
          line: 47,
          column: 16
        }
      },
      '13': {
        start: {
          line: 54,
          column: 10
        },
        end: {
          line: 54,
          column: 26
        }
      },
      '14': {
        start: {
          line: 57,
          column: 6
        },
        end: {
          line: 73,
          column: 11
        }
      },
      '15': {
        start: {
          line: 63,
          column: 25
        },
        end: {
          line: 63,
          column: 78
        }
      },
      '16': {
        start: {
          line: 64,
          column: 12
        },
        end: {
          line: 68,
          column: 16
        }
      },
      '17': {
        start: {
          line: 72,
          column: 10
        },
        end: {
          line: 72,
          column: 26
        }
      },
      '18': {
        start: {
          line: 77,
          column: 2
        },
        end: {
          line: 77,
          column: 36
        }
      },
      '19': {
        start: {
          line: 77,
          column: 26
        },
        end: {
          line: 77,
          column: 34
        }
      }
    },
    fnMap: {
      '0': {
        name: 'waitsForPromise',
        decl: {
          start: {
            line: 20,
            column: 24
          },
          end: {
            line: 20,
            column: 39
          }
        },
        loc: {
          start: {
            line: 22,
            column: 8
          },
          end: {
            line: 78,
            column: 1
          }
        },
        line: 22
      },
      '1': {
        name: '(anonymous_1)',
        decl: {
          start: {
            line: 35,
            column: 7
          },
          end: {
            line: 35,
            column: 8
          }
        },
        loc: {
          start: {
            line: 35,
            column: 13
          },
          end: {
            line: 75,
            column: 3
          }
        },
        line: 35
      },
      '2': {
        name: '(anonymous_2)',
        decl: {
          start: {
            line: 42,
            column: 10
          },
          end: {
            line: 42,
            column: 11
          }
        },
        loc: {
          start: {
            line: 42,
            column: 16
          },
          end: {
            line: 48,
            column: 11
          }
        },
        line: 42
      },
      '3': {
        name: '(anonymous_3)',
        decl: {
          start: {
            line: 49,
            column: 10
          },
          end: {
            line: 49,
            column: 11
          }
        },
        loc: {
          start: {
            line: 49,
            column: 16
          },
          end: {
            line: 51,
            column: 11
          }
        },
        line: 49
      },
      '4': {
        name: '(anonymous_4)',
        decl: {
          start: {
            line: 53,
            column: 14
          },
          end: {
            line: 53,
            column: 15
          }
        },
        loc: {
          start: {
            line: 53,
            column: 20
          },
          end: {
            line: 55,
            column: 9
          }
        },
        line: 53
      },
      '5': {
        name: '(anonymous_5)',
        decl: {
          start: {
            line: 59,
            column: 10
          },
          end: {
            line: 59,
            column: 11
          }
        },
        loc: {
          start: {
            line: 59,
            column: 16
          },
          end: {
            line: 61,
            column: 11
          }
        },
        line: 59
      },
      '6': {
        name: '(anonymous_6)',
        decl: {
          start: {
            line: 62,
            column: 10
          },
          end: {
            line: 62,
            column: 11
          }
        },
        loc: {
          start: {
            line: 62,
            column: 19
          },
          end: {
            line: 69,
            column: 11
          }
        },
        line: 62
      },
      '7': {
        name: '(anonymous_7)',
        decl: {
          start: {
            line: 71,
            column: 14
          },
          end: {
            line: 71,
            column: 15
          }
        },
        loc: {
          start: {
            line: 71,
            column: 20
          },
          end: {
            line: 73,
            column: 9
          }
        },
        line: 71
      },
      '8': {
        name: '(anonymous_8)',
        decl: {
          start: {
            line: 77,
            column: 20
          },
          end: {
            line: 77,
            column: 21
          }
        },
        loc: {
          start: {
            line: 77,
            column: 26
          },
          end: {
            line: 77,
            column: 34
          }
        },
        line: 77
      }
    },
    branchMap: {
      '0': {
        loc: {
          start: {
            line: 25,
            column: 2
          },
          end: {
            line: 31,
            column: 3
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 25,
            column: 2
          },
          end: {
            line: 31,
            column: 3
          }
        }, {
          start: {
            line: 25,
            column: 2
          },
          end: {
            line: 31,
            column: 3
          }
        }],
        line: 25
      },
      '1': {
        loc: {
          start: {
            line: 39,
            column: 4
          },
          end: {
            line: 74,
            column: 5
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 39,
            column: 4
          },
          end: {
            line: 74,
            column: 5
          }
        }, {
          start: {
            line: 39,
            column: 4
          },
          end: {
            line: 74,
            column: 5
          }
        }],
        line: 39
      },
      '2': {
        loc: {
          start: {
            line: 63,
            column: 25
          },
          end: {
            line: 63,
            column: 78
          }
        },
        type: 'cond-expr',
        locations: [{
          start: {
            line: 63,
            column: 33
          },
          end: {
            line: 63,
            column: 64
          }
        }, {
          start: {
            line: 63,
            column: 67
          },
          end: {
            line: 63,
            column: 78
          }
        }],
        line: 63
      },
      '3': {
        loc: {
          start: {
            line: 63,
            column: 33
          },
          end: {
            line: 63,
            column: 64
          }
        },
        type: 'binary-expr',
        locations: [{
          start: {
            line: 63,
            column: 33
          },
          end: {
            line: 63,
            column: 44
          }
        }, {
          start: {
            line: 63,
            column: 48
          },
          end: {
            line: 63,
            column: 64
          }
        }],
        line: 63
      }
    },
    s: {
      '0': 0,
      '1': 0,
      '2': 0,
      '3': 0,
      '4': 0,
      '5': 0,
      '6': 0,
      '7': 0,
      '8': 0,
      '9': 0,
      '10': 0,
      '11': 0,
      '12': 0,
      '13': 0,
      '14': 0,
      '15': 0,
      '16': 0,
      '17': 0,
      '18': 0,
      '19': 0
    },
    f: {
      '0': 0,
      '1': 0,
      '2': 0,
      '3': 0,
      '4': 0,
      '5': 0,
      '6': 0,
      '7': 0,
      '8': 0
    },
    b: {
      '0': [0, 0],
      '1': [0, 0],
      '2': [0, 0],
      '3': [0, 0]
    },
    _coverageSchema: '332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'
  },
      coverage = global[gcv] || (global[gcv] = {});

  if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }

  coverageData.hash = hash;
  return coverage[path] = coverageData;
}();

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = waitsForPromise;
function waitsForPromise(...args) {
  cov_20kvgd0d2m.f[0]++;

  let shouldReject;
  let timeout;
  cov_20kvgd0d2m.s[0]++;
  if (args.length > 1) {
    cov_20kvgd0d2m.b[0][0]++;
    cov_20kvgd0d2m.s[1]++;

    shouldReject = args[0].shouldReject;
    cov_20kvgd0d2m.s[2]++;
    timeout = args[0].timeout;
  } else {
    cov_20kvgd0d2m.b[0][1]++;
    cov_20kvgd0d2m.s[3]++;

    shouldReject = false;
    cov_20kvgd0d2m.s[4]++;
    timeout = 0;
  }

  let finished = (cov_20kvgd0d2m.s[5]++, false);

  cov_20kvgd0d2m.s[6]++;
  runs(() => {
    cov_20kvgd0d2m.f[1]++;

    const fn = (cov_20kvgd0d2m.s[7]++, args[args.length - 1]);
    cov_20kvgd0d2m.s[8]++;

    if (!(typeof fn === 'function')) {
      throw new Error('Invariant violation: "typeof fn === \'function\'"');
    }

    const promise = (cov_20kvgd0d2m.s[9]++, fn());
    cov_20kvgd0d2m.s[10]++;
    if (shouldReject) {
      cov_20kvgd0d2m.b[1][0]++;
      cov_20kvgd0d2m.s[11]++;

      promise.then(() => {
        cov_20kvgd0d2m.f[2]++;
        cov_20kvgd0d2m.s[12]++;

        jasmine.getEnv().currentSpec.fail('Expected promise to be rejected, but it was resolved');
      }, () => {
        // Do nothing, it's expected.

        cov_20kvgd0d2m.f[3]++;
      }).then(() => {
        cov_20kvgd0d2m.f[4]++;
        cov_20kvgd0d2m.s[13]++;

        finished = true;
      });
    } else {
      cov_20kvgd0d2m.b[1][1]++;
      cov_20kvgd0d2m.s[14]++;

      promise.then(() => {
        // Do nothing, it's expected.

        cov_20kvgd0d2m.f[5]++;
      }, error => {
        cov_20kvgd0d2m.f[6]++;

        const text = (cov_20kvgd0d2m.s[15]++, error ? (cov_20kvgd0d2m.b[2][0]++, (cov_20kvgd0d2m.b[3][0]++, error.stack) || (cov_20kvgd0d2m.b[3][1]++, error.toString())) : (cov_20kvgd0d2m.b[2][1]++, 'undefined'));
        cov_20kvgd0d2m.s[16]++;
        jasmine.getEnv().currentSpec.fail(`Expected promise to be resolved, but it was rejected with ${text}`);
      }).then(() => {
        cov_20kvgd0d2m.f[7]++;
        cov_20kvgd0d2m.s[17]++;

        finished = true;
      });
    }
  });

  cov_20kvgd0d2m.s[18]++;
  waitsFor(timeout, () => {
    cov_20kvgd0d2m.f[8]++;
    cov_20kvgd0d2m.s[19]++;
    return finished;
  });
} /**
   * Copyright (c) 2017-present, Facebook, Inc.
   * All rights reserved.
   *
   * This source code is licensed under the BSD-style license found in the
   * LICENSE file in the root directory of this source tree. An additional grant
   * of patent rights can be found in the PATENTS file in the same directory.
   *
   * 
   * @format
   */
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndhaXRzRm9yUHJvbWlzZS5qcyJdLCJuYW1lcyI6WyJ3YWl0c0ZvclByb21pc2UiLCJhcmdzIiwic2hvdWxkUmVqZWN0IiwidGltZW91dCIsImxlbmd0aCIsImZpbmlzaGVkIiwicnVucyIsImZuIiwicHJvbWlzZSIsInRoZW4iLCJqYXNtaW5lIiwiZ2V0RW52IiwiY3VycmVudFNwZWMiLCJmYWlsIiwiZXJyb3IiLCJ0ZXh0Iiwic3RhY2siLCJ0b1N0cmluZyIsIndhaXRzRm9yIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztrQkFtQndCQSxlO0FBQVQsU0FBU0EsZUFBVCxDQUNiLEdBQUdDLElBRFUsRUFFUDtBQUFBOztBQUNOLE1BQUlDLFlBQUo7QUFDQSxNQUFJQyxPQUFKO0FBRk07QUFHTixNQUFJRixLQUFLRyxNQUFMLEdBQWMsQ0FBbEIsRUFBcUI7QUFBQTtBQUFBOztBQUNuQkYsbUJBQWVELEtBQUssQ0FBTCxFQUFRQyxZQUF2QjtBQURtQjtBQUVuQkMsY0FBVUYsS0FBSyxDQUFMLEVBQVFFLE9BQWxCO0FBQ0QsR0FIRCxNQUdPO0FBQUE7QUFBQTs7QUFDTEQsbUJBQWUsS0FBZjtBQURLO0FBRUxDLGNBQVUsQ0FBVjtBQUNEOztBQUVELE1BQUlFLG1DQUFXLEtBQVgsQ0FBSjs7QUFYTTtBQWFOQyxPQUFLLE1BQU07QUFBQTs7QUFDVCxVQUFNQyw2QkFBS04sS0FBS0EsS0FBS0csTUFBTCxHQUFjLENBQW5CLENBQUwsQ0FBTjtBQURTOztBQUFBLFVBRUMsT0FBT0csRUFBUCxLQUFjLFVBRmY7QUFBQTtBQUFBOztBQUdULFVBQU1DLGtDQUFVRCxJQUFWLENBQU47QUFIUztBQUlULFFBQUlMLFlBQUosRUFBa0I7QUFBQTtBQUFBOztBQUNoQk0sY0FDR0MsSUFESCxDQUVJLE1BQU07QUFBQTtBQUFBOztBQUNKQyxnQkFDR0MsTUFESCxHQUVHQyxXQUZILENBRWVDLElBRmYsQ0FHSSxzREFISjtBQUtELE9BUkwsRUFTSSxNQUFNO0FBQ0o7O0FBREk7QUFFTCxPQVhMLEVBYUdKLElBYkgsQ0FhUSxNQUFNO0FBQUE7QUFBQTs7QUFDVkosbUJBQVcsSUFBWDtBQUNELE9BZkg7QUFnQkQsS0FqQkQsTUFpQk87QUFBQTtBQUFBOztBQUNMRyxjQUNHQyxJQURILENBRUksTUFBTTtBQUNKOztBQURJO0FBRUwsT0FKTCxFQUtJSyxTQUFTO0FBQUE7O0FBQ1AsY0FBTUMsZ0NBQU9ELG1DQUFRLGlDQUFNRSxLQUFOLGdDQUFlRixNQUFNRyxRQUFOLEVBQWYsQ0FBUiwrQkFBMEMsV0FBMUMsQ0FBUCxDQUFOO0FBRE87QUFFUFAsZ0JBQ0dDLE1BREgsR0FFR0MsV0FGSCxDQUVlQyxJQUZmLENBR0ssNkRBQTRERSxJQUFLLEVBSHRFO0FBS0QsT0FaTCxFQWNHTixJQWRILENBY1EsTUFBTTtBQUFBO0FBQUE7O0FBQ1ZKLG1CQUFXLElBQVg7QUFDRCxPQWhCSDtBQWlCRDtBQUNGLEdBeENEOztBQWJNO0FBdUROYSxXQUFTZixPQUFULEVBQWtCLE1BQU1FO0FBQUFBO0FBQUFBO0FBQUFBO0FBQVFBLEdBQWhDO0FBQ0QsQyxDQTdFRCIsImZpbGUiOiJ3YWl0c0ZvclByb21pc2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQGZsb3dcbiAqIEBmb3JtYXRcbiAqL1xuXG5pbXBvcnQgaW52YXJpYW50IGZyb20gJ2Fzc2VydCc7XG5cbnR5cGUgV2FpdHNGb3JQcm9taXNlT3B0aW9ucyA9IHtcbiAgc2hvdWxkUmVqZWN0PzogYm9vbGVhbixcbiAgdGltZW91dD86IG51bWJlcixcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHdhaXRzRm9yUHJvbWlzZShcbiAgLi4uYXJnczogQXJyYXk8V2FpdHNGb3JQcm9taXNlT3B0aW9ucyB8ICgoKSA9PiBQcm9taXNlPG1peGVkPik+XG4pOiB2b2lkIHtcbiAgbGV0IHNob3VsZFJlamVjdDtcbiAgbGV0IHRpbWVvdXQ7XG4gIGlmIChhcmdzLmxlbmd0aCA+IDEpIHtcbiAgICBzaG91bGRSZWplY3QgPSBhcmdzWzBdLnNob3VsZFJlamVjdDtcbiAgICB0aW1lb3V0ID0gYXJnc1swXS50aW1lb3V0O1xuICB9IGVsc2Uge1xuICAgIHNob3VsZFJlamVjdCA9IGZhbHNlO1xuICAgIHRpbWVvdXQgPSAwO1xuICB9XG5cbiAgbGV0IGZpbmlzaGVkID0gZmFsc2U7XG5cbiAgcnVucygoKSA9PiB7XG4gICAgY29uc3QgZm4gPSBhcmdzW2FyZ3MubGVuZ3RoIC0gMV07XG4gICAgaW52YXJpYW50KHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJyk7XG4gICAgY29uc3QgcHJvbWlzZSA9IGZuKCk7XG4gICAgaWYgKHNob3VsZFJlamVjdCkge1xuICAgICAgcHJvbWlzZVxuICAgICAgICAudGhlbihcbiAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICBqYXNtaW5lXG4gICAgICAgICAgICAgIC5nZXRFbnYoKVxuICAgICAgICAgICAgICAuY3VycmVudFNwZWMuZmFpbChcbiAgICAgICAgICAgICAgICAnRXhwZWN0ZWQgcHJvbWlzZSB0byBiZSByZWplY3RlZCwgYnV0IGl0IHdhcyByZXNvbHZlZCcsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAvLyBEbyBub3RoaW5nLCBpdCdzIGV4cGVjdGVkLlxuICAgICAgICAgIH0sXG4gICAgICAgIClcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIGZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb21pc2VcbiAgICAgICAgLnRoZW4oXG4gICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgLy8gRG8gbm90aGluZywgaXQncyBleHBlY3RlZC5cbiAgICAgICAgICB9LFxuICAgICAgICAgIGVycm9yID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRleHQgPSBlcnJvciA/IGVycm9yLnN0YWNrIHx8IGVycm9yLnRvU3RyaW5nKCkgOiAndW5kZWZpbmVkJztcbiAgICAgICAgICAgIGphc21pbmVcbiAgICAgICAgICAgICAgLmdldEVudigpXG4gICAgICAgICAgICAgIC5jdXJyZW50U3BlYy5mYWlsKFxuICAgICAgICAgICAgICAgIGBFeHBlY3RlZCBwcm9taXNlIHRvIGJlIHJlc29sdmVkLCBidXQgaXQgd2FzIHJlamVjdGVkIHdpdGggJHt0ZXh0fWAsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgfSxcbiAgICAgICAgKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIHdhaXRzRm9yKHRpbWVvdXQsICgpID0+IGZpbmlzaGVkKTtcbn1cbiJdfQ==