'use strict';

var cov_12lvy1phtm = function () {
  var path = '/Users/hansonw/atom-ide-ui/modules/nuclide-commons/spec/symbol-definition-preview-spec.js',
      hash = '0c39eddfab21a417085293c440aa554a422e2e3c',
      global = new Function('return this')(),
      gcv = '__coverage__',
      coverageData = {
    path: '/Users/hansonw/atom-ide-ui/modules/nuclide-commons/spec/symbol-definition-preview-spec.js',
    statementMap: {
      '0': {
        start: {
          line: 20,
          column: 2
        },
        end: {
          line: 28,
          column: 4
        }
      },
      '1': {
        start: {
          line: 32,
          column: 2
        },
        end: {
          line: 40,
          column: 4
        }
      },
      '2': {
        start: {
          line: 43,
          column: 0
        },
        end: {
          line: 203,
          column: 3
        }
      },
      '3': {
        start: {
          line: 44,
          column: 2
        },
        end: {
          line: 74,
          column: 5
        }
      },
      '4': {
        start: {
          line: 45,
          column: 4
        },
        end: {
          line: 55,
          column: 7
        }
      },
      '5': {
        start: {
          line: 46,
          column: 6
        },
        end: {
          line: 54,
          column: 9
        }
      },
      '6': {
        start: {
          line: 47,
          column: 24
        },
        end: {
          line: 49,
          column: 9
        }
      },
      '7': {
        start: {
          line: 51,
          column: 8
        },
        end: {
          line: 51,
          column: 39
        }
      },
      '8': {
        start: {
          line: 52,
          column: 8
        },
        end: {
          line: 52,
          column: 35
        }
      },
      '9': {
        start: {
          line: 53,
          column: 8
        },
        end: {
          line: 53,
          column: 67
        }
      },
      '10': {
        start: {
          line: 57,
          column: 4
        },
        end: {
          line: 73,
          column: 7
        }
      },
      '11': {
        start: {
          line: 58,
          column: 6
        },
        end: {
          line: 72,
          column: 9
        }
      },
      '12': {
        start: {
          line: 59,
          column: 24
        },
        end: {
          line: 61,
          column: 9
        }
      },
      '13': {
        start: {
          line: 63,
          column: 8
        },
        end: {
          line: 63,
          column: 39
        }
      },
      '14': {
        start: {
          line: 64,
          column: 8
        },
        end: {
          line: 64,
          column: 35
        }
      },
      '15': {
        start: {
          line: 65,
          column: 8
        },
        end: {
          line: 71,
          column: 10
        }
      },
      '16': {
        start: {
          line: 76,
          column: 2
        },
        end: {
          line: 122,
          column: 5
        }
      },
      '17': {
        start: {
          line: 77,
          column: 4
        },
        end: {
          line: 92,
          column: 7
        }
      },
      '18': {
        start: {
          line: 78,
          column: 6
        },
        end: {
          line: 91,
          column: 9
        }
      },
      '19': {
        start: {
          line: 79,
          column: 24
        },
        end: {
          line: 81,
          column: 9
        }
      },
      '20': {
        start: {
          line: 83,
          column: 8
        },
        end: {
          line: 83,
          column: 39
        }
      },
      '21': {
        start: {
          line: 84,
          column: 8
        },
        end: {
          line: 84,
          column: 35
        }
      },
      '22': {
        start: {
          line: 85,
          column: 8
        },
        end: {
          line: 90,
          column: 10
        }
      },
      '23': {
        start: {
          line: 94,
          column: 4
        },
        end: {
          line: 104,
          column: 7
        }
      },
      '24': {
        start: {
          line: 95,
          column: 6
        },
        end: {
          line: 103,
          column: 9
        }
      },
      '25': {
        start: {
          line: 96,
          column: 24
        },
        end: {
          line: 98,
          column: 9
        }
      },
      '26': {
        start: {
          line: 100,
          column: 8
        },
        end: {
          line: 100,
          column: 39
        }
      },
      '27': {
        start: {
          line: 101,
          column: 8
        },
        end: {
          line: 101,
          column: 35
        }
      },
      '28': {
        start: {
          line: 102,
          column: 8
        },
        end: {
          line: 102,
          column: 58
        }
      },
      '29': {
        start: {
          line: 106,
          column: 4
        },
        end: {
          line: 121,
          column: 7
        }
      },
      '30': {
        start: {
          line: 107,
          column: 6
        },
        end: {
          line: 120,
          column: 9
        }
      },
      '31': {
        start: {
          line: 108,
          column: 24
        },
        end: {
          line: 110,
          column: 9
        }
      },
      '32': {
        start: {
          line: 112,
          column: 8
        },
        end: {
          line: 112,
          column: 39
        }
      },
      '33': {
        start: {
          line: 113,
          column: 8
        },
        end: {
          line: 113,
          column: 35
        }
      },
      '34': {
        start: {
          line: 114,
          column: 8
        },
        end: {
          line: 119,
          column: 10
        }
      },
      '35': {
        start: {
          line: 124,
          column: 2
        },
        end: {
          line: 202,
          column: 5
        }
      },
      '36': {
        start: {
          line: 125,
          column: 4
        },
        end: {
          line: 137,
          column: 7
        }
      },
      '37': {
        start: {
          line: 126,
          column: 6
        },
        end: {
          line: 136,
          column: 9
        }
      },
      '38': {
        start: {
          line: 127,
          column: 24
        },
        end: {
          line: 129,
          column: 9
        }
      },
      '39': {
        start: {
          line: 131,
          column: 8
        },
        end: {
          line: 131,
          column: 39
        }
      },
      '40': {
        start: {
          line: 132,
          column: 8
        },
        end: {
          line: 132,
          column: 35
        }
      },
      '41': {
        start: {
          line: 133,
          column: 8
        },
        end: {
          line: 135,
          column: 10
        }
      },
      '42': {
        start: {
          line: 139,
          column: 4
        },
        end: {
          line: 149,
          column: 7
        }
      },
      '43': {
        start: {
          line: 140,
          column: 6
        },
        end: {
          line: 148,
          column: 9
        }
      },
      '44': {
        start: {
          line: 141,
          column: 24
        },
        end: {
          line: 143,
          column: 9
        }
      },
      '45': {
        start: {
          line: 145,
          column: 8
        },
        end: {
          line: 145,
          column: 39
        }
      },
      '46': {
        start: {
          line: 146,
          column: 8
        },
        end: {
          line: 146,
          column: 35
        }
      },
      '47': {
        start: {
          line: 147,
          column: 8
        },
        end: {
          line: 147,
          column: 61
        }
      },
      '48': {
        start: {
          line: 151,
          column: 4
        },
        end: {
          line: 165,
          column: 7
        }
      },
      '49': {
        start: {
          line: 152,
          column: 6
        },
        end: {
          line: 164,
          column: 9
        }
      },
      '50': {
        start: {
          line: 153,
          column: 24
        },
        end: {
          line: 155,
          column: 9
        }
      },
      '51': {
        start: {
          line: 157,
          column: 8
        },
        end: {
          line: 157,
          column: 39
        }
      },
      '52': {
        start: {
          line: 158,
          column: 8
        },
        end: {
          line: 158,
          column: 35
        }
      },
      '53': {
        start: {
          line: 159,
          column: 8
        },
        end: {
          line: 163,
          column: 10
        }
      },
      '54': {
        start: {
          line: 167,
          column: 4
        },
        end: {
          line: 183,
          column: 7
        }
      },
      '55': {
        start: {
          line: 168,
          column: 6
        },
        end: {
          line: 182,
          column: 9
        }
      },
      '56': {
        start: {
          line: 169,
          column: 24
        },
        end: {
          line: 171,
          column: 9
        }
      },
      '57': {
        start: {
          line: 173,
          column: 8
        },
        end: {
          line: 173,
          column: 39
        }
      },
      '58': {
        start: {
          line: 174,
          column: 8
        },
        end: {
          line: 174,
          column: 35
        }
      },
      '59': {
        start: {
          line: 175,
          column: 8
        },
        end: {
          line: 181,
          column: 10
        }
      },
      '60': {
        start: {
          line: 185,
          column: 4
        },
        end: {
          line: 201,
          column: 7
        }
      },
      '61': {
        start: {
          line: 186,
          column: 6
        },
        end: {
          line: 200,
          column: 9
        }
      },
      '62': {
        start: {
          line: 187,
          column: 24
        },
        end: {
          line: 189,
          column: 9
        }
      },
      '63': {
        start: {
          line: 191,
          column: 8
        },
        end: {
          line: 191,
          column: 39
        }
      },
      '64': {
        start: {
          line: 192,
          column: 8
        },
        end: {
          line: 192,
          column: 35
        }
      },
      '65': {
        start: {
          line: 193,
          column: 8
        },
        end: {
          line: 199,
          column: 10
        }
      }
    },
    fnMap: {
      '0': {
        name: 'javascriptFixtureDefinitionWithPoint',
        decl: {
          start: {
            line: 19,
            column: 9
          },
          end: {
            line: 19,
            column: 45
          }
        },
        loc: {
          start: {
            line: 19,
            column: 60
          },
          end: {
            line: 29,
            column: 1
          }
        },
        line: 19
      },
      '1': {
        name: 'pythonFixtureDefinitionWithPoint',
        decl: {
          start: {
            line: 31,
            column: 9
          },
          end: {
            line: 31,
            column: 41
          }
        },
        loc: {
          start: {
            line: 31,
            column: 56
          },
          end: {
            line: 41,
            column: 1
          }
        },
        line: 31
      },
      '2': {
        name: '(anonymous_2)',
        decl: {
          start: {
            line: 43,
            column: 33
          },
          end: {
            line: 43,
            column: 34
          }
        },
        loc: {
          start: {
            line: 43,
            column: 39
          },
          end: {
            line: 203,
            column: 1
          }
        },
        line: 43
      },
      '3': {
        name: '(anonymous_3)',
        decl: {
          start: {
            line: 44,
            column: 31
          },
          end: {
            line: 44,
            column: 32
          }
        },
        loc: {
          start: {
            line: 44,
            column: 37
          },
          end: {
            line: 74,
            column: 3
          }
        },
        line: 44
      },
      '4': {
        name: '(anonymous_4)',
        decl: {
          start: {
            line: 45,
            column: 53
          },
          end: {
            line: 45,
            column: 54
          }
        },
        loc: {
          start: {
            line: 45,
            column: 59
          },
          end: {
            line: 55,
            column: 5
          }
        },
        line: 45
      },
      '5': {
        name: '(anonymous_5)',
        decl: {
          start: {
            line: 46,
            column: 22
          },
          end: {
            line: 46,
            column: 23
          }
        },
        loc: {
          start: {
            line: 46,
            column: 34
          },
          end: {
            line: 54,
            column: 7
          }
        },
        line: 46
      },
      '6': {
        name: '(anonymous_6)',
        decl: {
          start: {
            line: 57,
            column: 47
          },
          end: {
            line: 57,
            column: 48
          }
        },
        loc: {
          start: {
            line: 57,
            column: 53
          },
          end: {
            line: 73,
            column: 5
          }
        },
        line: 57
      },
      '7': {
        name: '(anonymous_7)',
        decl: {
          start: {
            line: 58,
            column: 22
          },
          end: {
            line: 58,
            column: 23
          }
        },
        loc: {
          start: {
            line: 58,
            column: 34
          },
          end: {
            line: 72,
            column: 7
          }
        },
        line: 58
      },
      '8': {
        name: '(anonymous_8)',
        decl: {
          start: {
            line: 76,
            column: 27
          },
          end: {
            line: 76,
            column: 28
          }
        },
        loc: {
          start: {
            line: 76,
            column: 33
          },
          end: {
            line: 122,
            column: 3
          }
        },
        line: 76
      },
      '9': {
        name: '(anonymous_9)',
        decl: {
          start: {
            line: 77,
            column: 44
          },
          end: {
            line: 77,
            column: 45
          }
        },
        loc: {
          start: {
            line: 77,
            column: 50
          },
          end: {
            line: 92,
            column: 5
          }
        },
        line: 77
      },
      '10': {
        name: '(anonymous_10)',
        decl: {
          start: {
            line: 78,
            column: 22
          },
          end: {
            line: 78,
            column: 23
          }
        },
        loc: {
          start: {
            line: 78,
            column: 34
          },
          end: {
            line: 91,
            column: 7
          }
        },
        line: 78
      },
      '11': {
        name: '(anonymous_11)',
        decl: {
          start: {
            line: 94,
            column: 55
          },
          end: {
            line: 94,
            column: 56
          }
        },
        loc: {
          start: {
            line: 94,
            column: 61
          },
          end: {
            line: 104,
            column: 5
          }
        },
        line: 94
      },
      '12': {
        name: '(anonymous_12)',
        decl: {
          start: {
            line: 95,
            column: 22
          },
          end: {
            line: 95,
            column: 23
          }
        },
        loc: {
          start: {
            line: 95,
            column: 34
          },
          end: {
            line: 103,
            column: 7
          }
        },
        line: 95
      },
      '13': {
        name: '(anonymous_13)',
        decl: {
          start: {
            line: 106,
            column: 69
          },
          end: {
            line: 106,
            column: 70
          }
        },
        loc: {
          start: {
            line: 106,
            column: 75
          },
          end: {
            line: 121,
            column: 5
          }
        },
        line: 106
      },
      '14': {
        name: '(anonymous_14)',
        decl: {
          start: {
            line: 107,
            column: 22
          },
          end: {
            line: 107,
            column: 23
          }
        },
        loc: {
          start: {
            line: 107,
            column: 34
          },
          end: {
            line: 120,
            column: 7
          }
        },
        line: 107
      },
      '15': {
        name: '(anonymous_15)',
        decl: {
          start: {
            line: 124,
            column: 31
          },
          end: {
            line: 124,
            column: 32
          }
        },
        loc: {
          start: {
            line: 124,
            column: 37
          },
          end: {
            line: 202,
            column: 3
          }
        },
        line: 124
      },
      '16': {
        name: '(anonymous_16)',
        decl: {
          start: {
            line: 125,
            column: 73
          },
          end: {
            line: 125,
            column: 74
          }
        },
        loc: {
          start: {
            line: 125,
            column: 79
          },
          end: {
            line: 137,
            column: 5
          }
        },
        line: 125
      },
      '17': {
        name: '(anonymous_17)',
        decl: {
          start: {
            line: 126,
            column: 22
          },
          end: {
            line: 126,
            column: 23
          }
        },
        loc: {
          start: {
            line: 126,
            column: 34
          },
          end: {
            line: 136,
            column: 7
          }
        },
        line: 126
      },
      '18': {
        name: '(anonymous_18)',
        decl: {
          start: {
            line: 139,
            column: 51
          },
          end: {
            line: 139,
            column: 52
          }
        },
        loc: {
          start: {
            line: 139,
            column: 57
          },
          end: {
            line: 149,
            column: 5
          }
        },
        line: 139
      },
      '19': {
        name: '(anonymous_19)',
        decl: {
          start: {
            line: 140,
            column: 22
          },
          end: {
            line: 140,
            column: 23
          }
        },
        loc: {
          start: {
            line: 140,
            column: 34
          },
          end: {
            line: 148,
            column: 7
          }
        },
        line: 140
      },
      '20': {
        name: '(anonymous_20)',
        decl: {
          start: {
            line: 151,
            column: 67
          },
          end: {
            line: 151,
            column: 68
          }
        },
        loc: {
          start: {
            line: 151,
            column: 73
          },
          end: {
            line: 165,
            column: 5
          }
        },
        line: 151
      },
      '21': {
        name: '(anonymous_21)',
        decl: {
          start: {
            line: 152,
            column: 22
          },
          end: {
            line: 152,
            column: 23
          }
        },
        loc: {
          start: {
            line: 152,
            column: 34
          },
          end: {
            line: 164,
            column: 7
          }
        },
        line: 152
      },
      '22': {
        name: '(anonymous_22)',
        decl: {
          start: {
            line: 167,
            column: 67
          },
          end: {
            line: 167,
            column: 68
          }
        },
        loc: {
          start: {
            line: 167,
            column: 73
          },
          end: {
            line: 183,
            column: 5
          }
        },
        line: 167
      },
      '23': {
        name: '(anonymous_23)',
        decl: {
          start: {
            line: 168,
            column: 22
          },
          end: {
            line: 168,
            column: 23
          }
        },
        loc: {
          start: {
            line: 168,
            column: 34
          },
          end: {
            line: 182,
            column: 7
          }
        },
        line: 168
      },
      '24': {
        name: '(anonymous_24)',
        decl: {
          start: {
            line: 185,
            column: 81
          },
          end: {
            line: 185,
            column: 82
          }
        },
        loc: {
          start: {
            line: 185,
            column: 87
          },
          end: {
            line: 201,
            column: 5
          }
        },
        line: 185
      },
      '25': {
        name: '(anonymous_25)',
        decl: {
          start: {
            line: 186,
            column: 22
          },
          end: {
            line: 186,
            column: 23
          }
        },
        loc: {
          start: {
            line: 186,
            column: 34
          },
          end: {
            line: 200,
            column: 7
          }
        },
        line: 186
      }
    },
    branchMap: {},
    s: {
      '0': 0,
      '1': 0,
      '2': 0,
      '3': 0,
      '4': 0,
      '5': 0,
      '6': 0,
      '7': 0,
      '8': 0,
      '9': 0,
      '10': 0,
      '11': 0,
      '12': 0,
      '13': 0,
      '14': 0,
      '15': 0,
      '16': 0,
      '17': 0,
      '18': 0,
      '19': 0,
      '20': 0,
      '21': 0,
      '22': 0,
      '23': 0,
      '24': 0,
      '25': 0,
      '26': 0,
      '27': 0,
      '28': 0,
      '29': 0,
      '30': 0,
      '31': 0,
      '32': 0,
      '33': 0,
      '34': 0,
      '35': 0,
      '36': 0,
      '37': 0,
      '38': 0,
      '39': 0,
      '40': 0,
      '41': 0,
      '42': 0,
      '43': 0,
      '44': 0,
      '45': 0,
      '46': 0,
      '47': 0,
      '48': 0,
      '49': 0,
      '50': 0,
      '51': 0,
      '52': 0,
      '53': 0,
      '54': 0,
      '55': 0,
      '56': 0,
      '57': 0,
      '58': 0,
      '59': 0,
      '60': 0,
      '61': 0,
      '62': 0,
      '63': 0,
      '64': 0,
      '65': 0
    },
    f: {
      '0': 0,
      '1': 0,
      '2': 0,
      '3': 0,
      '4': 0,
      '5': 0,
      '6': 0,
      '7': 0,
      '8': 0,
      '9': 0,
      '10': 0,
      '11': 0,
      '12': 0,
      '13': 0,
      '14': 0,
      '15': 0,
      '16': 0,
      '17': 0,
      '18': 0,
      '19': 0,
      '20': 0,
      '21': 0,
      '22': 0,
      '23': 0,
      '24': 0,
      '25': 0
    },
    b: {},
    _coverageSchema: '332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'
  },
      coverage = global[gcv] || (global[gcv] = {});

  if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }

  coverageData.hash = hash;
  return coverage[path] = coverageData;
}();

var _asyncToGenerator = _interopRequireDefault(require('async-to-generator'));

var _nuclideUri;

function _load_nuclideUri() {
  return _nuclideUri = _interopRequireDefault(require('../nuclideUri'));
}

var _dedent;

function _load_dedent() {
  return _dedent = _interopRequireDefault(require('dedent'));
}

var _simpleTextBuffer;

function _load_simpleTextBuffer() {
  return _simpleTextBuffer = require('simple-text-buffer');
}

var _symbolDefinitionPreview;

function _load_symbolDefinitionPreview() {
  return _symbolDefinitionPreview = require('../symbol-definition-preview');
}

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Copyright (c) 2017-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * 
 * @format
 */

function javascriptFixtureDefinitionWithPoint(point) {
  cov_12lvy1phtm.f[0]++;
  cov_12lvy1phtm.s[0]++;

  return {
    path: (_nuclideUri || _load_nuclideUri()).default.join(__dirname, 'fixtures', 'symbol-definition-preview-sample.js'),
    language: 'javascript',
    position: point
  };
}

function pythonFixtureDefinitionWithPoint(point) {
  cov_12lvy1phtm.f[1]++;
  cov_12lvy1phtm.s[1]++;

  return {
    path: (_nuclideUri || _load_nuclideUri()).default.join(__dirname, 'fixtures', 'symbol-definition-preview-sample.py'),
    language: 'python',
    position: point
  };
}

cov_12lvy1phtm.s[2]++;
describe('getDefinitionPreview', () => {
  cov_12lvy1phtm.f[2]++;
  cov_12lvy1phtm.s[3]++;

  describe('Constant symbols', () => {
    cov_12lvy1phtm.f[3]++;
    cov_12lvy1phtm.s[4]++;

    it('returns the only line of a one-line symbol', () => {
      cov_12lvy1phtm.f[4]++;
      cov_12lvy1phtm.s[5]++;

      waitsForPromise((0, _asyncToGenerator.default)(function* () {
        cov_12lvy1phtm.f[5]++;

        const preview = (cov_12lvy1phtm.s[6]++, yield (0, (_symbolDefinitionPreview || _load_symbolDefinitionPreview()).getDefinitionPreview)(javascriptFixtureDefinitionWithPoint(new (_simpleTextBuffer || _load_simpleTextBuffer()).Point(11, 6))));

        cov_12lvy1phtm.s[7]++;
        expect(preview).not.toBeNull();
        cov_12lvy1phtm.s[8]++;

        if (!(preview != null)) {
          throw new Error('Invariant violation: "preview != null"');
        }

        cov_12lvy1phtm.s[9]++;

        expect(preview.contents).toEqual('const A_CONSTANT = 42;');
      }));
    });

    cov_12lvy1phtm.s[10]++;
    it('returns the entire multi-line symbol', () => {
      cov_12lvy1phtm.f[6]++;
      cov_12lvy1phtm.s[11]++;

      waitsForPromise((0, _asyncToGenerator.default)(function* () {
        cov_12lvy1phtm.f[7]++;

        const preview = (cov_12lvy1phtm.s[12]++, yield (0, (_symbolDefinitionPreview || _load_symbolDefinitionPreview()).getDefinitionPreview)(javascriptFixtureDefinitionWithPoint(new (_simpleTextBuffer || _load_simpleTextBuffer()).Point(15, 6))));

        cov_12lvy1phtm.s[13]++;
        expect(preview).not.toBeNull();
        cov_12lvy1phtm.s[14]++;

        if (!(preview != null)) {
          throw new Error('Invariant violation: "preview != null"');
        }

        cov_12lvy1phtm.s[15]++;

        expect(preview.contents).toEqual((_dedent || _load_dedent()).default`const A_MULTILINE_CONST = \`
            hey look I span
              multiple
                lines
          \`;`);
      }));
    });
  });

  cov_12lvy1phtm.s[16]++;
  describe('Type symbols', () => {
    cov_12lvy1phtm.f[8]++;
    cov_12lvy1phtm.s[17]++;

    it('returns an entire multi-line type', () => {
      cov_12lvy1phtm.f[9]++;
      cov_12lvy1phtm.s[18]++;

      waitsForPromise((0, _asyncToGenerator.default)(function* () {
        cov_12lvy1phtm.f[10]++;

        const preview = (cov_12lvy1phtm.s[19]++, yield (0, (_symbolDefinitionPreview || _load_symbolDefinitionPreview()).getDefinitionPreview)(javascriptFixtureDefinitionWithPoint(new (_simpleTextBuffer || _load_simpleTextBuffer()).Point(21, 5))));

        cov_12lvy1phtm.s[20]++;
        expect(preview).not.toBeNull();
        cov_12lvy1phtm.s[21]++;

        if (!(preview != null)) {
          throw new Error('Invariant violation: "preview != null"');
        }

        cov_12lvy1phtm.s[22]++;

        expect(preview.contents).toEqual((_dedent || _load_dedent()).default`type Something = {
            name: string,
            age?: number,
          };`);
      }));
    });

    cov_12lvy1phtm.s[23]++;
    it('returns only the property from within a type', () => {
      cov_12lvy1phtm.f[11]++;
      cov_12lvy1phtm.s[24]++;

      waitsForPromise((0, _asyncToGenerator.default)(function* () {
        cov_12lvy1phtm.f[12]++;

        const preview = (cov_12lvy1phtm.s[25]++, yield (0, (_symbolDefinitionPreview || _load_symbolDefinitionPreview()).getDefinitionPreview)(javascriptFixtureDefinitionWithPoint(new (_simpleTextBuffer || _load_simpleTextBuffer()).Point(44, 4))));

        cov_12lvy1phtm.s[26]++;
        expect(preview).not.toBeNull();
        cov_12lvy1phtm.s[27]++;

        if (!(preview != null)) {
          throw new Error('Invariant violation: "preview != null"');
        }

        cov_12lvy1phtm.s[28]++;

        expect(preview.contents).toEqual('name: string,');
      }));
    });

    cov_12lvy1phtm.s[29]++;
    it('returns property and value of a complex type within a type', () => {
      cov_12lvy1phtm.f[13]++;
      cov_12lvy1phtm.s[30]++;

      waitsForPromise((0, _asyncToGenerator.default)(function* () {
        cov_12lvy1phtm.f[14]++;

        const preview = (cov_12lvy1phtm.s[31]++, yield (0, (_symbolDefinitionPreview || _load_symbolDefinitionPreview()).getDefinitionPreview)(javascriptFixtureDefinitionWithPoint(new (_simpleTextBuffer || _load_simpleTextBuffer()).Point(43, 2))));

        cov_12lvy1phtm.s[32]++;
        expect(preview).not.toBeNull();
        cov_12lvy1phtm.s[33]++;

        if (!(preview != null)) {
          throw new Error('Invariant violation: "preview != null"');
        }

        cov_12lvy1phtm.s[34]++;

        expect(preview.contents).toEqual((_dedent || _load_dedent()).default`properties: {
            name: string,
            age?: number,
          },`);
      }));
    });
  });

  cov_12lvy1phtm.s[35]++;
  describe('Function symbols', () => {
    cov_12lvy1phtm.f[15]++;
    cov_12lvy1phtm.s[36]++;

    it('returns just one line if parens are balanced on the first line', () => {
      cov_12lvy1phtm.f[16]++;
      cov_12lvy1phtm.s[37]++;

      waitsForPromise((0, _asyncToGenerator.default)(function* () {
        cov_12lvy1phtm.f[17]++;

        const preview = (cov_12lvy1phtm.s[38]++, yield (0, (_symbolDefinitionPreview || _load_symbolDefinitionPreview()).getDefinitionPreview)(javascriptFixtureDefinitionWithPoint(new (_simpleTextBuffer || _load_simpleTextBuffer()).Point(26, 16))));

        cov_12lvy1phtm.s[39]++;
        expect(preview).not.toBeNull();
        cov_12lvy1phtm.s[40]++;

        if (!(preview != null)) {
          throw new Error('Invariant violation: "preview != null"');
        }

        cov_12lvy1phtm.s[41]++;

        expect(preview.contents).toEqual('export function aSingleLineFunctionSignature() {');
      }));
    });

    cov_12lvy1phtm.s[42]++;
    it('works without parentheses as with python', () => {
      cov_12lvy1phtm.f[18]++;
      cov_12lvy1phtm.s[43]++;

      waitsForPromise((0, _asyncToGenerator.default)(function* () {
        cov_12lvy1phtm.f[19]++;

        const preview = (cov_12lvy1phtm.s[44]++, yield (0, (_symbolDefinitionPreview || _load_symbolDefinitionPreview()).getDefinitionPreview)(pythonFixtureDefinitionWithPoint(new (_simpleTextBuffer || _load_simpleTextBuffer()).Point(7, 4))));

        cov_12lvy1phtm.s[45]++;
        expect(preview).not.toBeNull();
        cov_12lvy1phtm.s[46]++;

        if (!(preview != null)) {
          throw new Error('Invariant violation: "preview != null"');
        }

        cov_12lvy1phtm.s[47]++;

        expect(preview.contents).toEqual('def foo(bar=27):');
      }));
    });

    cov_12lvy1phtm.s[48]++;
    it('works without parentheses but with braces as with python', () => {
      cov_12lvy1phtm.f[20]++;
      cov_12lvy1phtm.s[49]++;

      waitsForPromise((0, _asyncToGenerator.default)(function* () {
        cov_12lvy1phtm.f[21]++;

        const preview = (cov_12lvy1phtm.s[50]++, yield (0, (_symbolDefinitionPreview || _load_symbolDefinitionPreview()).getDefinitionPreview)(pythonFixtureDefinitionWithPoint(new (_simpleTextBuffer || _load_simpleTextBuffer()).Point(11, 4))));

        cov_12lvy1phtm.s[51]++;
        expect(preview).not.toBeNull();
        cov_12lvy1phtm.s[52]++;

        if (!(preview != null)) {
          throw new Error('Invariant violation: "preview != null"');
        }

        cov_12lvy1phtm.s[53]++;

        expect(preview.contents).toEqual((_dedent || _load_dedent()).default`def baz(test={
            'one': 'two'
          }):`);
      }));
    });

    cov_12lvy1phtm.s[54]++;
    it('doesnt dedent beyond the current lines indentation level', () => {
      cov_12lvy1phtm.f[22]++;
      cov_12lvy1phtm.s[55]++;

      waitsForPromise((0, _asyncToGenerator.default)(function* () {
        cov_12lvy1phtm.f[23]++;

        const preview = (cov_12lvy1phtm.s[56]++, yield (0, (_symbolDefinitionPreview || _load_symbolDefinitionPreview()).getDefinitionPreview)(javascriptFixtureDefinitionWithPoint(new (_simpleTextBuffer || _load_simpleTextBuffer()).Point(36, 18))));

        cov_12lvy1phtm.s[57]++;
        expect(preview).not.toBeNull();
        cov_12lvy1phtm.s[58]++;

        if (!(preview != null)) {
          throw new Error('Invariant violation: "preview != null"');
        }

        cov_12lvy1phtm.s[59]++;

        expect(preview.contents).toEqual((_dedent || _load_dedent()).default`
              export function aPoorlyIndentedFunction(
            aReallyReallyLongArgumentNameThatWouldRequireThisToBreakAcrossMultipleLines: Something,
            ): number {
          `);
      }));
    });

    cov_12lvy1phtm.s[60]++;
    it('reads until the indentation returns to initial and parens are balanced', () => {
      cov_12lvy1phtm.f[24]++;
      cov_12lvy1phtm.s[61]++;

      waitsForPromise((0, _asyncToGenerator.default)(function* () {
        cov_12lvy1phtm.f[25]++;

        const preview = (cov_12lvy1phtm.s[62]++, yield (0, (_symbolDefinitionPreview || _load_symbolDefinitionPreview()).getDefinitionPreview)(javascriptFixtureDefinitionWithPoint(new (_simpleTextBuffer || _load_simpleTextBuffer()).Point(30, 16))));

        cov_12lvy1phtm.s[63]++;
        expect(preview).not.toBeNull();
        cov_12lvy1phtm.s[64]++;

        if (!(preview != null)) {
          throw new Error('Invariant violation: "preview != null"');
        }

        cov_12lvy1phtm.s[65]++;

        expect(preview.contents).toEqual((_dedent || _load_dedent()).default`
            export function aMultiLineFunctionSignature(
              aReallyReallyLongArgumentNameThatWouldRequireThisToBreakAcrossMultipleLines: Something,
            ): number {
          `);
      }));
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN5bWJvbC1kZWZpbml0aW9uLXByZXZpZXctc3BlYy5qcyJdLCJuYW1lcyI6WyJqYXZhc2NyaXB0Rml4dHVyZURlZmluaXRpb25XaXRoUG9pbnQiLCJwb2ludCIsInBhdGgiLCJqb2luIiwiX19kaXJuYW1lIiwibGFuZ3VhZ2UiLCJwb3NpdGlvbiIsInB5dGhvbkZpeHR1cmVEZWZpbml0aW9uV2l0aFBvaW50IiwiZGVzY3JpYmUiLCJpdCIsIndhaXRzRm9yUHJvbWlzZSIsInByZXZpZXciLCJleHBlY3QiLCJub3QiLCJ0b0JlTnVsbCIsImNvbnRlbnRzIiwidG9FcXVhbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVlBO0FBQUE7QUFBQTs7OztBQUNBO0FBQUE7QUFBQTs7OztBQUNBO0FBQUE7QUFBQTs7OztBQUNBO0FBQUE7QUFBQTs7OztBQWZBOzs7Ozs7Ozs7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T0QsT0FBUCxFQUFnQkUsR0FBaEIsQ0FBb0JDLFFBQXBCO0FBTDBCOztBQUFBLGNBTWhCSCxXQUFXLElBTks7QUFBQTtBQUFBOztBQUFBOztBQU8xQkMsZUFBT0QsUUFBUUksUUFBZixFQUF5QkMsT0FBekIsQ0FDRSxtQ0FBTzs7OztXQURUO0FBT0QsT0FkRDtBQWVELEtBaEJEO0FBaUJELEdBOUVEO0FBK0VELENBaEtEIiwiZmlsZSI6InN5bWJvbC1kZWZpbml0aW9uLXByZXZpZXctc3BlYy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE3LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAZmxvd1xuICogQGZvcm1hdFxuICovXG5cbmltcG9ydCBudWNsaWRlVXJpIGZyb20gJy4uL251Y2xpZGVVcmknO1xuaW1wb3J0IGRlZGVudCBmcm9tICdkZWRlbnQnO1xuaW1wb3J0IHtQb2ludH0gZnJvbSAnc2ltcGxlLXRleHQtYnVmZmVyJztcbmltcG9ydCB7Z2V0RGVmaW5pdGlvblByZXZpZXd9IGZyb20gJy4uL3N5bWJvbC1kZWZpbml0aW9uLXByZXZpZXcnO1xuaW1wb3J0IGludmFyaWFudCBmcm9tICdhc3NlcnQnO1xuXG5mdW5jdGlvbiBqYXZhc2NyaXB0Rml4dHVyZURlZmluaXRpb25XaXRoUG9pbnQocG9pbnQ6IFBvaW50KSB7XG4gIHJldHVybiB7XG4gICAgcGF0aDogbnVjbGlkZVVyaS5qb2luKFxuICAgICAgX19kaXJuYW1lLFxuICAgICAgJ2ZpeHR1cmVzJyxcbiAgICAgICdzeW1ib2wtZGVmaW5pdGlvbi1wcmV2aWV3LXNhbXBsZS5qcycsXG4gICAgKSxcbiAgICBsYW5ndWFnZTogJ2phdmFzY3JpcHQnLFxuICAgIHBvc2l0aW9uOiBwb2ludCxcbiAgfTtcbn1cblxuZnVuY3Rpb24gcHl0aG9uRml4dHVyZURlZmluaXRpb25XaXRoUG9pbnQocG9pbnQ6IFBvaW50KSB7XG4gIHJldHVybiB7XG4gICAgcGF0aDogbnVjbGlkZVVyaS5qb2luKFxuICAgICAgX19kaXJuYW1lLFxuICAgICAgJ2ZpeHR1cmVzJyxcbiAgICAgICdzeW1ib2wtZGVmaW5pdGlvbi1wcmV2aWV3LXNhbXBsZS5weScsXG4gICAgKSxcbiAgICBsYW5ndWFnZTogJ3B5dGhvbicsXG4gICAgcG9zaXRpb246IHBvaW50LFxuICB9O1xufVxuXG5kZXNjcmliZSgnZ2V0RGVmaW5pdGlvblByZXZpZXcnLCAoKSA9PiB7XG4gIGRlc2NyaWJlKCdDb25zdGFudCBzeW1ib2xzJywgKCkgPT4ge1xuICAgIGl0KCdyZXR1cm5zIHRoZSBvbmx5IGxpbmUgb2YgYSBvbmUtbGluZSBzeW1ib2wnLCAoKSA9PiB7XG4gICAgICB3YWl0c0ZvclByb21pc2UoYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBwcmV2aWV3ID0gYXdhaXQgZ2V0RGVmaW5pdGlvblByZXZpZXcoXG4gICAgICAgICAgamF2YXNjcmlwdEZpeHR1cmVEZWZpbml0aW9uV2l0aFBvaW50KG5ldyBQb2ludCgxMSwgNikpLFxuICAgICAgICApO1xuXG4gICAgICAgIGV4cGVjdChwcmV2aWV3KS5ub3QudG9CZU51bGwoKTtcbiAgICAgICAgaW52YXJpYW50KHByZXZpZXcgIT0gbnVsbCk7XG4gICAgICAgIGV4cGVjdChwcmV2aWV3LmNvbnRlbnRzKS50b0VxdWFsKCdjb25zdCBBX0NPTlNUQU5UID0gNDI7Jyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdyZXR1cm5zIHRoZSBlbnRpcmUgbXVsdGktbGluZSBzeW1ib2wnLCAoKSA9PiB7XG4gICAgICB3YWl0c0ZvclByb21pc2UoYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBwcmV2aWV3ID0gYXdhaXQgZ2V0RGVmaW5pdGlvblByZXZpZXcoXG4gICAgICAgICAgamF2YXNjcmlwdEZpeHR1cmVEZWZpbml0aW9uV2l0aFBvaW50KG5ldyBQb2ludCgxNSwgNikpLFxuICAgICAgICApO1xuXG4gICAgICAgIGV4cGVjdChwcmV2aWV3KS5ub3QudG9CZU51bGwoKTtcbiAgICAgICAgaW52YXJpYW50KHByZXZpZXcgIT0gbnVsbCk7XG4gICAgICAgIGV4cGVjdChwcmV2aWV3LmNvbnRlbnRzKS50b0VxdWFsKFxuICAgICAgICAgIGRlZGVudGBjb25zdCBBX01VTFRJTElORV9DT05TVCA9IFxcYFxuICAgICAgICAgICAgaGV5IGxvb2sgSSBzcGFuXG4gICAgICAgICAgICAgIG11bHRpcGxlXG4gICAgICAgICAgICAgICAgbGluZXNcbiAgICAgICAgICBcXGA7YCxcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnVHlwZSBzeW1ib2xzJywgKCkgPT4ge1xuICAgIGl0KCdyZXR1cm5zIGFuIGVudGlyZSBtdWx0aS1saW5lIHR5cGUnLCAoKSA9PiB7XG4gICAgICB3YWl0c0ZvclByb21pc2UoYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBwcmV2aWV3ID0gYXdhaXQgZ2V0RGVmaW5pdGlvblByZXZpZXcoXG4gICAgICAgICAgamF2YXNjcmlwdEZpeHR1cmVEZWZpbml0aW9uV2l0aFBvaW50KG5ldyBQb2ludCgyMSwgNSkpLFxuICAgICAgICApO1xuXG4gICAgICAgIGV4cGVjdChwcmV2aWV3KS5ub3QudG9CZU51bGwoKTtcbiAgICAgICAgaW52YXJpYW50KHByZXZpZXcgIT0gbnVsbCk7XG4gICAgICAgIGV4cGVjdChwcmV2aWV3LmNvbnRlbnRzKS50b0VxdWFsKFxuICAgICAgICAgIGRlZGVudGB0eXBlIFNvbWV0aGluZyA9IHtcbiAgICAgICAgICAgIG5hbWU6IHN0cmluZyxcbiAgICAgICAgICAgIGFnZT86IG51bWJlcixcbiAgICAgICAgICB9O2AsXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdyZXR1cm5zIG9ubHkgdGhlIHByb3BlcnR5IGZyb20gd2l0aGluIGEgdHlwZScsICgpID0+IHtcbiAgICAgIHdhaXRzRm9yUHJvbWlzZShhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHByZXZpZXcgPSBhd2FpdCBnZXREZWZpbml0aW9uUHJldmlldyhcbiAgICAgICAgICBqYXZhc2NyaXB0Rml4dHVyZURlZmluaXRpb25XaXRoUG9pbnQobmV3IFBvaW50KDQ0LCA0KSksXG4gICAgICAgICk7XG5cbiAgICAgICAgZXhwZWN0KHByZXZpZXcpLm5vdC50b0JlTnVsbCgpO1xuICAgICAgICBpbnZhcmlhbnQocHJldmlldyAhPSBudWxsKTtcbiAgICAgICAgZXhwZWN0KHByZXZpZXcuY29udGVudHMpLnRvRXF1YWwoJ25hbWU6IHN0cmluZywnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3JldHVybnMgcHJvcGVydHkgYW5kIHZhbHVlIG9mIGEgY29tcGxleCB0eXBlIHdpdGhpbiBhIHR5cGUnLCAoKSA9PiB7XG4gICAgICB3YWl0c0ZvclByb21pc2UoYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBwcmV2aWV3ID0gYXdhaXQgZ2V0RGVmaW5pdGlvblByZXZpZXcoXG4gICAgICAgICAgamF2YXNjcmlwdEZpeHR1cmVEZWZpbml0aW9uV2l0aFBvaW50KG5ldyBQb2ludCg0MywgMikpLFxuICAgICAgICApO1xuXG4gICAgICAgIGV4cGVjdChwcmV2aWV3KS5ub3QudG9CZU51bGwoKTtcbiAgICAgICAgaW52YXJpYW50KHByZXZpZXcgIT0gbnVsbCk7XG4gICAgICAgIGV4cGVjdChwcmV2aWV3LmNvbnRlbnRzKS50b0VxdWFsKFxuICAgICAgICAgIGRlZGVudGBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICBuYW1lOiBzdHJpbmcsXG4gICAgICAgICAgICBhZ2U/OiBudW1iZXIsXG4gICAgICAgICAgfSxgLFxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdGdW5jdGlvbiBzeW1ib2xzJywgKCkgPT4ge1xuICAgIGl0KCdyZXR1cm5zIGp1c3Qgb25lIGxpbmUgaWYgcGFyZW5zIGFyZSBiYWxhbmNlZCBvbiB0aGUgZmlyc3QgbGluZScsICgpID0+IHtcbiAgICAgIHdhaXRzRm9yUHJvbWlzZShhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHByZXZpZXcgPSBhd2FpdCBnZXREZWZpbml0aW9uUHJldmlldyhcbiAgICAgICAgICBqYXZhc2NyaXB0Rml4dHVyZURlZmluaXRpb25XaXRoUG9pbnQobmV3IFBvaW50KDI2LCAxNikpLFxuICAgICAgICApO1xuXG4gICAgICAgIGV4cGVjdChwcmV2aWV3KS5ub3QudG9CZU51bGwoKTtcbiAgICAgICAgaW52YXJpYW50KHByZXZpZXcgIT0gbnVsbCk7XG4gICAgICAgIGV4cGVjdChwcmV2aWV3LmNvbnRlbnRzKS50b0VxdWFsKFxuICAgICAgICAgICdleHBvcnQgZnVuY3Rpb24gYVNpbmdsZUxpbmVGdW5jdGlvblNpZ25hdHVyZSgpIHsnLFxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnd29ya3Mgd2l0aG91dCBwYXJlbnRoZXNlcyBhcyB3aXRoIHB5dGhvbicsICgpID0+IHtcbiAgICAgIHdhaXRzRm9yUHJvbWlzZShhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHByZXZpZXcgPSBhd2FpdCBnZXREZWZpbml0aW9uUHJldmlldyhcbiAgICAgICAgICBweXRob25GaXh0dXJlRGVmaW5pdGlvbldpdGhQb2ludChuZXcgUG9pbnQoNywgNCkpLFxuICAgICAgICApO1xuXG4gICAgICAgIGV4cGVjdChwcmV2aWV3KS5ub3QudG9CZU51bGwoKTtcbiAgICAgICAgaW52YXJpYW50KHByZXZpZXcgIT0gbnVsbCk7XG4gICAgICAgIGV4cGVjdChwcmV2aWV3LmNvbnRlbnRzKS50b0VxdWFsKCdkZWYgZm9vKGJhcj0yNyk6Jyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCd3b3JrcyB3aXRob3V0IHBhcmVudGhlc2VzIGJ1dCB3aXRoIGJyYWNlcyBhcyB3aXRoIHB5dGhvbicsICgpID0+IHtcbiAgICAgIHdhaXRzRm9yUHJvbWlzZShhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHByZXZpZXcgPSBhd2FpdCBnZXREZWZpbml0aW9uUHJldmlldyhcbiAgICAgICAgICBweXRob25GaXh0dXJlRGVmaW5pdGlvbldpdGhQb2ludChuZXcgUG9pbnQoMTEsIDQpKSxcbiAgICAgICAgKTtcblxuICAgICAgICBleHBlY3QocHJldmlldykubm90LnRvQmVOdWxsKCk7XG4gICAgICAgIGludmFyaWFudChwcmV2aWV3ICE9IG51bGwpO1xuICAgICAgICBleHBlY3QocHJldmlldy5jb250ZW50cykudG9FcXVhbChcbiAgICAgICAgICBkZWRlbnRgZGVmIGJheih0ZXN0PXtcbiAgICAgICAgICAgICdvbmUnOiAndHdvJ1xuICAgICAgICAgIH0pOmAsXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdkb2VzbnQgZGVkZW50IGJleW9uZCB0aGUgY3VycmVudCBsaW5lcyBpbmRlbnRhdGlvbiBsZXZlbCcsICgpID0+IHtcbiAgICAgIHdhaXRzRm9yUHJvbWlzZShhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHByZXZpZXcgPSBhd2FpdCBnZXREZWZpbml0aW9uUHJldmlldyhcbiAgICAgICAgICBqYXZhc2NyaXB0Rml4dHVyZURlZmluaXRpb25XaXRoUG9pbnQobmV3IFBvaW50KDM2LCAxOCkpLFxuICAgICAgICApO1xuXG4gICAgICAgIGV4cGVjdChwcmV2aWV3KS5ub3QudG9CZU51bGwoKTtcbiAgICAgICAgaW52YXJpYW50KHByZXZpZXcgIT0gbnVsbCk7XG4gICAgICAgIGV4cGVjdChwcmV2aWV3LmNvbnRlbnRzKS50b0VxdWFsKFxuICAgICAgICAgIGRlZGVudGBcbiAgICAgICAgICAgICAgZXhwb3J0IGZ1bmN0aW9uIGFQb29ybHlJbmRlbnRlZEZ1bmN0aW9uKFxuICAgICAgICAgICAgYVJlYWxseVJlYWxseUxvbmdBcmd1bWVudE5hbWVUaGF0V291bGRSZXF1aXJlVGhpc1RvQnJlYWtBY3Jvc3NNdWx0aXBsZUxpbmVzOiBTb21ldGhpbmcsXG4gICAgICAgICAgICApOiBudW1iZXIge1xuICAgICAgICAgIGAsXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdyZWFkcyB1bnRpbCB0aGUgaW5kZW50YXRpb24gcmV0dXJucyB0byBpbml0aWFsIGFuZCBwYXJlbnMgYXJlIGJhbGFuY2VkJywgKCkgPT4ge1xuICAgICAgd2FpdHNGb3JQcm9taXNlKGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgcHJldmlldyA9IGF3YWl0IGdldERlZmluaXRpb25QcmV2aWV3KFxuICAgICAgICAgIGphdmFzY3JpcHRGaXh0dXJlRGVmaW5pdGlvbldpdGhQb2ludChuZXcgUG9pbnQoMzAsIDE2KSksXG4gICAgICAgICk7XG5cbiAgICAgICAgZXhwZWN0KHByZXZpZXcpLm5vdC50b0JlTnVsbCgpO1xuICAgICAgICBpbnZhcmlhbnQocHJldmlldyAhPSBudWxsKTtcbiAgICAgICAgZXhwZWN0KHByZXZpZXcuY29udGVudHMpLnRvRXF1YWwoXG4gICAgICAgICAgZGVkZW50YFxuICAgICAgICAgICAgZXhwb3J0IGZ1bmN0aW9uIGFNdWx0aUxpbmVGdW5jdGlvblNpZ25hdHVyZShcbiAgICAgICAgICAgICAgYVJlYWxseVJlYWxseUxvbmdBcmd1bWVudE5hbWVUaGF0V291bGRSZXF1aXJlVGhpc1RvQnJlYWtBY3Jvc3NNdWx0aXBsZUxpbmVzOiBTb21ldGhpbmcsXG4gICAgICAgICAgICApOiBudW1iZXIge1xuICAgICAgICAgIGAsXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdfQ==