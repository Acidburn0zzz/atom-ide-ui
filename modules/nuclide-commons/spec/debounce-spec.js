'use strict';

var cov_jv8d4cx05 = function () {
  var path = '/Users/hansonw/atom-ide-ui/modules/nuclide-commons/spec/debounce-spec.js',
      hash = '630b329bab9c7266fb317c087d9ce791fb0b9250',
      global = new Function('return this')(),
      gcv = '__coverage__',
      coverageData = {
    path: '/Users/hansonw/atom-ide-ui/modules/nuclide-commons/spec/debounce-spec.js',
    statementMap: {
      '0': {
        start: {
          line: 16,
          column: 0
        },
        end: {
          line: 64,
          column: 3
        }
      },
      '1': {
        start: {
          line: 17,
          column: 2
        },
        end: {
          line: 26,
          column: 5
        }
      },
      '2': {
        start: {
          line: 18,
          column: 31
        },
        end: {
          line: 18,
          column: 65
        }
      },
      '3': {
        start: {
          line: 19,
          column: 26
        },
        end: {
          line: 19,
          column: 61
        }
      },
      '4': {
        start: {
          line: 21,
          column: 4
        },
        end: {
          line: 21,
          column: 20
        }
      },
      '5': {
        start: {
          line: 22,
          column: 4
        },
        end: {
          line: 22,
          column: 49
        }
      },
      '6': {
        start: {
          line: 24,
          column: 4
        },
        end: {
          line: 24,
          column: 22
        }
      },
      '7': {
        start: {
          line: 25,
          column: 4
        },
        end: {
          line: 25,
          column: 45
        }
      },
      '8': {
        start: {
          line: 28,
          column: 2
        },
        end: {
          line: 39,
          column: 5
        }
      },
      '9': {
        start: {
          line: 29,
          column: 31
        },
        end: {
          line: 29,
          column: 65
        }
      },
      '10': {
        start: {
          line: 30,
          column: 26
        },
        end: {
          line: 30,
          column: 61
        }
      },
      '11': {
        start: {
          line: 32,
          column: 4
        },
        end: {
          line: 32,
          column: 20
        }
      },
      '12': {
        start: {
          line: 33,
          column: 4
        },
        end: {
          line: 33,
          column: 49
        }
      },
      '13': {
        start: {
          line: 35,
          column: 4
        },
        end: {
          line: 35,
          column: 28
        }
      },
      '14': {
        start: {
          line: 37,
          column: 4
        },
        end: {
          line: 37,
          column: 22
        }
      },
      '15': {
        start: {
          line: 38,
          column: 4
        },
        end: {
          line: 38,
          column: 49
        }
      },
      '16': {
        start: {
          line: 41,
          column: 2
        },
        end: {
          line: 63,
          column: 5
        }
      },
      '17': {
        start: {
          line: 42,
          column: 17
        },
        end: {
          line: 42,
          column: 41
        }
      },
      '18': {
        start: {
          line: 42,
          column: 40
        },
        end: {
          line: 42,
          column: 41
        }
      },
      '19': {
        start: {
          line: 43,
          column: 22
        },
        end: {
          line: 43,
          column: 39
        }
      },
      '20': {
        start: {
          line: 44,
          column: 16
        },
        end: {
          line: 44,
          column: 32
        }
      },
      '21': {
        start: {
          line: 47,
          column: 4
        },
        end: {
          line: 47,
          column: 17
        }
      },
      '22': {
        start: {
          line: 49,
          column: 4
        },
        end: {
          line: 55,
          column: 17
        }
      },
      '23': {
        start: {
          line: 51,
          column: 6
        },
        end: {
          line: 51,
          column: 20
        }
      },
      '24': {
        start: {
          line: 53,
          column: 6
        },
        end: {
          line: 53,
          column: 29
        }
      },
      '25': {
        start: {
          line: 54,
          column: 6
        },
        end: {
          line: 54,
          column: 20
        }
      },
      '26': {
        start: {
          line: 57,
          column: 4
        },
        end: {
          line: 57,
          column: 24
        }
      },
      '27': {
        start: {
          line: 59,
          column: 4
        },
        end: {
          line: 62,
          column: 17
        }
      },
      '28': {
        start: {
          line: 61,
          column: 6
        },
        end: {
          line: 61,
          column: 22
        }
      }
    },
    fnMap: {
      '0': {
        name: '(anonymous_0)',
        decl: {
          start: {
            line: 16,
            column: 23
          },
          end: {
            line: 16,
            column: 24
          }
        },
        loc: {
          start: {
            line: 16,
            column: 29
          },
          end: {
            line: 64,
            column: 1
          }
        },
        line: 16
      },
      '1': {
        name: '(anonymous_1)',
        decl: {
          start: {
            line: 17,
            column: 53
          },
          end: {
            line: 17,
            column: 54
          }
        },
        loc: {
          start: {
            line: 17,
            column: 59
          },
          end: {
            line: 26,
            column: 3
          }
        },
        line: 17
      },
      '2': {
        name: '(anonymous_2)',
        decl: {
          start: {
            line: 28,
            column: 17
          },
          end: {
            line: 28,
            column: 18
          }
        },
        loc: {
          start: {
            line: 28,
            column: 23
          },
          end: {
            line: 39,
            column: 3
          }
        },
        line: 28
      },
      '3': {
        name: '(anonymous_3)',
        decl: {
          start: {
            line: 41,
            column: 36
          },
          end: {
            line: 41,
            column: 37
          }
        },
        loc: {
          start: {
            line: 41,
            column: 42
          },
          end: {
            line: 63,
            column: 3
          }
        },
        line: 41
      },
      '4': {
        name: '(anonymous_4)',
        decl: {
          start: {
            line: 42,
            column: 17
          },
          end: {
            line: 42,
            column: 18
          }
        },
        loc: {
          start: {
            line: 42,
            column: 40
          },
          end: {
            line: 42,
            column: 41
          }
        },
        line: 42
      },
      '5': {
        name: '(anonymous_5)',
        decl: {
          start: {
            line: 49,
            column: 11
          },
          end: {
            line: 49,
            column: 12
          }
        },
        loc: {
          start: {
            line: 49,
            column: 17
          },
          end: {
            line: 55,
            column: 5
          }
        },
        line: 49
      },
      '6': {
        name: '(anonymous_6)',
        decl: {
          start: {
            line: 59,
            column: 11
          },
          end: {
            line: 59,
            column: 12
          }
        },
        loc: {
          start: {
            line: 59,
            column: 17
          },
          end: {
            line: 62,
            column: 5
          }
        },
        line: 59
      }
    },
    branchMap: {},
    s: {
      '0': 0,
      '1': 0,
      '2': 0,
      '3': 0,
      '4': 0,
      '5': 0,
      '6': 0,
      '7': 0,
      '8': 0,
      '9': 0,
      '10': 0,
      '11': 0,
      '12': 0,
      '13': 0,
      '14': 0,
      '15': 0,
      '16': 0,
      '17': 0,
      '18': 0,
      '19': 0,
      '20': 0,
      '21': 0,
      '22': 0,
      '23': 0,
      '24': 0,
      '25': 0,
      '26': 0,
      '27': 0,
      '28': 0
    },
    f: {
      '0': 0,
      '1': 0,
      '2': 0,
      '3': 0,
      '4': 0,
      '5': 0,
      '6': 0
    },
    b: {},
    _coverageSchema: '332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'
  },
      coverage = global[gcv] || (global[gcv] = {});

  if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }

  coverageData.hash = hash;
  return coverage[path] = coverageData;
}();

var _debounce;

function _load_debounce() {
  return _debounce = _interopRequireDefault(require('../debounce'));
}

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Copyright (c) 2017-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * 
 * @format
 */

cov_jv8d4cx05.s[0]++;


describe('debounce()', () => {
  cov_jv8d4cx05.f[0]++;
  cov_jv8d4cx05.s[1]++;

  it('only calls function once after time advances', () => {
    cov_jv8d4cx05.f[1]++;

    const timerCallback = (cov_jv8d4cx05.s[2]++, jasmine.createSpy('timerCallback'));
    const debouncedFunc = (cov_jv8d4cx05.s[3]++, (0, (_debounce || _load_debounce()).default)(timerCallback, 100, false));

    cov_jv8d4cx05.s[4]++;
    debouncedFunc();
    cov_jv8d4cx05.s[5]++;
    expect(timerCallback).not.toHaveBeenCalled();

    cov_jv8d4cx05.s[6]++;
    advanceClock(101);
    cov_jv8d4cx05.s[7]++;
    expect(timerCallback).toHaveBeenCalled();
  });

  cov_jv8d4cx05.s[8]++;
  it('disposes', () => {
    cov_jv8d4cx05.f[2]++;

    const timerCallback = (cov_jv8d4cx05.s[9]++, jasmine.createSpy('timerCallback'));
    const debouncedFunc = (cov_jv8d4cx05.s[10]++, (0, (_debounce || _load_debounce()).default)(timerCallback, 100, false));

    cov_jv8d4cx05.s[11]++;
    debouncedFunc();
    cov_jv8d4cx05.s[12]++;
    expect(timerCallback).not.toHaveBeenCalled();

    cov_jv8d4cx05.s[13]++;
    debouncedFunc.dispose();

    cov_jv8d4cx05.s[14]++;
    advanceClock(101);
    cov_jv8d4cx05.s[15]++;
    expect(timerCallback).not.toHaveBeenCalled();
  });

  cov_jv8d4cx05.s[16]++;
  it('does not swallow flow types', () => {
    cov_jv8d4cx05.f[3]++;
    cov_jv8d4cx05.s[17]++;

    const func = a => {
      cov_jv8d4cx05.f[4]++;
      cov_jv8d4cx05.s[18]++;
      return 1;
    };
    const debounced = (cov_jv8d4cx05.s[19]++, (0, (_debounce || _load_debounce()).default)(func, 0));
    const ret = (cov_jv8d4cx05.s[20]++, debounced('bar'));

    // $FlowIgnore: func's first param should be a string.
    cov_jv8d4cx05.s[21]++;
    debounced(1);

    cov_jv8d4cx05.s[22]++;
    expect(() => {
      cov_jv8d4cx05.f[5]++;
      cov_jv8d4cx05.s[23]++;

      // $FlowIgnore: debounce's return type is "maybe func's return" type.
      ret;
      // This is false because we haven't waited for the timer.
      cov_jv8d4cx05.s[24]++;

      if (!(ret != null)) {
        throw new Error('Invariant violation: "ret != null"');
      }

      cov_jv8d4cx05.s[25]++;

      ret;
    }).toThrow();

    cov_jv8d4cx05.s[26]++;
    debounced.dispose();

    cov_jv8d4cx05.s[27]++;
    expect(() => {
      cov_jv8d4cx05.f[6]++;
      cov_jv8d4cx05.s[28]++;

      // $FlowIgnore: debounced has no "bar" property.
      debounced.bar();
    }).toThrow();
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRlYm91bmNlLXNwZWMuanMiXSwibmFtZXMiOlsiZGVzY3JpYmUiLCJpdCIsInRpbWVyQ2FsbGJhY2siLCJqYXNtaW5lIiwiY3JlYXRlU3B5IiwiZGVib3VuY2VkRnVuYyIsImV4cGVjdCIsIm5vdCIsInRvSGF2ZUJlZW5DYWxsZWQiLCJhZHZhbmNlQ2xvY2siLCJkaXNwb3NlIiwiZnVuYyIsImEiLCJkZWJvdW5jZWQiLCJyZXQiLCJ0b1Rocm93IiwiYmFyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWFBO0FBQUE7QUFBQTs7OztBQWJBOzs7Ozs7Ozs7Ozs7Ozs7QUFlQUEsU0FBUyxZQUFULEVBQXVCLE1BQU07QUFBQTtBQUFBOztBQUMzQkMsS0FBRyw4Q0FBSCxFQUFtRCxNQUFNO0FBQUE7O0FBQ3ZELFVBQU1DLHVDQUFxQkMsUUFBUUMsU0FBUixDQUFrQixlQUFsQixDQUFyQixDQUFOO0FBQ0EsVUFBTUMsdUNBQWdCLDZDQUFTSCxhQUFULEVBQXdCLEdBQXhCLEVBQTZCLEtBQTdCLENBQWhCLENBQU47O0FBRnVEO0FBSXZERztBQUp1RDtBQUt2REMsV0FBT0osYUFBUCxFQUFzQkssR0FBdEIsQ0FBMEJDLGdCQUExQjs7QUFMdUQ7QUFPdkRDLGlCQUFhLEdBQWI7QUFQdUQ7QUFRdkRILFdBQU9KLGFBQVAsRUFBc0JNLGdCQUF0QjtBQUNELEdBVEQ7O0FBRDJCO0FBWTNCUCxLQUFHLFVBQUgsRUFBZSxNQUFNO0FBQUE7O0FBQ25CLFVBQU1DLHVDQUFxQkMsUUFBUUMsU0FBUixDQUFrQixlQUFsQixDQUFyQixDQUFOO0FBQ0EsVUFBTUMsd0NBQWdCLDZDQUFTSCxhQUFULEVBQXdCLEdBQXhCLEVBQTZCLEtBQTdCLENBQWhCLENBQU47O0FBRm1CO0FBSW5CRztBQUptQjtBQUtuQkMsV0FBT0osYUFBUCxFQUFzQkssR0FBdEIsQ0FBMEJDLGdCQUExQjs7QUFMbUI7QUFPbkJILGtCQUFjSyxPQUFkOztBQVBtQjtBQVNuQkQsaUJBQWEsR0FBYjtBQVRtQjtBQVVuQkgsV0FBT0osYUFBUCxFQUFzQkssR0FBdEIsQ0FBMEJDLGdCQUExQjtBQUNELEdBWEQ7O0FBWjJCO0FBeUIzQlAsS0FBRyw2QkFBSCxFQUFrQyxNQUFNO0FBQUE7QUFBQTs7QUFDdEMsVUFBTVUsT0FBUUMsQ0FBRCxJQUF1QjtBQUFBO0FBQUE7QUFBQTtBQUFDLEtBQXJDO0FBQ0EsVUFBTUMsb0NBQVksNkNBQVNGLElBQVQsRUFBZSxDQUFmLENBQVosQ0FBTjtBQUNBLFVBQU1HLDhCQUFNRCxVQUFVLEtBQVYsQ0FBTixDQUFOOztBQUVBO0FBTHNDO0FBTXRDQSxjQUFVLENBQVY7O0FBTnNDO0FBUXRDUCxXQUFPLE1BQU07QUFBQTtBQUFBOztBQUNYO0FBQ0NRLFNBQUQ7QUFDQTtBQUhXOztBQUFBLFlBSURBLE9BQU8sSUFKTjtBQUFBO0FBQUE7O0FBQUE7O0FBS1ZBLFNBQUQ7QUFDRCxLQU5ELEVBTUdDLE9BTkg7O0FBUnNDO0FBZ0J0Q0YsY0FBVUgsT0FBVjs7QUFoQnNDO0FBa0J0Q0osV0FBTyxNQUFNO0FBQUE7QUFBQTs7QUFDWDtBQUNBTyxnQkFBVUcsR0FBVjtBQUNELEtBSEQsRUFHR0QsT0FISDtBQUlELEdBdEJEO0FBdUJELENBaEREIiwiZmlsZSI6ImRlYm91bmNlLXNwZWMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQGZsb3dcbiAqIEBmb3JtYXRcbiAqL1xuXG5pbXBvcnQgaW52YXJpYW50IGZyb20gJ2Fzc2VydCc7XG5pbXBvcnQgZGVib3VuY2UgZnJvbSAnLi4vZGVib3VuY2UnO1xuXG5kZXNjcmliZSgnZGVib3VuY2UoKScsICgpID0+IHtcbiAgaXQoJ29ubHkgY2FsbHMgZnVuY3Rpb24gb25jZSBhZnRlciB0aW1lIGFkdmFuY2VzJywgKCkgPT4ge1xuICAgIGNvbnN0IHRpbWVyQ2FsbGJhY2s6IGFueSA9IGphc21pbmUuY3JlYXRlU3B5KCd0aW1lckNhbGxiYWNrJyk7XG4gICAgY29uc3QgZGVib3VuY2VkRnVuYyA9IGRlYm91bmNlKHRpbWVyQ2FsbGJhY2ssIDEwMCwgZmFsc2UpO1xuXG4gICAgZGVib3VuY2VkRnVuYygpO1xuICAgIGV4cGVjdCh0aW1lckNhbGxiYWNrKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuXG4gICAgYWR2YW5jZUNsb2NrKDEwMSk7XG4gICAgZXhwZWN0KHRpbWVyQ2FsbGJhY2spLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgfSk7XG5cbiAgaXQoJ2Rpc3Bvc2VzJywgKCkgPT4ge1xuICAgIGNvbnN0IHRpbWVyQ2FsbGJhY2s6IGFueSA9IGphc21pbmUuY3JlYXRlU3B5KCd0aW1lckNhbGxiYWNrJyk7XG4gICAgY29uc3QgZGVib3VuY2VkRnVuYyA9IGRlYm91bmNlKHRpbWVyQ2FsbGJhY2ssIDEwMCwgZmFsc2UpO1xuXG4gICAgZGVib3VuY2VkRnVuYygpO1xuICAgIGV4cGVjdCh0aW1lckNhbGxiYWNrKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuXG4gICAgZGVib3VuY2VkRnVuYy5kaXNwb3NlKCk7XG5cbiAgICBhZHZhbmNlQ2xvY2soMTAxKTtcbiAgICBleHBlY3QodGltZXJDYWxsYmFjaykubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgfSk7XG5cbiAgaXQoJ2RvZXMgbm90IHN3YWxsb3cgZmxvdyB0eXBlcycsICgpID0+IHtcbiAgICBjb25zdCBmdW5jID0gKGE6IHN0cmluZyk6IG51bWJlciA9PiAxO1xuICAgIGNvbnN0IGRlYm91bmNlZCA9IGRlYm91bmNlKGZ1bmMsIDApO1xuICAgIGNvbnN0IHJldCA9IGRlYm91bmNlZCgnYmFyJyk7XG5cbiAgICAvLyAkRmxvd0lnbm9yZTogZnVuYydzIGZpcnN0IHBhcmFtIHNob3VsZCBiZSBhIHN0cmluZy5cbiAgICBkZWJvdW5jZWQoMSk7XG5cbiAgICBleHBlY3QoKCkgPT4ge1xuICAgICAgLy8gJEZsb3dJZ25vcmU6IGRlYm91bmNlJ3MgcmV0dXJuIHR5cGUgaXMgXCJtYXliZSBmdW5jJ3MgcmV0dXJuXCIgdHlwZS5cbiAgICAgIChyZXQ6IG51bWJlcik7XG4gICAgICAvLyBUaGlzIGlzIGZhbHNlIGJlY2F1c2Ugd2UgaGF2ZW4ndCB3YWl0ZWQgZm9yIHRoZSB0aW1lci5cbiAgICAgIGludmFyaWFudChyZXQgIT0gbnVsbCk7XG4gICAgICAocmV0OiBudW1iZXIpO1xuICAgIH0pLnRvVGhyb3coKTtcblxuICAgIGRlYm91bmNlZC5kaXNwb3NlKCk7XG5cbiAgICBleHBlY3QoKCkgPT4ge1xuICAgICAgLy8gJEZsb3dJZ25vcmU6IGRlYm91bmNlZCBoYXMgbm8gXCJiYXJcIiBwcm9wZXJ0eS5cbiAgICAgIGRlYm91bmNlZC5iYXIoKTtcbiAgICB9KS50b1Rocm93KCk7XG4gIH0pO1xufSk7XG4iXX0=