'use strict';

var cov_14x0re5b2n = function () {
  var path = '/Users/hansonw/atom-ide-ui/modules/nuclide-commons/spec/cache-spec.js',
      hash = '7ada4221990f0d15380e4e4304c6e3019f390419',
      global = new Function('return this')(),
      gcv = '__coverage__',
      coverageData = {
    path: '/Users/hansonw/atom-ide-ui/modules/nuclide-commons/spec/cache-spec.js',
    statementMap: {
      '0': {
        start: {
          line: 15,
          column: 0
        },
        end: {
          line: 113,
          column: 3
        }
      },
      '1': {
        start: {
          line: 16,
          column: 15
        },
        end: {
          line: 16,
          column: 21
        }
      },
      '2': {
        start: {
          line: 17,
          column: 15
        },
        end: {
          line: 17,
          column: 21
        }
      },
      '3': {
        start: {
          line: 18,
          column: 16
        },
        end: {
          line: 18,
          column: 23
        }
      },
      '4': {
        start: {
          line: 20,
          column: 2
        },
        end: {
          line: 39,
          column: 5
        }
      },
      '5': {
        start: {
          line: 21,
          column: 20
        },
        end: {
          line: 21,
          column: 21
        }
      },
      '6': {
        start: {
          line: 22,
          column: 20
        },
        end: {
          line: 26,
          column: 6
        }
      },
      '7': {
        start: {
          line: 23,
          column: 6
        },
        end: {
          line: 23,
          column: 21
        }
      },
      '8': {
        start: {
          line: 24,
          column: 6
        },
        end: {
          line: 24,
          column: 32
        }
      },
      '9': {
        start: {
          line: 25,
          column: 6
        },
        end: {
          line: 25,
          column: 19
        }
      },
      '10': {
        start: {
          line: 27,
          column: 41
        },
        end: {
          line: 27,
          column: 59
        }
      },
      '11': {
        start: {
          line: 29,
          column: 4
        },
        end: {
          line: 29,
          column: 43
        }
      },
      '12': {
        start: {
          line: 30,
          column: 4
        },
        end: {
          line: 30,
          column: 43
        }
      },
      '13': {
        start: {
          line: 31,
          column: 4
        },
        end: {
          line: 31,
          column: 43
        }
      },
      '14': {
        start: {
          line: 32,
          column: 4
        },
        end: {
          line: 32,
          column: 33
        }
      },
      '15': {
        start: {
          line: 33,
          column: 4
        },
        end: {
          line: 33,
          column: 42
        }
      },
      '16': {
        start: {
          line: 34,
          column: 4
        },
        end: {
          line: 34,
          column: 47
        }
      },
      '17': {
        start: {
          line: 35,
          column: 4
        },
        end: {
          line: 35,
          column: 56
        }
      },
      '18': {
        start: {
          line: 37,
          column: 4
        },
        end: {
          line: 37,
          column: 43
        }
      },
      '19': {
        start: {
          line: 38,
          column: 4
        },
        end: {
          line: 38,
          column: 33
        }
      },
      '20': {
        start: {
          line: 41,
          column: 2
        },
        end: {
          line: 50,
          column: 5
        }
      },
      '21': {
        start: {
          line: 42,
          column: 20
        },
        end: {
          line: 42,
          column: 65
        }
      },
      '22': {
        start: {
          line: 43,
          column: 41
        },
        end: {
          line: 43,
          column: 59
        }
      },
      '23': {
        start: {
          line: 45,
          column: 4
        },
        end: {
          line: 45,
          column: 46
        }
      },
      '24': {
        start: {
          line: 46,
          column: 4
        },
        end: {
          line: 46,
          column: 20
        }
      },
      '25': {
        start: {
          line: 47,
          column: 4
        },
        end: {
          line: 47,
          column: 42
        }
      },
      '26': {
        start: {
          line: 48,
          column: 4
        },
        end: {
          line: 48,
          column: 45
        }
      },
      '27': {
        start: {
          line: 49,
          column: 4
        },
        end: {
          line: 49,
          column: 43
        }
      },
      '28': {
        start: {
          line: 52,
          column: 2
        },
        end: {
          line: 60,
          column: 5
        }
      },
      '29': {
        start: {
          line: 53,
          column: 20
        },
        end: {
          line: 53,
          column: 65
        }
      },
      '30': {
        start: {
          line: 54,
          column: 20
        },
        end: {
          line: 54,
          column: 48
        }
      },
      '31': {
        start: {
          line: 55,
          column: 41
        },
        end: {
          line: 55,
          column: 68
        }
      },
      '32': {
        start: {
          line: 57,
          column: 4
        },
        end: {
          line: 57,
          column: 20
        }
      },
      '33': {
        start: {
          line: 58,
          column: 4
        },
        end: {
          line: 58,
          column: 23
        }
      },
      '34': {
        start: {
          line: 59,
          column: 4
        },
        end: {
          line: 59,
          column: 48
        }
      },
      '35': {
        start: {
          line: 62,
          column: 2
        },
        end: {
          line: 70,
          column: 5
        }
      },
      '36': {
        start: {
          line: 63,
          column: 20
        },
        end: {
          line: 63,
          column: 65
        }
      },
      '37': {
        start: {
          line: 64,
          column: 20
        },
        end: {
          line: 64,
          column: 48
        }
      },
      '38': {
        start: {
          line: 65,
          column: 41
        },
        end: {
          line: 65,
          column: 68
        }
      },
      '39': {
        start: {
          line: 67,
          column: 4
        },
        end: {
          line: 67,
          column: 20
        }
      },
      '40': {
        start: {
          line: 68,
          column: 4
        },
        end: {
          line: 68,
          column: 18
        }
      },
      '41': {
        start: {
          line: 69,
          column: 4
        },
        end: {
          line: 69,
          column: 48
        }
      },
      '42': {
        start: {
          line: 72,
          column: 2
        },
        end: {
          line: 80,
          column: 5
        }
      },
      '43': {
        start: {
          line: 73,
          column: 20
        },
        end: {
          line: 73,
          column: 65
        }
      },
      '44': {
        start: {
          line: 74,
          column: 20
        },
        end: {
          line: 74,
          column: 48
        }
      },
      '45': {
        start: {
          line: 75,
          column: 41
        },
        end: {
          line: 75,
          column: 68
        }
      },
      '46': {
        start: {
          line: 77,
          column: 4
        },
        end: {
          line: 77,
          column: 20
        }
      },
      '47': {
        start: {
          line: 78,
          column: 4
        },
        end: {
          line: 78,
          column: 20
        }
      },
      '48': {
        start: {
          line: 79,
          column: 4
        },
        end: {
          line: 79,
          column: 48
        }
      },
      '49': {
        start: {
          line: 82,
          column: 2
        },
        end: {
          line: 96,
          column: 5
        }
      },
      '50': {
        start: {
          line: 83,
          column: 4
        },
        end: {
          line: 95,
          column: 7
        }
      },
      '51': {
        start: {
          line: 84,
          column: 22
        },
        end: {
          line: 84,
          column: 74
        }
      },
      '52': {
        start: {
          line: 84,
          column: 70
        },
        end: {
          line: 84,
          column: 73
        }
      },
      '53': {
        start: {
          line: 85,
          column: 43
        },
        end: {
          line: 85,
          column: 61
        }
      },
      '54': {
        start: {
          line: 87,
          column: 6
        },
        end: {
          line: 87,
          column: 22
        }
      },
      '55': {
        start: {
          line: 88,
          column: 21
        },
        end: {
          line: 91,
          column: 20
        }
      },
      '56': {
        start: {
          line: 92,
          column: 6
        },
        end: {
          line: 92,
          column: 22
        }
      },
      '57': {
        start: {
          line: 93,
          column: 6
        },
        end: {
          line: 93,
          column: 22
        }
      },
      '58': {
        start: {
          line: 94,
          column: 6
        },
        end: {
          line: 94,
          column: 49
        }
      },
      '59': {
        start: {
          line: 98,
          column: 2
        },
        end: {
          line: 112,
          column: 5
        }
      },
      '60': {
        start: {
          line: 99,
          column: 4
        },
        end: {
          line: 111,
          column: 7
        }
      },
      '61': {
        start: {
          line: 100,
          column: 22
        },
        end: {
          line: 100,
          column: 76
        }
      },
      '62': {
        start: {
          line: 100,
          column: 70
        },
        end: {
          line: 100,
          column: 75
        }
      },
      '63': {
        start: {
          line: 101,
          column: 43
        },
        end: {
          line: 101,
          column: 61
        }
      },
      '64': {
        start: {
          line: 103,
          column: 6
        },
        end: {
          line: 103,
          column: 22
        }
      },
      '65': {
        start: {
          line: 104,
          column: 21
        },
        end: {
          line: 107,
          column: 20
        }
      },
      '66': {
        start: {
          line: 108,
          column: 6
        },
        end: {
          line: 108,
          column: 22
        }
      },
      '67': {
        start: {
          line: 109,
          column: 6
        },
        end: {
          line: 109,
          column: 22
        }
      },
      '68': {
        start: {
          line: 110,
          column: 6
        },
        end: {
          line: 110,
          column: 49
        }
      }
    },
    fnMap: {
      '0': {
        name: '(anonymous_0)',
        decl: {
          start: {
            line: 15,
            column: 18
          },
          end: {
            line: 15,
            column: 19
          }
        },
        loc: {
          start: {
            line: 15,
            column: 24
          },
          end: {
            line: 113,
            column: 1
          }
        },
        line: 15
      },
      '1': {
        name: '(anonymous_1)',
        decl: {
          start: {
            line: 20,
            column: 33
          },
          end: {
            line: 20,
            column: 34
          }
        },
        loc: {
          start: {
            line: 20,
            column: 39
          },
          end: {
            line: 39,
            column: 3
          }
        },
        line: 20
      },
      '2': {
        name: '(anonymous_2)',
        decl: {
          start: {
            line: 22,
            column: 61
          },
          end: {
            line: 22,
            column: 62
          }
        },
        loc: {
          start: {
            line: 22,
            column: 68
          },
          end: {
            line: 26,
            column: 5
          }
        },
        line: 22
      },
      '3': {
        name: '(anonymous_3)',
        decl: {
          start: {
            line: 41,
            column: 15
          },
          end: {
            line: 41,
            column: 16
          }
        },
        loc: {
          start: {
            line: 41,
            column: 21
          },
          end: {
            line: 50,
            column: 3
          }
        },
        line: 41
      },
      '4': {
        name: '(anonymous_4)',
        decl: {
          start: {
            line: 52,
            column: 31
          },
          end: {
            line: 52,
            column: 32
          }
        },
        loc: {
          start: {
            line: 52,
            column: 37
          },
          end: {
            line: 60,
            column: 3
          }
        },
        line: 52
      },
      '5': {
        name: '(anonymous_5)',
        decl: {
          start: {
            line: 62,
            column: 30
          },
          end: {
            line: 62,
            column: 31
          }
        },
        loc: {
          start: {
            line: 62,
            column: 36
          },
          end: {
            line: 70,
            column: 3
          }
        },
        line: 62
      },
      '6': {
        name: '(anonymous_6)',
        decl: {
          start: {
            line: 72,
            column: 32
          },
          end: {
            line: 72,
            column: 33
          }
        },
        loc: {
          start: {
            line: 72,
            column: 38
          },
          end: {
            line: 80,
            column: 3
          }
        },
        line: 72
      },
      '7': {
        name: '(anonymous_7)',
        decl: {
          start: {
            line: 82,
            column: 51
          },
          end: {
            line: 82,
            column: 52
          }
        },
        loc: {
          start: {
            line: 82,
            column: 57
          },
          end: {
            line: 96,
            column: 3
          }
        },
        line: 82
      },
      '8': {
        name: '(anonymous_8)',
        decl: {
          start: {
            line: 83,
            column: 20
          },
          end: {
            line: 83,
            column: 21
          }
        },
        loc: {
          start: {
            line: 83,
            column: 32
          },
          end: {
            line: 95,
            column: 5
          }
        },
        line: 83
      },
      '9': {
        name: '(anonymous_9)',
        decl: {
          start: {
            line: 84,
            column: 63
          },
          end: {
            line: 84,
            column: 64
          }
        },
        loc: {
          start: {
            line: 84,
            column: 70
          },
          end: {
            line: 84,
            column: 73
          }
        },
        line: 84
      },
      '10': {
        name: '(anonymous_10)',
        decl: {
          start: {
            line: 98,
            column: 47
          },
          end: {
            line: 98,
            column: 48
          }
        },
        loc: {
          start: {
            line: 98,
            column: 53
          },
          end: {
            line: 112,
            column: 3
          }
        },
        line: 98
      },
      '11': {
        name: '(anonymous_11)',
        decl: {
          start: {
            line: 99,
            column: 20
          },
          end: {
            line: 99,
            column: 21
          }
        },
        loc: {
          start: {
            line: 99,
            column: 32
          },
          end: {
            line: 111,
            column: 5
          }
        },
        line: 99
      },
      '12': {
        name: '(anonymous_12)',
        decl: {
          start: {
            line: 100,
            column: 63
          },
          end: {
            line: 100,
            column: 64
          }
        },
        loc: {
          start: {
            line: 100,
            column: 70
          },
          end: {
            line: 100,
            column: 75
          }
        },
        line: 100
      }
    },
    branchMap: {},
    s: {
      '0': 0,
      '1': 0,
      '2': 0,
      '3': 0,
      '4': 0,
      '5': 0,
      '6': 0,
      '7': 0,
      '8': 0,
      '9': 0,
      '10': 0,
      '11': 0,
      '12': 0,
      '13': 0,
      '14': 0,
      '15': 0,
      '16': 0,
      '17': 0,
      '18': 0,
      '19': 0,
      '20': 0,
      '21': 0,
      '22': 0,
      '23': 0,
      '24': 0,
      '25': 0,
      '26': 0,
      '27': 0,
      '28': 0,
      '29': 0,
      '30': 0,
      '31': 0,
      '32': 0,
      '33': 0,
      '34': 0,
      '35': 0,
      '36': 0,
      '37': 0,
      '38': 0,
      '39': 0,
      '40': 0,
      '41': 0,
      '42': 0,
      '43': 0,
      '44': 0,
      '45': 0,
      '46': 0,
      '47': 0,
      '48': 0,
      '49': 0,
      '50': 0,
      '51': 0,
      '52': 0,
      '53': 0,
      '54': 0,
      '55': 0,
      '56': 0,
      '57': 0,
      '58': 0,
      '59': 0,
      '60': 0,
      '61': 0,
      '62': 0,
      '63': 0,
      '64': 0,
      '65': 0,
      '66': 0,
      '67': 0,
      '68': 0
    },
    f: {
      '0': 0,
      '1': 0,
      '2': 0,
      '3': 0,
      '4': 0,
      '5': 0,
      '6': 0,
      '7': 0,
      '8': 0,
      '9': 0,
      '10': 0,
      '11': 0,
      '12': 0
    },
    b: {},
    _coverageSchema: '332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'
  },
      coverage = global[gcv] || (global[gcv] = {});

  if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }

  coverageData.hash = hash;
  return coverage[path] = coverageData;
}();

var _asyncToGenerator = _interopRequireDefault(require('async-to-generator'));

var _cache;

function _load_cache() {
  return _cache = require('../cache');
}

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

cov_14x0re5b2n.s[0]++; /**
                        * Copyright (c) 2017-present, Facebook, Inc.
                        * All rights reserved.
                        *
                        * This source code is licensed under the BSD-style license found in the
                        * LICENSE file in the root directory of this source tree. An additional grant
                        * of patent rights can be found in the PATENTS file in the same directory.
                        *
                        * 
                        * @format
                        */

describe('Cache', () => {
  cov_14x0re5b2n.f[0]++;

  const key1 = (cov_14x0re5b2n.s[1]++, 'key1');
  const key2 = (cov_14x0re5b2n.s[2]++, 'key2');
  const value = (cov_14x0re5b2n.s[3]++, 'value');

  cov_14x0re5b2n.s[4]++;
  it('creates values on demand', () => {
    cov_14x0re5b2n.f[1]++;

    let callCount = (cov_14x0re5b2n.s[5]++, 0);
    const factory = (cov_14x0re5b2n.s[6]++, jasmine.createSpy('factory').andCallFake(key => {
      cov_14x0re5b2n.f[2]++;
      cov_14x0re5b2n.s[7]++;

      callCount += 1;
      cov_14x0re5b2n.s[8]++;
      expect(key).toEqual(key1);
      cov_14x0re5b2n.s[9]++;
      return value;
    }));
    const cache = (cov_14x0re5b2n.s[10]++, new (_cache || _load_cache()).Cache(factory));

    cov_14x0re5b2n.s[11]++;
    expect(factory).not.toHaveBeenCalled();
    cov_14x0re5b2n.s[12]++;
    expect(cache.has(key1)).toEqual(false);
    cov_14x0re5b2n.s[13]++;
    expect(cache.get(key1)).toEqual(value);
    cov_14x0re5b2n.s[14]++;
    expect(callCount).toEqual(1);
    cov_14x0re5b2n.s[15]++;
    expect(cache.has(key1)).toEqual(true);
    cov_14x0re5b2n.s[16]++;
    expect(factory).toHaveBeenCalledWith(key1);
    cov_14x0re5b2n.s[17]++;
    expect(Array.from(cache.values())).toEqual([value]);

    cov_14x0re5b2n.s[18]++;
    expect(cache.get(key1)).toEqual(value);
    cov_14x0re5b2n.s[19]++;
    expect(callCount).toEqual(1);
  });

  cov_14x0re5b2n.s[20]++;
  it('delete', () => {
    cov_14x0re5b2n.f[3]++;

    const factory = (cov_14x0re5b2n.s[21]++, jasmine.createSpy('factory').andReturn(value));
    const cache = (cov_14x0re5b2n.s[22]++, new (_cache || _load_cache()).Cache(factory));

    cov_14x0re5b2n.s[23]++;
    expect(cache.delete(key1)).toEqual(false);
    cov_14x0re5b2n.s[24]++;
    cache.get(key1);
    cov_14x0re5b2n.s[25]++;
    expect(cache.has(key1)).toEqual(true);
    cov_14x0re5b2n.s[26]++;
    expect(cache.delete(key1)).toEqual(true);
    cov_14x0re5b2n.s[27]++;
    expect(cache.has(key1)).toEqual(false);
  });

  cov_14x0re5b2n.s[28]++;
  it('delete disposes values', () => {
    cov_14x0re5b2n.f[4]++;

    const factory = (cov_14x0re5b2n.s[29]++, jasmine.createSpy('factory').andReturn(value));
    const dispose = (cov_14x0re5b2n.s[30]++, jasmine.createSpy('dispose'));
    const cache = (cov_14x0re5b2n.s[31]++, new (_cache || _load_cache()).Cache(factory, dispose));

    cov_14x0re5b2n.s[32]++;
    cache.get(key1);
    cov_14x0re5b2n.s[33]++;
    cache.delete(key1);
    cov_14x0re5b2n.s[34]++;
    expect(dispose).toHaveBeenCalledWith(value);
  });

  cov_14x0re5b2n.s[35]++;
  it('clear disposes values', () => {
    cov_14x0re5b2n.f[5]++;

    const factory = (cov_14x0re5b2n.s[36]++, jasmine.createSpy('factory').andReturn(value));
    const dispose = (cov_14x0re5b2n.s[37]++, jasmine.createSpy('dispose'));
    const cache = (cov_14x0re5b2n.s[38]++, new (_cache || _load_cache()).Cache(factory, dispose));

    cov_14x0re5b2n.s[39]++;
    cache.get(key1);
    cov_14x0re5b2n.s[40]++;
    cache.clear();
    cov_14x0re5b2n.s[41]++;
    expect(dispose).toHaveBeenCalledWith(value);
  });

  cov_14x0re5b2n.s[42]++;
  it('dispose disposes values', () => {
    cov_14x0re5b2n.f[6]++;

    const factory = (cov_14x0re5b2n.s[43]++, jasmine.createSpy('factory').andReturn(value));
    const dispose = (cov_14x0re5b2n.s[44]++, jasmine.createSpy('dispose'));
    const cache = (cov_14x0re5b2n.s[45]++, new (_cache || _load_cache()).Cache(factory, dispose));

    cov_14x0re5b2n.s[46]++;
    cache.get(key1);
    cov_14x0re5b2n.s[47]++;
    cache.dispose();
    cov_14x0re5b2n.s[48]++;
    expect(dispose).toHaveBeenCalledWith(value);
  });

  cov_14x0re5b2n.s[49]++;
  it('observeValues sees existing and new values', () => {
    cov_14x0re5b2n.f[7]++;
    cov_14x0re5b2n.s[50]++;

    waitsForPromise((0, _asyncToGenerator.default)(function* () {
      cov_14x0re5b2n.f[8]++;

      const factory = (cov_14x0re5b2n.s[51]++, jasmine.createSpy('factory').andCallFake(function (key) {
        cov_14x0re5b2n.f[9]++;
        cov_14x0re5b2n.s[52]++;
        return key;
      }));
      const cache = (cov_14x0re5b2n.s[53]++, new (_cache || _load_cache()).Cache(factory));

      cov_14x0re5b2n.s[54]++;
      cache.get(key1);
      const values = (cov_14x0re5b2n.s[55]++, cache.observeValues().toArray().toPromise());
      cov_14x0re5b2n.s[56]++;
      cache.get(key2);
      cov_14x0re5b2n.s[57]++;
      cache.dispose();
      cov_14x0re5b2n.s[58]++;
      expect((yield values)).toEqual([key1, key2]);
    }));
  });

  cov_14x0re5b2n.s[59]++;
  it('observeKeys sees existing and new keys', () => {
    cov_14x0re5b2n.f[10]++;
    cov_14x0re5b2n.s[60]++;

    waitsForPromise((0, _asyncToGenerator.default)(function* () {
      cov_14x0re5b2n.f[11]++;

      const factory = (cov_14x0re5b2n.s[61]++, jasmine.createSpy('factory').andCallFake(function (key) {
        cov_14x0re5b2n.f[12]++;
        cov_14x0re5b2n.s[62]++;
        return value;
      }));
      const cache = (cov_14x0re5b2n.s[63]++, new (_cache || _load_cache()).Cache(factory));

      cov_14x0re5b2n.s[64]++;
      cache.get(key1);
      const values = (cov_14x0re5b2n.s[65]++, cache.observeKeys().toArray().toPromise());
      cov_14x0re5b2n.s[66]++;
      cache.get(key2);
      cov_14x0re5b2n.s[67]++;
      cache.dispose();
      cov_14x0re5b2n.s[68]++;
      expect((yield values)).toEqual([key1, key2]);
    }));
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhY2hlLXNwZWMuanMiXSwibmFtZXMiOlsiZGVzY3JpYmUiLCJrZXkxIiwia2V5MiIsInZhbHVlIiwiaXQiLCJjYWxsQ291bnQiLCJmYWN0b3J5IiwiamFzbWluZSIsImNyZWF0ZVNweSIsImFuZENhbGxGYWtlIiwia2V5IiwiZXhwZWN0IiwidG9FcXVhbCIsImNhY2hlIiwibm90IiwidG9IYXZlQmVlbkNhbGxlZCIsImhhcyIsImdldCIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwiQXJyYXkiLCJmcm9tIiwidmFsdWVzIiwiYW5kUmV0dXJuIiwiZGVsZXRlIiwiZGlzcG9zZSIsImNsZWFyIiwid2FpdHNGb3JQcm9taXNlIiwib2JzZXJ2ZVZhbHVlcyIsInRvQXJyYXkiLCJ0b1Byb21pc2UiLCJvYnNlcnZlS2V5cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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MEI7QUFXMUJiLGNBQU8sTUFBTVUsTUFBYixHQUFxQlQsT0FBckIsQ0FBNkIsQ0FBQ1gsSUFBRCxFQUFPQyxJQUFQLENBQTdCO0FBQ0QsS0FaRDtBQWFELEdBZEQ7O0FBbkVzQjtBQW1GdEJFLEtBQUcsd0NBQUgsRUFBNkMsTUFBTTtBQUFBO0FBQUE7O0FBQ2pEc0IsbURBQWdCLGFBQVk7QUFBQTs7QUFDMUIsWUFBTXBCLG1DQUFVQyxRQUFRQyxTQUFSLENBQWtCLFNBQWxCLEVBQTZCQyxXQUE3QixDQUF5QyxlQUFPTjtBQUFBQTtBQUFBQTtBQUFBQTtBQUFLQSxPQUFyRCxDQUFWLENBQU47QUFDQSxZQUFNVSxpQ0FBK0Isb0NBQVVQLE9BQVYsQ0FBL0IsQ0FBTjs7QUFGMEI7QUFJMUJPLFlBQU1JLEdBQU4sQ0FBVWhCLElBQVY7QUFDQSxZQUFNb0Isa0NBQVNSLE1BQ1ppQixXQURZLEdBRVpGLE9BRlksR0FHWkMsU0FIWSxFQUFULENBQU47QUFMMEI7QUFTMUJoQixZQUFNSSxHQUFOLENBQVVmLElBQVY7QUFUMEI7QUFVMUJXLFlBQU1XLE9BQU47QUFWMEI7QUFXMUJiLGNBQU8sTUFBTVUsTUFBYixHQUFxQlQsT0FBckIsQ0FBNkIsQ0FBQ1gsSUFBRCxFQUFPQyxJQUFQLENBQTdCO0FBQ0QsS0FaRDtBQWFELEdBZEQ7QUFlRCxDQWxHRCIsImZpbGUiOiJjYWNoZS1zcGVjLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTctcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBmbG93XG4gKiBAZm9ybWF0XG4gKi9cblxuaW1wb3J0IHtDYWNoZX0gZnJvbSAnLi4vY2FjaGUnO1xuXG5kZXNjcmliZSgnQ2FjaGUnLCAoKSA9PiB7XG4gIGNvbnN0IGtleTEgPSAna2V5MSc7XG4gIGNvbnN0IGtleTIgPSAna2V5Mic7XG4gIGNvbnN0IHZhbHVlID0gJ3ZhbHVlJztcblxuICBpdCgnY3JlYXRlcyB2YWx1ZXMgb24gZGVtYW5kJywgKCkgPT4ge1xuICAgIGxldCBjYWxsQ291bnQgPSAwO1xuICAgIGNvbnN0IGZhY3RvcnkgPSBqYXNtaW5lLmNyZWF0ZVNweSgnZmFjdG9yeScpLmFuZENhbGxGYWtlKGtleSA9PiB7XG4gICAgICBjYWxsQ291bnQgKz0gMTtcbiAgICAgIGV4cGVjdChrZXkpLnRvRXF1YWwoa2V5MSk7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSk7XG4gICAgY29uc3QgY2FjaGU6IENhY2hlPHN0cmluZywgc3RyaW5nPiA9IG5ldyBDYWNoZShmYWN0b3J5KTtcblxuICAgIGV4cGVjdChmYWN0b3J5KS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIGV4cGVjdChjYWNoZS5oYXMoa2V5MSkpLnRvRXF1YWwoZmFsc2UpO1xuICAgIGV4cGVjdChjYWNoZS5nZXQoa2V5MSkpLnRvRXF1YWwodmFsdWUpO1xuICAgIGV4cGVjdChjYWxsQ291bnQpLnRvRXF1YWwoMSk7XG4gICAgZXhwZWN0KGNhY2hlLmhhcyhrZXkxKSkudG9FcXVhbCh0cnVlKTtcbiAgICBleHBlY3QoZmFjdG9yeSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoa2V5MSk7XG4gICAgZXhwZWN0KEFycmF5LmZyb20oY2FjaGUudmFsdWVzKCkpKS50b0VxdWFsKFt2YWx1ZV0pO1xuXG4gICAgZXhwZWN0KGNhY2hlLmdldChrZXkxKSkudG9FcXVhbCh2YWx1ZSk7XG4gICAgZXhwZWN0KGNhbGxDb3VudCkudG9FcXVhbCgxKTtcbiAgfSk7XG5cbiAgaXQoJ2RlbGV0ZScsICgpID0+IHtcbiAgICBjb25zdCBmYWN0b3J5ID0gamFzbWluZS5jcmVhdGVTcHkoJ2ZhY3RvcnknKS5hbmRSZXR1cm4odmFsdWUpO1xuICAgIGNvbnN0IGNhY2hlOiBDYWNoZTxzdHJpbmcsIHN0cmluZz4gPSBuZXcgQ2FjaGUoZmFjdG9yeSk7XG5cbiAgICBleHBlY3QoY2FjaGUuZGVsZXRlKGtleTEpKS50b0VxdWFsKGZhbHNlKTtcbiAgICBjYWNoZS5nZXQoa2V5MSk7XG4gICAgZXhwZWN0KGNhY2hlLmhhcyhrZXkxKSkudG9FcXVhbCh0cnVlKTtcbiAgICBleHBlY3QoY2FjaGUuZGVsZXRlKGtleTEpKS50b0VxdWFsKHRydWUpO1xuICAgIGV4cGVjdChjYWNoZS5oYXMoa2V5MSkpLnRvRXF1YWwoZmFsc2UpO1xuICB9KTtcblxuICBpdCgnZGVsZXRlIGRpc3Bvc2VzIHZhbHVlcycsICgpID0+IHtcbiAgICBjb25zdCBmYWN0b3J5ID0gamFzbWluZS5jcmVhdGVTcHkoJ2ZhY3RvcnknKS5hbmRSZXR1cm4odmFsdWUpO1xuICAgIGNvbnN0IGRpc3Bvc2UgPSBqYXNtaW5lLmNyZWF0ZVNweSgnZGlzcG9zZScpO1xuICAgIGNvbnN0IGNhY2hlOiBDYWNoZTxzdHJpbmcsIHN0cmluZz4gPSBuZXcgQ2FjaGUoZmFjdG9yeSwgZGlzcG9zZSk7XG5cbiAgICBjYWNoZS5nZXQoa2V5MSk7XG4gICAgY2FjaGUuZGVsZXRlKGtleTEpO1xuICAgIGV4cGVjdChkaXNwb3NlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh2YWx1ZSk7XG4gIH0pO1xuXG4gIGl0KCdjbGVhciBkaXNwb3NlcyB2YWx1ZXMnLCAoKSA9PiB7XG4gICAgY29uc3QgZmFjdG9yeSA9IGphc21pbmUuY3JlYXRlU3B5KCdmYWN0b3J5JykuYW5kUmV0dXJuKHZhbHVlKTtcbiAgICBjb25zdCBkaXNwb3NlID0gamFzbWluZS5jcmVhdGVTcHkoJ2Rpc3Bvc2UnKTtcbiAgICBjb25zdCBjYWNoZTogQ2FjaGU8c3RyaW5nLCBzdHJpbmc+ID0gbmV3IENhY2hlKGZhY3RvcnksIGRpc3Bvc2UpO1xuXG4gICAgY2FjaGUuZ2V0KGtleTEpO1xuICAgIGNhY2hlLmNsZWFyKCk7XG4gICAgZXhwZWN0KGRpc3Bvc2UpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHZhbHVlKTtcbiAgfSk7XG5cbiAgaXQoJ2Rpc3Bvc2UgZGlzcG9zZXMgdmFsdWVzJywgKCkgPT4ge1xuICAgIGNvbnN0IGZhY3RvcnkgPSBqYXNtaW5lLmNyZWF0ZVNweSgnZmFjdG9yeScpLmFuZFJldHVybih2YWx1ZSk7XG4gICAgY29uc3QgZGlzcG9zZSA9IGphc21pbmUuY3JlYXRlU3B5KCdkaXNwb3NlJyk7XG4gICAgY29uc3QgY2FjaGU6IENhY2hlPHN0cmluZywgc3RyaW5nPiA9IG5ldyBDYWNoZShmYWN0b3J5LCBkaXNwb3NlKTtcblxuICAgIGNhY2hlLmdldChrZXkxKTtcbiAgICBjYWNoZS5kaXNwb3NlKCk7XG4gICAgZXhwZWN0KGRpc3Bvc2UpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHZhbHVlKTtcbiAgfSk7XG5cbiAgaXQoJ29ic2VydmVWYWx1ZXMgc2VlcyBleGlzdGluZyBhbmQgbmV3IHZhbHVlcycsICgpID0+IHtcbiAgICB3YWl0c0ZvclByb21pc2UoYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZmFjdG9yeSA9IGphc21pbmUuY3JlYXRlU3B5KCdmYWN0b3J5JykuYW5kQ2FsbEZha2Uoa2V5ID0+IGtleSk7XG4gICAgICBjb25zdCBjYWNoZTogQ2FjaGU8c3RyaW5nLCBzdHJpbmc+ID0gbmV3IENhY2hlKGZhY3RvcnkpO1xuXG4gICAgICBjYWNoZS5nZXQoa2V5MSk7XG4gICAgICBjb25zdCB2YWx1ZXMgPSBjYWNoZVxuICAgICAgICAub2JzZXJ2ZVZhbHVlcygpXG4gICAgICAgIC50b0FycmF5KClcbiAgICAgICAgLnRvUHJvbWlzZSgpO1xuICAgICAgY2FjaGUuZ2V0KGtleTIpO1xuICAgICAgY2FjaGUuZGlzcG9zZSgpO1xuICAgICAgZXhwZWN0KGF3YWl0IHZhbHVlcykudG9FcXVhbChba2V5MSwga2V5Ml0pO1xuICAgIH0pO1xuICB9KTtcblxuICBpdCgnb2JzZXJ2ZUtleXMgc2VlcyBleGlzdGluZyBhbmQgbmV3IGtleXMnLCAoKSA9PiB7XG4gICAgd2FpdHNGb3JQcm9taXNlKGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGZhY3RvcnkgPSBqYXNtaW5lLmNyZWF0ZVNweSgnZmFjdG9yeScpLmFuZENhbGxGYWtlKGtleSA9PiB2YWx1ZSk7XG4gICAgICBjb25zdCBjYWNoZTogQ2FjaGU8c3RyaW5nLCBzdHJpbmc+ID0gbmV3IENhY2hlKGZhY3RvcnkpO1xuXG4gICAgICBjYWNoZS5nZXQoa2V5MSk7XG4gICAgICBjb25zdCB2YWx1ZXMgPSBjYWNoZVxuICAgICAgICAub2JzZXJ2ZUtleXMoKVxuICAgICAgICAudG9BcnJheSgpXG4gICAgICAgIC50b1Byb21pc2UoKTtcbiAgICAgIGNhY2hlLmdldChrZXkyKTtcbiAgICAgIGNhY2hlLmRpc3Bvc2UoKTtcbiAgICAgIGV4cGVjdChhd2FpdCB2YWx1ZXMpLnRvRXF1YWwoW2tleTEsIGtleTJdKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdfQ==