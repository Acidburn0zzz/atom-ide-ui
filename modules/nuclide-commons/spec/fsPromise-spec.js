'use strict';

var cov_weyimz2dz = function () {
  var path = '/Users/hansonw/atom-ide-ui/modules/nuclide-commons/spec/fsPromise-spec.js',
      hash = '93222b24ff43faeabef0122d1b34e576d5124b8a',
      global = new Function('return this')(),
      gcv = '__coverage__',
      coverageData = {
    path: '/Users/hansonw/atom-ide-ui/modules/nuclide-commons/spec/fsPromise-spec.js',
    statementMap: {
      '0': {
        start: {
          line: 17,
          column: 0
        },
        end: {
          line: 147,
          column: 3
        }
      },
      '1': {
        start: {
          line: 18,
          column: 2
        },
        end: {
          line: 62,
          column: 5
        }
      },
      '2': {
        start: {
          line: 19,
          column: 27
        },
        end: {
          line: 19,
          column: 36
        }
      },
      '3': {
        start: {
          line: 21,
          column: 4
        },
        end: {
          line: 31,
          column: 7
        }
      },
      '4': {
        start: {
          line: 22,
          column: 6
        },
        end: {
          line: 30,
          column: 9
        }
      },
      '5': {
        start: {
          line: 23,
          column: 8
        },
        end: {
          line: 29,
          column: 10
        }
      },
      '6': {
        start: {
          line: 33,
          column: 4
        },
        end: {
          line: 41,
          column: 7
        }
      },
      '7': {
        start: {
          line: 34,
          column: 6
        },
        end: {
          line: 40,
          column: 9
        }
      },
      '8': {
        start: {
          line: 35,
          column: 26
        },
        end: {
          line: 38,
          column: 9
        }
      },
      '9': {
        start: {
          line: 39,
          column: 8
        },
        end: {
          line: 39,
          column: 40
        }
      },
      '10': {
        start: {
          line: 43,
          column: 4
        },
        end: {
          line: 51,
          column: 7
        }
      },
      '11': {
        start: {
          line: 44,
          column: 6
        },
        end: {
          line: 50,
          column: 9
        }
      },
      '12': {
        start: {
          line: 45,
          column: 26
        },
        end: {
          line: 48,
          column: 9
        }
      },
      '13': {
        start: {
          line: 49,
          column: 8
        },
        end: {
          line: 49,
          column: 40
        }
      },
      '14': {
        start: {
          line: 53,
          column: 4
        },
        end: {
          line: 61,
          column: 7
        }
      },
      '15': {
        start: {
          line: 54,
          column: 6
        },
        end: {
          line: 60,
          column: 9
        }
      },
      '16': {
        start: {
          line: 55,
          column: 26
        },
        end: {
          line: 58,
          column: 9
        }
      },
      '17': {
        start: {
          line: 59,
          column: 8
        },
        end: {
          line: 59,
          column: 37
        }
      },
      '18': {
        start: {
          line: 64,
          column: 2
        },
        end: {
          line: 129,
          column: 5
        }
      },
      '19': {
        start: {
          line: 65,
          column: 27
        },
        end: {
          line: 65,
          column: 36
        }
      },
      '20': {
        start: {
          line: 67,
          column: 4
        },
        end: {
          line: 81,
          column: 7
        }
      },
      '21': {
        start: {
          line: 68,
          column: 6
        },
        end: {
          line: 80,
          column: 9
        }
      },
      '22': {
        start: {
          line: 69,
          column: 8
        },
        end: {
          line: 79,
          column: 10
        }
      },
      '23': {
        start: {
          line: 83,
          column: 4
        },
        end: {
          line: 92,
          column: 7
        }
      },
      '24': {
        start: {
          line: 84,
          column: 6
        },
        end: {
          line: 91,
          column: 9
        }
      },
      '25': {
        start: {
          line: 85,
          column: 29
        },
        end: {
          line: 85,
          column: 58
        }
      },
      '26': {
        start: {
          line: 86,
          column: 26
        },
        end: {
          line: 89,
          column: 9
        }
      },
      '27': {
        start: {
          line: 90,
          column: 8
        },
        end: {
          line: 90,
          column: 45
        }
      },
      '28': {
        start: {
          line: 94,
          column: 4
        },
        end: {
          line: 104,
          column: 7
        }
      },
      '29': {
        start: {
          line: 95,
          column: 6
        },
        end: {
          line: 103,
          column: 9
        }
      },
      '30': {
        start: {
          line: 96,
          column: 29
        },
        end: {
          line: 96,
          column: 58
        }
      },
      '31': {
        start: {
          line: 97,
          column: 26
        },
        end: {
          line: 97,
          column: 63
        }
      },
      '32': {
        start: {
          line: 98,
          column: 26
        },
        end: {
          line: 101,
          column: 9
        }
      },
      '33': {
        start: {
          line: 102,
          column: 8
        },
        end: {
          line: 102,
          column: 45
        }
      },
      '34': {
        start: {
          line: 106,
          column: 4
        },
        end: {
          line: 117,
          column: 7
        }
      },
      '35': {
        start: {
          line: 107,
          column: 6
        },
        end: {
          line: 116,
          column: 9
        }
      },
      '36': {
        start: {
          line: 108,
          column: 29
        },
        end: {
          line: 108,
          column: 64
        }
      },
      '37': {
        start: {
          line: 109,
          column: 26
        },
        end: {
          line: 109,
          column: 63
        }
      },
      '38': {
        start: {
          line: 110,
          column: 26
        },
        end: {
          line: 114,
          column: 9
        }
      },
      '39': {
        start: {
          line: 115,
          column: 8
        },
        end: {
          line: 115,
          column: 45
        }
      },
      '40': {
        start: {
          line: 119,
          column: 4
        },
        end: {
          line: 128,
          column: 7
        }
      },
      '41': {
        start: {
          line: 120,
          column: 6
        },
        end: {
          line: 127,
          column: 9
        }
      },
      '42': {
        start: {
          line: 121,
          column: 26
        },
        end: {
          line: 121,
          column: 63
        }
      },
      '43': {
        start: {
          line: 122,
          column: 26
        },
        end: {
          line: 125,
          column: 9
        }
      },
      '44': {
        start: {
          line: 126,
          column: 8
        },
        end: {
          line: 126,
          column: 37
        }
      },
      '45': {
        start: {
          line: 131,
          column: 2
        },
        end: {
          line: 146,
          column: 5
        }
      },
      '46': {
        start: {
          line: 132,
          column: 4
        },
        end: {
          line: 145,
          column: 7
        }
      },
      '47': {
        start: {
          line: 133,
          column: 6
        },
        end: {
          line: 138,
          column: 21
        }
      },
      '48': {
        start: {
          line: 139,
          column: 6
        },
        end: {
          line: 144,
          column: 25
        }
      }
    },
    fnMap: {
      '0': {
        name: '(anonymous_0)',
        decl: {
          start: {
            line: 17,
            column: 33
          },
          end: {
            line: 17,
            column: 34
          }
        },
        loc: {
          start: {
            line: 17,
            column: 39
          },
          end: {
            line: 147,
            column: 1
          }
        },
        line: 17
      },
      '1': {
        name: '(anonymous_1)',
        decl: {
          start: {
            line: 18,
            column: 32
          },
          end: {
            line: 18,
            column: 33
          }
        },
        loc: {
          start: {
            line: 18,
            column: 38
          },
          end: {
            line: 62,
            column: 3
          }
        },
        line: 18
      },
      '2': {
        name: '(anonymous_2)',
        decl: {
          start: {
            line: 21,
            column: 15
          },
          end: {
            line: 21,
            column: 16
          }
        },
        loc: {
          start: {
            line: 21,
            column: 21
          },
          end: {
            line: 31,
            column: 5
          }
        },
        line: 21
      },
      '3': {
        name: '(anonymous_3)',
        decl: {
          start: {
            line: 22,
            column: 22
          },
          end: {
            line: 22,
            column: 23
          }
        },
        loc: {
          start: {
            line: 22,
            column: 34
          },
          end: {
            line: 30,
            column: 7
          }
        },
        line: 22
      },
      '4': {
        name: '(anonymous_4)',
        decl: {
          start: {
            line: 33,
            column: 53
          },
          end: {
            line: 33,
            column: 54
          }
        },
        loc: {
          start: {
            line: 33,
            column: 59
          },
          end: {
            line: 41,
            column: 5
          }
        },
        line: 33
      },
      '5': {
        name: '(anonymous_5)',
        decl: {
          start: {
            line: 34,
            column: 22
          },
          end: {
            line: 34,
            column: 23
          }
        },
        loc: {
          start: {
            line: 34,
            column: 34
          },
          end: {
            line: 40,
            column: 7
          }
        },
        line: 34
      },
      '6': {
        name: '(anonymous_6)',
        decl: {
          start: {
            line: 43,
            column: 52
          },
          end: {
            line: 43,
            column: 53
          }
        },
        loc: {
          start: {
            line: 43,
            column: 58
          },
          end: {
            line: 51,
            column: 5
          }
        },
        line: 43
      },
      '7': {
        name: '(anonymous_7)',
        decl: {
          start: {
            line: 44,
            column: 22
          },
          end: {
            line: 44,
            column: 23
          }
        },
        loc: {
          start: {
            line: 44,
            column: 34
          },
          end: {
            line: 50,
            column: 7
          }
        },
        line: 44
      },
      '8': {
        name: '(anonymous_8)',
        decl: {
          start: {
            line: 53,
            column: 49
          },
          end: {
            line: 53,
            column: 50
          }
        },
        loc: {
          start: {
            line: 53,
            column: 55
          },
          end: {
            line: 61,
            column: 5
          }
        },
        line: 53
      },
      '9': {
        name: '(anonymous_9)',
        decl: {
          start: {
            line: 54,
            column: 22
          },
          end: {
            line: 54,
            column: 23
          }
        },
        loc: {
          start: {
            line: 54,
            column: 34
          },
          end: {
            line: 60,
            column: 7
          }
        },
        line: 54
      },
      '10': {
        name: '(anonymous_10)',
        decl: {
          start: {
            line: 64,
            column: 33
          },
          end: {
            line: 64,
            column: 34
          }
        },
        loc: {
          start: {
            line: 64,
            column: 39
          },
          end: {
            line: 129,
            column: 3
          }
        },
        line: 64
      },
      '11': {
        name: '(anonymous_11)',
        decl: {
          start: {
            line: 67,
            column: 15
          },
          end: {
            line: 67,
            column: 16
          }
        },
        loc: {
          start: {
            line: 67,
            column: 21
          },
          end: {
            line: 81,
            column: 5
          }
        },
        line: 67
      },
      '12': {
        name: '(anonymous_12)',
        decl: {
          start: {
            line: 68,
            column: 22
          },
          end: {
            line: 68,
            column: 23
          }
        },
        loc: {
          start: {
            line: 68,
            column: 34
          },
          end: {
            line: 80,
            column: 7
          }
        },
        line: 68
      },
      '13': {
        name: '(anonymous_13)',
        decl: {
          start: {
            line: 83,
            column: 53
          },
          end: {
            line: 83,
            column: 54
          }
        },
        loc: {
          start: {
            line: 83,
            column: 59
          },
          end: {
            line: 92,
            column: 5
          }
        },
        line: 83
      },
      '14': {
        name: '(anonymous_14)',
        decl: {
          start: {
            line: 84,
            column: 22
          },
          end: {
            line: 84,
            column: 23
          }
        },
        loc: {
          start: {
            line: 84,
            column: 34
          },
          end: {
            line: 91,
            column: 7
          }
        },
        line: 84
      },
      '15': {
        name: '(anonymous_15)',
        decl: {
          start: {
            line: 94,
            column: 62
          },
          end: {
            line: 94,
            column: 63
          }
        },
        loc: {
          start: {
            line: 94,
            column: 68
          },
          end: {
            line: 104,
            column: 5
          }
        },
        line: 94
      },
      '16': {
        name: '(anonymous_16)',
        decl: {
          start: {
            line: 95,
            column: 22
          },
          end: {
            line: 95,
            column: 23
          }
        },
        loc: {
          start: {
            line: 95,
            column: 34
          },
          end: {
            line: 103,
            column: 7
          }
        },
        line: 95
      },
      '17': {
        name: '(anonymous_17)',
        decl: {
          start: {
            line: 106,
            column: 89
          },
          end: {
            line: 106,
            column: 90
          }
        },
        loc: {
          start: {
            line: 106,
            column: 95
          },
          end: {
            line: 117,
            column: 5
          }
        },
        line: 106
      },
      '18': {
        name: '(anonymous_18)',
        decl: {
          start: {
            line: 107,
            column: 22
          },
          end: {
            line: 107,
            column: 23
          }
        },
        loc: {
          start: {
            line: 107,
            column: 34
          },
          end: {
            line: 116,
            column: 7
          }
        },
        line: 107
      },
      '19': {
        name: '(anonymous_19)',
        decl: {
          start: {
            line: 119,
            column: 49
          },
          end: {
            line: 119,
            column: 50
          }
        },
        loc: {
          start: {
            line: 119,
            column: 55
          },
          end: {
            line: 128,
            column: 5
          }
        },
        line: 119
      },
      '20': {
        name: '(anonymous_20)',
        decl: {
          start: {
            line: 120,
            column: 22
          },
          end: {
            line: 120,
            column: 23
          }
        },
        loc: {
          start: {
            line: 120,
            column: 34
          },
          end: {
            line: 127,
            column: 7
          }
        },
        line: 120
      },
      '21': {
        name: '(anonymous_21)',
        decl: {
          start: {
            line: 131,
            column: 41
          },
          end: {
            line: 131,
            column: 42
          }
        },
        loc: {
          start: {
            line: 131,
            column: 47
          },
          end: {
            line: 146,
            column: 3
          }
        },
        line: 131
      },
      '22': {
        name: '(anonymous_22)',
        decl: {
          start: {
            line: 132,
            column: 36
          },
          end: {
            line: 132,
            column: 37
          }
        },
        loc: {
          start: {
            line: 132,
            column: 42
          },
          end: {
            line: 145,
            column: 5
          }
        },
        line: 132
      }
    },
    branchMap: {},
    s: {
      '0': 0,
      '1': 0,
      '2': 0,
      '3': 0,
      '4': 0,
      '5': 0,
      '6': 0,
      '7': 0,
      '8': 0,
      '9': 0,
      '10': 0,
      '11': 0,
      '12': 0,
      '13': 0,
      '14': 0,
      '15': 0,
      '16': 0,
      '17': 0,
      '18': 0,
      '19': 0,
      '20': 0,
      '21': 0,
      '22': 0,
      '23': 0,
      '24': 0,
      '25': 0,
      '26': 0,
      '27': 0,
      '28': 0,
      '29': 0,
      '30': 0,
      '31': 0,
      '32': 0,
      '33': 0,
      '34': 0,
      '35': 0,
      '36': 0,
      '37': 0,
      '38': 0,
      '39': 0,
      '40': 0,
      '41': 0,
      '42': 0,
      '43': 0,
      '44': 0,
      '45': 0,
      '46': 0,
      '47': 0,
      '48': 0
    },
    f: {
      '0': 0,
      '1': 0,
      '2': 0,
      '3': 0,
      '4': 0,
      '5': 0,
      '6': 0,
      '7': 0,
      '8': 0,
      '9': 0,
      '10': 0,
      '11': 0,
      '12': 0,
      '13': 0,
      '14': 0,
      '15': 0,
      '16': 0,
      '17': 0,
      '18': 0,
      '19': 0,
      '20': 0,
      '21': 0,
      '22': 0
    },
    b: {},
    _coverageSchema: '332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'
  },
      coverage = global[gcv] || (global[gcv] = {});

  if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }

  coverageData.hash = hash;
  return coverage[path] = coverageData;
}();

var _asyncToGenerator = _interopRequireDefault(require('async-to-generator'));

var _nuclideUri;

function _load_nuclideUri() {
  return _nuclideUri = _interopRequireDefault(require('../nuclideUri'));
}

var _fsPromise;

function _load_fsPromise() {
  return _fsPromise = _interopRequireDefault(require('../fsPromise'));
}

var _testHelpers;

function _load_testHelpers() {
  return _testHelpers = require('../test-helpers');
}

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

cov_weyimz2dz.s[0]++; /**
                       * Copyright (c) 2017-present, Facebook, Inc.
                       * All rights reserved.
                       *
                       * This source code is licensed under the BSD-style license found in the
                       * LICENSE file in the root directory of this source tree. An additional grant
                       * of patent rights can be found in the PATENTS file in the same directory.
                       *
                       * 
                       * @format
                       */

describe('fsPromise test suite', () => {
  cov_weyimz2dz.f[0]++;
  cov_weyimz2dz.s[1]++;

  describe('findNearestFile()', () => {
    cov_weyimz2dz.f[1]++;

    let dirPath = (cov_weyimz2dz.s[2]++, null);

    cov_weyimz2dz.s[3]++;
    beforeEach(() => {
      cov_weyimz2dz.f[2]++;
      cov_weyimz2dz.s[4]++;

      waitsForPromise((0, _asyncToGenerator.default)(function* () {
        cov_weyimz2dz.f[3]++;
        cov_weyimz2dz.s[5]++;

        dirPath = yield (0, (_testHelpers || _load_testHelpers()).generateFixture)('nearest_test', new Map([['.some_file', 'just some file'], ['nested_dir/.another_file', 'just another file']]));
      }));
    });

    cov_weyimz2dz.s[6]++;
    it('find the file if given the exact directory', () => {
      cov_weyimz2dz.f[4]++;
      cov_weyimz2dz.s[7]++;

      waitsForPromise((0, _asyncToGenerator.default)(function* () {
        cov_weyimz2dz.f[5]++;

        const foundPath = (cov_weyimz2dz.s[8]++, yield (_fsPromise || _load_fsPromise()).default.findNearestFile('.some_file', dirPath));
        cov_weyimz2dz.s[9]++;
        expect(foundPath).toBe(dirPath);
      }));
    });

    cov_weyimz2dz.s[10]++;
    it('find the file if given a nested directory', () => {
      cov_weyimz2dz.f[6]++;
      cov_weyimz2dz.s[11]++;

      waitsForPromise((0, _asyncToGenerator.default)(function* () {
        cov_weyimz2dz.f[7]++;

        const foundPath = (cov_weyimz2dz.s[12]++, yield (_fsPromise || _load_fsPromise()).default.findNearestFile('.some_file', (_nuclideUri || _load_nuclideUri()).default.join(dirPath, 'nested_dir')));
        cov_weyimz2dz.s[13]++;
        expect(foundPath).toBe(dirPath);
      }));
    });

    cov_weyimz2dz.s[14]++;
    it('does not find the file if not existing', () => {
      cov_weyimz2dz.f[8]++;
      cov_weyimz2dz.s[15]++;

      waitsForPromise((0, _asyncToGenerator.default)(function* () {
        cov_weyimz2dz.f[9]++;

        const foundPath = (cov_weyimz2dz.s[16]++, yield (_fsPromise || _load_fsPromise()).default.findNearestFile('non-existent.txt', (_nuclideUri || _load_nuclideUri()).default.join(dirPath, 'nested_dir')));
        cov_weyimz2dz.s[17]++;
        expect(foundPath).toBe(null);
      }));
    });
  });

  cov_weyimz2dz.s[18]++;
  describe('findFurthestFile()', () => {
    cov_weyimz2dz.f[10]++;

    let dirPath = (cov_weyimz2dz.s[19]++, null);

    cov_weyimz2dz.s[20]++;
    beforeEach(() => {
      cov_weyimz2dz.f[11]++;
      cov_weyimz2dz.s[21]++;

      waitsForPromise((0, _asyncToGenerator.default)(function* () {
        cov_weyimz2dz.f[12]++;
        cov_weyimz2dz.s[22]++;

        dirPath = yield (0, (_testHelpers || _load_testHelpers()).generateFixture)('furthest_test', new Map([['0/.some_file', 'just a file'], ['0/1/.some_file', 'just b file'],
        // Skip one file to test consecutive vs non-consecutive.
        // ['0/1/2', 'just c file'],
        ['0/1/2/3/.some_file', 'just d file'], ['0/1/2/3/4/.some_file', 'just f file']]));
      }));
    });

    cov_weyimz2dz.s[23]++;
    it('find the file if given the exact directory', () => {
      cov_weyimz2dz.f[13]++;
      cov_weyimz2dz.s[24]++;

      waitsForPromise((0, _asyncToGenerator.default)(function* () {
        cov_weyimz2dz.f[14]++;

        const expectedPath = (cov_weyimz2dz.s[25]++, (_nuclideUri || _load_nuclideUri()).default.join(dirPath, '0'));
        const foundPath = (cov_weyimz2dz.s[26]++, yield (_fsPromise || _load_fsPromise()).default.findFurthestFile('.some_file', expectedPath));
        cov_weyimz2dz.s[27]++;
        expect(foundPath).toBe(expectedPath);
      }));
    });

    cov_weyimz2dz.s[28]++;
    it('finds the furthest file if given a nested directory', () => {
      cov_weyimz2dz.f[15]++;
      cov_weyimz2dz.s[29]++;

      waitsForPromise((0, _asyncToGenerator.default)(function* () {
        cov_weyimz2dz.f[16]++;

        const expectedPath = (cov_weyimz2dz.s[30]++, (_nuclideUri || _load_nuclideUri()).default.join(dirPath, '0'));
        const startPath = (cov_weyimz2dz.s[31]++, (_nuclideUri || _load_nuclideUri()).default.join(dirPath, '0/1/2/3/4'));
        const foundPath = (cov_weyimz2dz.s[32]++, yield (_fsPromise || _load_fsPromise()).default.findFurthestFile('.some_file', startPath));
        cov_weyimz2dz.s[33]++;
        expect(foundPath).toBe(expectedPath);
      }));
    });

    cov_weyimz2dz.s[34]++;
    it('terminates search as soon as file is not found if given the stopOnMissing flag', () => {
      cov_weyimz2dz.f[17]++;
      cov_weyimz2dz.s[35]++;

      waitsForPromise((0, _asyncToGenerator.default)(function* () {
        cov_weyimz2dz.f[18]++;

        const expectedPath = (cov_weyimz2dz.s[36]++, (_nuclideUri || _load_nuclideUri()).default.join(dirPath, '0/1/2/3'));
        const startPath = (cov_weyimz2dz.s[37]++, (_nuclideUri || _load_nuclideUri()).default.join(dirPath, '0/1/2/3/4'));
        const foundPath = (cov_weyimz2dz.s[38]++, yield (_fsPromise || _load_fsPromise()).default.findFurthestFile('.some_file', startPath, true /* stopOnMissing */
        ));
        cov_weyimz2dz.s[39]++;
        expect(foundPath).toBe(expectedPath);
      }));
    });

    cov_weyimz2dz.s[40]++;
    it('does not find the file if not existing', () => {
      cov_weyimz2dz.f[19]++;
      cov_weyimz2dz.s[41]++;

      waitsForPromise((0, _asyncToGenerator.default)(function* () {
        cov_weyimz2dz.f[20]++;

        const startPath = (cov_weyimz2dz.s[42]++, (_nuclideUri || _load_nuclideUri()).default.join(dirPath, '0/1/2/3/4'));
        const foundPath = (cov_weyimz2dz.s[43]++, yield (_fsPromise || _load_fsPromise()).default.findFurthestFile('non-existent.txt', startPath));
        cov_weyimz2dz.s[44]++;
        expect(foundPath).toBe(null);
      }));
    });
  });

  cov_weyimz2dz.s[45]++;
  describe('getCommonAncestorDirectory', () => {
    cov_weyimz2dz.f[21]++;
    cov_weyimz2dz.s[46]++;

    it('gets the parent directory', () => {
      cov_weyimz2dz.f[22]++;
      cov_weyimz2dz.s[47]++;

      expect((_fsPromise || _load_fsPromise()).default.getCommonAncestorDirectory(['/foo/bar.txt', '/foo/baz/lol.txt'])).toBe('/foo');
      cov_weyimz2dz.s[48]++;
      expect((_fsPromise || _load_fsPromise()).default.getCommonAncestorDirectory(['/foo/bar/abc/def/abc.txt', '/foo/bar/lol.txt'])).toBe('/foo/bar');
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZzUHJvbWlzZS1zcGVjLmpzIl0sIm5hbWVzIjpbImRlc2NyaWJlIiwiZGlyUGF0aCIsImJlZm9yZUVhY2giLCJ3YWl0c0ZvclByb21pc2UiLCJNYXAiLCJpdCIsImZvdW5kUGF0aCIsImZpbmROZWFyZXN0RmlsZSIsImV4cGVjdCIsInRvQmUiLCJqb2luIiwiZXhwZWN0ZWRQYXRoIiwiZmluZEZ1cnRoZXN0RmlsZSIsInN0YXJ0UGF0aCIsImdldENvbW1vbkFuY2VzdG9yRGlyZWN0b3J5Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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LCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQGZsb3dcbiAqIEBmb3JtYXRcbiAqL1xuXG5pbXBvcnQgbnVjbGlkZVVyaSBmcm9tICcuLi9udWNsaWRlVXJpJztcbmltcG9ydCBmc1Byb21pc2UgZnJvbSAnLi4vZnNQcm9taXNlJztcbmltcG9ydCB7Z2VuZXJhdGVGaXh0dXJlfSBmcm9tICcuLi90ZXN0LWhlbHBlcnMnO1xuXG5kZXNjcmliZSgnZnNQcm9taXNlIHRlc3Qgc3VpdGUnLCAoKSA9PiB7XG4gIGRlc2NyaWJlKCdmaW5kTmVhcmVzdEZpbGUoKScsICgpID0+IHtcbiAgICBsZXQgZGlyUGF0aDogc3RyaW5nID0gKG51bGw6IGFueSk7XG5cbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgIHdhaXRzRm9yUHJvbWlzZShhc3luYyAoKSA9PiB7XG4gICAgICAgIGRpclBhdGggPSBhd2FpdCBnZW5lcmF0ZUZpeHR1cmUoXG4gICAgICAgICAgJ25lYXJlc3RfdGVzdCcsXG4gICAgICAgICAgbmV3IE1hcChbXG4gICAgICAgICAgICBbJy5zb21lX2ZpbGUnLCAnanVzdCBzb21lIGZpbGUnXSxcbiAgICAgICAgICAgIFsnbmVzdGVkX2Rpci8uYW5vdGhlcl9maWxlJywgJ2p1c3QgYW5vdGhlciBmaWxlJ10sXG4gICAgICAgICAgXSksXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdmaW5kIHRoZSBmaWxlIGlmIGdpdmVuIHRoZSBleGFjdCBkaXJlY3RvcnknLCAoKSA9PiB7XG4gICAgICB3YWl0c0ZvclByb21pc2UoYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBmb3VuZFBhdGggPSBhd2FpdCBmc1Byb21pc2UuZmluZE5lYXJlc3RGaWxlKFxuICAgICAgICAgICcuc29tZV9maWxlJyxcbiAgICAgICAgICBkaXJQYXRoLFxuICAgICAgICApO1xuICAgICAgICBleHBlY3QoZm91bmRQYXRoKS50b0JlKGRpclBhdGgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnZmluZCB0aGUgZmlsZSBpZiBnaXZlbiBhIG5lc3RlZCBkaXJlY3RvcnknLCAoKSA9PiB7XG4gICAgICB3YWl0c0ZvclByb21pc2UoYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBmb3VuZFBhdGggPSBhd2FpdCBmc1Byb21pc2UuZmluZE5lYXJlc3RGaWxlKFxuICAgICAgICAgICcuc29tZV9maWxlJyxcbiAgICAgICAgICBudWNsaWRlVXJpLmpvaW4oZGlyUGF0aCwgJ25lc3RlZF9kaXInKSxcbiAgICAgICAgKTtcbiAgICAgICAgZXhwZWN0KGZvdW5kUGF0aCkudG9CZShkaXJQYXRoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ2RvZXMgbm90IGZpbmQgdGhlIGZpbGUgaWYgbm90IGV4aXN0aW5nJywgKCkgPT4ge1xuICAgICAgd2FpdHNGb3JQcm9taXNlKGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgZm91bmRQYXRoID0gYXdhaXQgZnNQcm9taXNlLmZpbmROZWFyZXN0RmlsZShcbiAgICAgICAgICAnbm9uLWV4aXN0ZW50LnR4dCcsXG4gICAgICAgICAgbnVjbGlkZVVyaS5qb2luKGRpclBhdGgsICduZXN0ZWRfZGlyJyksXG4gICAgICAgICk7XG4gICAgICAgIGV4cGVjdChmb3VuZFBhdGgpLnRvQmUobnVsbCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2ZpbmRGdXJ0aGVzdEZpbGUoKScsICgpID0+IHtcbiAgICBsZXQgZGlyUGF0aDogc3RyaW5nID0gKG51bGw6IGFueSk7XG5cbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgIHdhaXRzRm9yUHJvbWlzZShhc3luYyAoKSA9PiB7XG4gICAgICAgIGRpclBhdGggPSBhd2FpdCBnZW5lcmF0ZUZpeHR1cmUoXG4gICAgICAgICAgJ2Z1cnRoZXN0X3Rlc3QnLFxuICAgICAgICAgIG5ldyBNYXAoW1xuICAgICAgICAgICAgWycwLy5zb21lX2ZpbGUnLCAnanVzdCBhIGZpbGUnXSxcbiAgICAgICAgICAgIFsnMC8xLy5zb21lX2ZpbGUnLCAnanVzdCBiIGZpbGUnXSxcbiAgICAgICAgICAgIC8vIFNraXAgb25lIGZpbGUgdG8gdGVzdCBjb25zZWN1dGl2ZSB2cyBub24tY29uc2VjdXRpdmUuXG4gICAgICAgICAgICAvLyBbJzAvMS8yJywgJ2p1c3QgYyBmaWxlJ10sXG4gICAgICAgICAgICBbJzAvMS8yLzMvLnNvbWVfZmlsZScsICdqdXN0IGQgZmlsZSddLFxuICAgICAgICAgICAgWycwLzEvMi8zLzQvLnNvbWVfZmlsZScsICdqdXN0IGYgZmlsZSddLFxuICAgICAgICAgIF0pLFxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnZmluZCB0aGUgZmlsZSBpZiBnaXZlbiB0aGUgZXhhY3QgZGlyZWN0b3J5JywgKCkgPT4ge1xuICAgICAgd2FpdHNGb3JQcm9taXNlKGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgZXhwZWN0ZWRQYXRoID0gbnVjbGlkZVVyaS5qb2luKGRpclBhdGgsICcwJyk7XG4gICAgICAgIGNvbnN0IGZvdW5kUGF0aCA9IGF3YWl0IGZzUHJvbWlzZS5maW5kRnVydGhlc3RGaWxlKFxuICAgICAgICAgICcuc29tZV9maWxlJyxcbiAgICAgICAgICBleHBlY3RlZFBhdGgsXG4gICAgICAgICk7XG4gICAgICAgIGV4cGVjdChmb3VuZFBhdGgpLnRvQmUoZXhwZWN0ZWRQYXRoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ2ZpbmRzIHRoZSBmdXJ0aGVzdCBmaWxlIGlmIGdpdmVuIGEgbmVzdGVkIGRpcmVjdG9yeScsICgpID0+IHtcbiAgICAgIHdhaXRzRm9yUHJvbWlzZShhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGV4cGVjdGVkUGF0aCA9IG51Y2xpZGVVcmkuam9pbihkaXJQYXRoLCAnMCcpO1xuICAgICAgICBjb25zdCBzdGFydFBhdGggPSBudWNsaWRlVXJpLmpvaW4oZGlyUGF0aCwgJzAvMS8yLzMvNCcpO1xuICAgICAgICBjb25zdCBmb3VuZFBhdGggPSBhd2FpdCBmc1Byb21pc2UuZmluZEZ1cnRoZXN0RmlsZShcbiAgICAgICAgICAnLnNvbWVfZmlsZScsXG4gICAgICAgICAgc3RhcnRQYXRoLFxuICAgICAgICApO1xuICAgICAgICBleHBlY3QoZm91bmRQYXRoKS50b0JlKGV4cGVjdGVkUGF0aCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCd0ZXJtaW5hdGVzIHNlYXJjaCBhcyBzb29uIGFzIGZpbGUgaXMgbm90IGZvdW5kIGlmIGdpdmVuIHRoZSBzdG9wT25NaXNzaW5nIGZsYWcnLCAoKSA9PiB7XG4gICAgICB3YWl0c0ZvclByb21pc2UoYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBleHBlY3RlZFBhdGggPSBudWNsaWRlVXJpLmpvaW4oZGlyUGF0aCwgJzAvMS8yLzMnKTtcbiAgICAgICAgY29uc3Qgc3RhcnRQYXRoID0gbnVjbGlkZVVyaS5qb2luKGRpclBhdGgsICcwLzEvMi8zLzQnKTtcbiAgICAgICAgY29uc3QgZm91bmRQYXRoID0gYXdhaXQgZnNQcm9taXNlLmZpbmRGdXJ0aGVzdEZpbGUoXG4gICAgICAgICAgJy5zb21lX2ZpbGUnLFxuICAgICAgICAgIHN0YXJ0UGF0aCxcbiAgICAgICAgICB0cnVlIC8qIHN0b3BPbk1pc3NpbmcgKi8sXG4gICAgICAgICk7XG4gICAgICAgIGV4cGVjdChmb3VuZFBhdGgpLnRvQmUoZXhwZWN0ZWRQYXRoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ2RvZXMgbm90IGZpbmQgdGhlIGZpbGUgaWYgbm90IGV4aXN0aW5nJywgKCkgPT4ge1xuICAgICAgd2FpdHNGb3JQcm9taXNlKGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3Qgc3RhcnRQYXRoID0gbnVjbGlkZVVyaS5qb2luKGRpclBhdGgsICcwLzEvMi8zLzQnKTtcbiAgICAgICAgY29uc3QgZm91bmRQYXRoID0gYXdhaXQgZnNQcm9taXNlLmZpbmRGdXJ0aGVzdEZpbGUoXG4gICAgICAgICAgJ25vbi1leGlzdGVudC50eHQnLFxuICAgICAgICAgIHN0YXJ0UGF0aCxcbiAgICAgICAgKTtcbiAgICAgICAgZXhwZWN0KGZvdW5kUGF0aCkudG9CZShudWxsKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnZ2V0Q29tbW9uQW5jZXN0b3JEaXJlY3RvcnknLCAoKSA9PiB7XG4gICAgaXQoJ2dldHMgdGhlIHBhcmVudCBkaXJlY3RvcnknLCAoKSA9PiB7XG4gICAgICBleHBlY3QoXG4gICAgICAgIGZzUHJvbWlzZS5nZXRDb21tb25BbmNlc3RvckRpcmVjdG9yeShbXG4gICAgICAgICAgJy9mb28vYmFyLnR4dCcsXG4gICAgICAgICAgJy9mb28vYmF6L2xvbC50eHQnLFxuICAgICAgICBdKSxcbiAgICAgICkudG9CZSgnL2ZvbycpO1xuICAgICAgZXhwZWN0KFxuICAgICAgICBmc1Byb21pc2UuZ2V0Q29tbW9uQW5jZXN0b3JEaXJlY3RvcnkoW1xuICAgICAgICAgICcvZm9vL2Jhci9hYmMvZGVmL2FiYy50eHQnLFxuICAgICAgICAgICcvZm9vL2Jhci9sb2wudHh0JyxcbiAgICAgICAgXSksXG4gICAgICApLnRvQmUoJy9mb28vYmFyJyk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXX0=